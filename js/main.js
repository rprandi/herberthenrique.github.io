function graphsFn(){for(var t="#1fb29b",e=document.getElementsByClassName("graph-progress"),n=e.length-1;n>=0;n--){var i=e[n],r=new ProgressBar.Circle(i,{color:"#aaa",strokeWidth:20,trailWidth:1,easing:"easeInOut",duration:1400,text:{autoStyleContainer:!1},from:{color:t,width:4},to:{color:t,width:4},step:function(t,e){e.path.setAttribute("stroke",t.color),e.path.setAttribute("stroke-width",t.width);var n=Math.round(100*e.value());0===n?e.setText(""):e.setText(n+"%")}});r.text.style.fontSize="2rem";var o=i.getAttribute("data-percent");r.animate(o/100)}}function activateGraph(){window.setTimeout(function(){var t=document.getElementsByClassName("graph-progress");return isScrolledIntoView(t[0])?graphsFn():void activateGraph()},500)}function ready(t){"loading"!=document.readyState?t():document.addEventListener("DOMContentLoaded",t)}function isScrolledIntoView(t){var e=t.getBoundingClientRect().top,n=t.getBoundingClientRect().bottom,i=e>=0&&n<=window.innerHeight;return i}window.bringIntoView_started=0,window.bringIntoView_ends=0,window.bringIntoView_y=0,window.bringIntoView_tick=function(){var t,e,n,i,r;i=Date.now(),i<window.bringIntoView_ends?(e=i-window.bringIntoView_started,n=window.bringIntoView_ends-window.bringIntoView_started,t=window.bringIntoView_y-document.body.scrollTop,r=t*(e/n),document.body.scrollTop+=r,window.requestAnimationFrame(window.bringIntoView_tick)):document.body.scrollTop=window.bringIntoView_y},window.bringIntoView=function(t,e){window.bringIntoView_started=Date.now(),window.bringIntoView_ends=window.bringIntoView_started+e,window.bringIntoView_y=Math.min(document.body.scrollTop+t.getBoundingClientRect().top,document.body.scrollHeight-window.innerHeight),window.requestAnimationFrame(window.bringIntoView_tick)},function(){function t(){n.classList.contains("show-menu")?n.classList.remove("show-menu"):n.classList.add("show-menu")}for(var e=document.querySelectorAll(".toggle-menu"),n=document.querySelector(".wrapper"),i=0;i<e.length;i++)e[i].addEventListener("click",t);document.addEventListener("keyup",function(e){27==e.keyCode&&n.classList.contains("show-menu")&&t()})}(),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.ProgressBar=t()}}(function(){var t;return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,n,i){(function(){var e=this||Function("return this")(),r=function(){"use strict";function r(){}function o(t,e){var n;for(n in t)Object.hasOwnProperty.call(t,n)&&e(n)}function s(t,e){return o(e,function(n){t[n]=e[n]}),t}function a(t,e){o(e,function(n){"undefined"==typeof t[n]&&(t[n]=e[n])})}function u(t,e,n,i,r,o,s){var a,u,c,p=t<o?0:(t-o)/r;for(a in e)e.hasOwnProperty(a)&&(u=s[a],c="function"==typeof u?u:d[u],e[a]=h(n[a],i[a],c,p));return e}function h(t,e,n,i){return t+(e-t)*n(i)}function c(t,e){var n=f.prototype.filter,i=t._filterArgs;o(n,function(r){"undefined"!=typeof n[r][e]&&n[r][e].apply(t,i)})}function p(t,e,n,i,r,o,s,a,h,p,l){b=e+n+i,S=Math.min(l||v(),b),x=S>=b,C=i-(b-S),t.isPlaying()&&(x?(h(s,t._attachment,C),t.stop(!0)):(t._scheduleId=p(t._timeoutHandler,m),c(t,"beforeTween"),S<e+n?u(1,r,o,s,1,1,a):u(S,r,o,s,i,e+n,a),c(t,"afterTween"),h(r,t._attachment,C)))}function l(t,e){var n={},i=typeof e;return"string"===i||"function"===i?o(t,function(t){n[t]=e}):o(t,function(t){n[t]||(n[t]=e[t]||g)}),n}function f(t,e){this._currentState=t||{},this._configured=!1,this._scheduleFunction=w,"undefined"!=typeof e&&this.setConfig(e)}var d,w,g="linear",_=500,m=1e3/60,y=Date.now?Date.now:function(){return+new Date},v="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:y;w="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var b,S,x,C;return f.prototype.tween=function(t){return this._isTweening?this:(void 0===t&&this._configured||this.setConfig(t),this._timestamp=v(),this._start(this.get(),this._attachment),this.resume())},f.prototype.setConfig=function(t){t=t||{},this._configured=!0,this._attachment=t.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=t.delay||0,this._start=t.start||r,this._step=t.step||r,this._finish=t.finish||r,this._duration=t.duration||_,this._currentState=s({},t.from)||this.get(),this._originalState=this.get(),this._targetState=s({},t.to)||this.get();var e=this;this._timeoutHandler=function(){p(e,e._timestamp,e._delay,e._duration,e._currentState,e._originalState,e._targetState,e._easing,e._step,e._scheduleFunction)};var n=this._currentState,i=this._targetState;return a(i,n),this._easing=l(n,t.easing||g),this._filterArgs=[n,this._originalState,i,this._easing],c(this,"tweenCreated"),this},f.prototype.get=function(){return s({},this._currentState)},f.prototype.set=function(t){this._currentState=t},f.prototype.pause=function(){return this._pausedAtTime=v(),this._isPaused=!0,this},f.prototype.resume=function(){return this._isPaused&&(this._timestamp+=v()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},f.prototype.seek=function(t){t=Math.max(t,0);var e=v();return this._timestamp+t===0?this:(this._timestamp=e-t,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,p(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,e),this.pause()),this)},f.prototype.stop=function(t){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=r,(e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||e.mozCancelRequestAnimationFrame||e.clearTimeout)(this._scheduleId),t&&(c(this,"beforeTween"),u(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),c(this,"afterTween"),c(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},f.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},f.prototype.setScheduleFunction=function(t){this._scheduleFunction=t},f.prototype.dispose=function(){var t;for(t in this)this.hasOwnProperty(t)&&delete this[t]},f.prototype.filter={},f.prototype.formula={linear:function(t){return t}},d=f.prototype.formula,s(f,{now:v,each:o,tweenProps:u,tweenProp:h,applyFilter:c,shallowCopy:s,defaults:a,composeEasingObject:l}),"function"==typeof SHIFTY_DEBUG_NOW&&(e.timeoutHandler=p),"object"==typeof i?n.exports=f:"function"==typeof t&&t.amd?t(function(){return f}):"undefined"==typeof e.Tweenable&&(e.Tweenable=f),f}();!function(){r.shallowCopy(r.prototype.formula,{easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInQuint:function(t){return Math.pow(t,5)},easeOutQuint:function(t){return Math.pow(t-1,5)+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInSine:function(t){return-Math.cos(t*(Math.PI/2))+1},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:-Math.pow(2,-10*t)+1},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},swingFromTo:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},swingFrom:function(t){var e=1.70158;return t*t*((e+1)*t-e)},swingTo:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},bounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bouncePast:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},easeFromTo:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeFrom:function(t){return Math.pow(t,4)},easeTo:function(t){return Math.pow(t,.25)}})}(),function(){function t(t,e,n,i,r,o){function s(t){return((f*t+d)*t+w)*t}function a(t){return((g*t+_)*t+m)*t}function u(t){return(3*f*t+2*d)*t+w}function h(t){return 1/(200*t)}function c(t,e){return a(l(t,e))}function p(t){return t>=0?t:0-t}function l(t,e){var n,i,r,o,a,h;for(r=t,h=0;h<8;h++){if(o=s(r)-t,p(o)<e)return r;if(a=u(r),p(a)<1e-6)break;r-=o/a}if(n=0,i=1,r=t,r<n)return n;if(r>i)return i;for(;n<i;){if(o=s(r),p(o-t)<e)return r;t>o?n=r:i=r,r=.5*(i-n)+n}return r}var f=0,d=0,w=0,g=0,_=0,m=0;return w=3*e,d=3*(i-e)-w,f=1-w-d,m=3*n,_=3*(r-n)-m,g=1-m-_,c(t,h(o))}function e(e,n,i,r){return function(o){return t(o,e,n,i,r,1)}}r.setBezierFunction=function(t,n,i,o,s){var a=e(n,i,o,s);return a.displayName=t,a.x1=n,a.y1=i,a.x2=o,a.y2=s,r.prototype.formula[t]=a},r.unsetBezierFunction=function(t){delete r.prototype.formula[t]}}(),function(){function t(t,e,n,i,o,s){return r.tweenProps(i,e,t,n,1,s,o)}var e=new r;e._filterArgs=[],r.interpolate=function(n,i,o,s,a){var u=r.shallowCopy({},n),h=a||0,c=r.composeEasingObject(n,s||"linear");e.set({});var p=e._filterArgs;p.length=0,p[0]=u,p[1]=n,p[2]=i,p[3]=c,r.applyFilter(e,"tweenCreated"),r.applyFilter(e,"beforeTween");var l=t(n,u,i,o,c,h);return r.applyFilter(e,"afterTween"),l}}(),function(t){function e(t,e){var n,i=[],r=t.length;for(n=0;n<r;n++)i.push("_"+e+"_"+n);return i}function n(t){var e=t.match(b);return e?(1===e.length||t[0].match(v))&&e.unshift(""):e=["",""],e.join(O)}function i(e){t.each(e,function(t){var n=e[t];"string"==typeof n&&n.match(T)&&(e[t]=r(n))})}function r(t){return u(T,t,o)}function o(t){var e=s(t);return"rgb("+e[0]+","+e[1]+","+e[2]+")"}function s(t){return t=t.replace(/#/,""),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),I[0]=a(t.substr(0,2)),I[1]=a(t.substr(2,2)),I[2]=a(t.substr(4,2)),I}function a(t){return parseInt(t,16)}function u(t,e,n){var i=e.match(t),r=e.replace(t,O);if(i)for(var o,s=i.length,a=0;a<s;a++)o=i.shift(),r=r.replace(O,n(o));return r}function h(t){return u(x,t,c)}function c(t){for(var e=t.match(S),n=e.length,i=t.match(C)[0],r=0;r<n;r++)i+=parseInt(e[r],10)+",";return i=i.slice(0,-1)+")"}function p(i){var r={};return t.each(i,function(t){var o=i[t];if("string"==typeof o){var s=_(o);r[t]={formatString:n(o),chunkNames:e(s,t)}}}),r}function l(e,n){t.each(n,function(t){for(var i=e[t],r=_(i),o=r.length,s=0;s<o;s++)e[n[t].chunkNames[s]]=+r[s];delete e[t]})}function f(e,n){t.each(n,function(t){var i=e[t],r=d(e,n[t].chunkNames),o=w(r,n[t].chunkNames);i=g(n[t].formatString,o),e[t]=h(i)})}function d(t,e){for(var n,i={},r=e.length,o=0;o<r;o++)n=e[o],i[n]=t[n],delete t[n];return i}function w(t,e){k.length=0;for(var n=e.length,i=0;i<n;i++)k.push(t[e[i]]);return k}function g(t,e){for(var n=t,i=e.length,r=0;r<i;r++)n=n.replace(O,+e[r].toFixed(4));return n}function _(t){return t.match(S)}function m(e,n){t.each(n,function(t){var i,r=n[t],o=r.chunkNames,s=o.length,a=e[t];if("string"==typeof a){var u=a.split(" "),h=u[u.length-1];for(i=0;i<s;i++)e[o[i]]=u[i]||h}else for(i=0;i<s;i++)e[o[i]]=a;delete e[t]})}function y(e,n){t.each(n,function(t){var i=n[t],r=i.chunkNames,o=r.length,s=e[r[0]],a=typeof s;if("string"===a){for(var u="",h=0;h<o;h++)u+=" "+e[r[h]],delete e[r[h]];e[t]=u.substr(1)}else e[t]=s})}var v=/(\d|\-|\.)/,b=/([^\-0-9\.]+)/g,S=/[0-9.\-]+/g,x=new RegExp("rgb\\("+S.source+/,\s*/.source+S.source+/,\s*/.source+S.source+"\\)","g"),C=/^.*\(/,T=/#([0-9]|[a-f]){3,6}/gi,O="VAL",I=[],k=[];t.prototype.filter.token={tweenCreated:function(t,e,n,r){i(t),i(e),i(n),this._tokenData=p(t)},beforeTween:function(t,e,n,i){m(i,this._tokenData),l(t,this._tokenData),l(e,this._tokenData),l(n,this._tokenData)},afterTween:function(t,e,n,i){f(t,this._tokenData),f(e,this._tokenData),f(n,this._tokenData),y(i,this._tokenData)}}}(r)}).call(null)},{}],2:[function(t,e,n){var i=t("./shape"),r=t("./utils"),o=function(t,e){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,i.apply(this,arguments)};o.prototype=new i,o.prototype.constructor=o,o.prototype._pathString=function(t){var e=t.strokeWidth;t.trailWidth&&t.trailWidth>t.strokeWidth&&(e=t.trailWidth);var n=50-e/2;return r.render(this._pathTemplate,{radius:n,"2radius":2*n})},o.prototype._trailString=function(t){return this._pathString(t)},e.exports=o},{"./shape":7,"./utils":8}],3:[function(t,e,n){var i=t("./shape"),r=t("./utils"),o=function(t,e){this._pathTemplate="M 0,{center} L 100,{center}",i.apply(this,arguments)};o.prototype=new i,o.prototype.constructor=o,o.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 "+e.strokeWidth),t.setAttribute("preserveAspectRatio","none")},o.prototype._pathString=function(t){return r.render(this._pathTemplate,{center:t.strokeWidth/2})},o.prototype._trailString=function(t){return this._pathString(t)},e.exports=o},{"./shape":7,"./utils":8}],4:[function(t,e,n){e.exports={Line:t("./line"),Circle:t("./circle"),SemiCircle:t("./semicircle"),Path:t("./path"),Shape:t("./shape"),utils:t("./utils")}},{"./circle":2,"./line":3,"./path":5,"./semicircle":6,"./shape":7,"./utils":8}],5:[function(t,e,n){var i=t("shifty"),r=t("./utils"),o={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},s=function a(t,e){if(!(this instanceof a))throw new Error("Constructor was called without new keyword");e=r.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},e);var n;n=r.isString(t)?document.querySelector(t):t,this.path=n,this._opts=e,this._tweenable=null;var i=this.path.getTotalLength();this.path.style.strokeDasharray=i+" "+i,this.set(0)};s.prototype.value=function(){var t=this._getComputedDashOffset(),e=this.path.getTotalLength(),n=1-t/e;return parseFloat(n.toFixed(6),10)},s.prototype.set=function(t){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(t);var e=this._opts.step;if(r.isFunction(e)){var n=this._easing(this._opts.easing),i=this._calculateTo(t,n),o=this._opts.shape||this;e(i,o,this._opts.attachment)}},s.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},s.prototype.animate=function(t,e,n){e=e||{},r.isFunction(e)&&(n=e,e={});var o=r.extend({},e),s=r.extend({},this._opts);e=r.extend(s,e);var a=this._easing(e.easing),u=this._resolveFromAndTo(t,a,o);this.stop(),this.path.getBoundingClientRect();var h=this._getComputedDashOffset(),c=this._progressToOffset(t),p=this;this._tweenable=new i,this._tweenable.tween({from:r.extend({offset:h},u.from),to:r.extend({offset:c},u.to),duration:e.duration,easing:a,step:function(t){p.path.style.strokeDashoffset=t.offset;var n=e.shape||p;e.step(t,n,e.attachment)},finish:function(t){r.isFunction(n)&&n()}})},s.prototype._getComputedDashOffset=function(){var t=window.getComputedStyle(this.path,null);return parseFloat(t.getPropertyValue("stroke-dashoffset"),10)},s.prototype._progressToOffset=function(t){var e=this.path.getTotalLength();return e-t*e},s.prototype._resolveFromAndTo=function(t,e,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(e),to:this._calculateTo(t,e)}},s.prototype._calculateFrom=function(t){return i.interpolate(this._opts.from,this._opts.to,this.value(),t)},s.prototype._calculateTo=function(t,e){return i.interpolate(this._opts.from,this._opts.to,t,e)},s.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},s.prototype._easing=function(t){return o.hasOwnProperty(t)?o[t]:t},e.exports=s},{"./utils":8,shifty:1}],6:[function(t,e,n){var i=t("./shape"),r=t("./circle"),o=t("./utils"),s=function(t,e){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,i.apply(this,arguments)};s.prototype=new i,s.prototype.constructor=s,s.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 50")},s.prototype._initializeTextContainer=function(t,e,n){t.text.style&&(n.style.top="auto",n.style.bottom="0",t.text.alignToBottom?o.setStyle(n,"transform","translate(-50%, 0)"):o.setStyle(n,"transform","translate(-50%, 50%)"))},s.prototype._pathString=r.prototype._pathString,s.prototype._trailString=r.prototype._trailString,e.exports=s},{"./circle":2,"./shape":7,"./utils":8}],7:[function(t,e,n){var i=t("./path"),r=t("./utils"),o="Object is destroyed",s=function a(t,e){if(!(this instanceof a))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=r.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},e,!0),r.isObject(e)&&void 0!==e.svgStyle&&(this._opts.svgStyle=e.svgStyle),r.isObject(e)&&r.isObject(e.text)&&void 0!==e.text.style&&(this._opts.text.style=e.text.style);var n,o=this._createSvgView(this._opts);if(n=r.isString(t)?document.querySelector(t):t,!n)throw new Error("Container does not exist: "+t);this._container=n,this._container.appendChild(o.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&r.setStyles(o.svg,this._opts.svgStyle),this.svg=o.svg,this.path=o.path,this.trail=o.trail,this.text=null;var s=r.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new i(o.path,s),r.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};s.prototype.animate=function(t,e,n){if(null===this._progressPath)throw new Error(o);this._progressPath.animate(t,e,n)},s.prototype.stop=function(){if(null===this._progressPath)throw new Error(o);void 0!==this._progressPath&&this._progressPath.stop()},s.prototype.destroy=function(){if(null===this._progressPath)throw new Error(o);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},s.prototype.set=function(t){if(null===this._progressPath)throw new Error(o);this._progressPath.set(t)},s.prototype.value=function(){if(null===this._progressPath)throw new Error(o);return void 0===this._progressPath?0:this._progressPath.value()},s.prototype.setText=function(t){if(null===this._progressPath)throw new Error(o);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),r.isObject(t)?(r.removeChildren(this.text),this.text.appendChild(t)):this.text.innerHTML=t},s.prototype._createSvgView=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(e,t);var n=null;(t.trailColor||t.trailWidth)&&(n=this._createTrail(t),e.appendChild(n));var i=this._createPath(t);return e.appendChild(i),{svg:e,path:i,trail:n}},s.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 100")},s.prototype._createPath=function(t){var e=this._pathString(t);return this._createPathElement(e,t)},s.prototype._createTrail=function(t){var e=this._trailString(t),n=r.extend({},t);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(e,n)},s.prototype._createPathElement=function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n.setAttribute("stroke",e.color),n.setAttribute("stroke-width",e.strokeWidth),e.fill?n.setAttribute("fill",e.fill):n.setAttribute("fill-opacity","0"),n},s.prototype._createTextContainer=function(t,e){var n=document.createElement("div");n.className=t.text.className;var i=t.text.style;return i&&(t.text.autoStyleContainer&&(e.style.position="relative"),r.setStyles(n,i),i.color||(n.style.color=t.color)),this._initializeTextContainer(t,e,n),n},s.prototype._initializeTextContainer=function(t,e,n){},s.prototype._pathString=function(t){throw new Error("Override this function for each progress bar")},s.prototype._trailString=function(t){throw new Error("Override this function for each progress bar")},s.prototype._warnContainerAspectRatio=function(t){if(this.containerAspectRatio){var e=window.getComputedStyle(t,null),n=parseFloat(e.getPropertyValue("width"),10),i=parseFloat(e.getPropertyValue("height"),10);r.floatEquals(this.containerAspectRatio,n/i)||(console.warn("Incorrect aspect ratio of container","#"+t.id,"detected:",e.getPropertyValue("width")+"(width)","/",e.getPropertyValue("height")+"(height)","=",n/i),console.warn("Aspect ratio of should be",this.containerAspectRatio))}},e.exports=s},{"./path":5,"./utils":8}],8:[function(t,e,n){function i(t,e,n){t=t||{},e=e||{},n=n||!1;for(var r in e)if(e.hasOwnProperty(r)){var o=t[r],s=e[r];n&&p(o)&&p(s)?t[r]=i(o,s,n):t[r]=s}return t}function r(t,e){var n=t;for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],o="\\{"+i+"\\}",s=new RegExp(o,"g");n=n.replace(s,r)}return n}function o(t,e,n){for(var i=t.style,r=0;r<w.length;++r){var o=w[r];i[o+a(e)]=n}i[e]=n}function s(t,e){l(e,function(e,n){null!==e&&void 0!==e&&(p(e)&&e.prefix===!0?o(t,n,e.value):t.style[n]=e)})}function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}function u(t){return"string"==typeof t||t instanceof String}function h(t){return"function"==typeof t}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function p(t){if(c(t))return!1;var e=typeof t;return"object"===e&&!!t}function l(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];e(i,n)}}function f(t,e){return Math.abs(t-e)<g}function d(t){for(;t.firstChild;)t.removeChild(t.firstChild)}var w="Webkit Moz O ms".split(" "),g=.001;e.exports={extend:i,render:r,setStyle:o,setStyles:s,capitalize:a,isString:u,isFunction:h,isObject:p,forEachObject:l,floatEquals:f,removeChildren:d}},{}]},{},[4])(4)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyYXBocy5qcyIsIm1haW4uanMiLCJtZW51LmpzIiwidmVuZG9yL3Byb2dyZXNzYmFyLmpzIl0sIm5hbWVzIjpbImdyYXBoc0ZuIiwiZ3JhcGhDb2xvciIsImdyYXBocyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImkiLCJsZW5ndGgiLCJncmFwaCIsImJhciIsIlByb2dyZXNzQmFyIiwiQ2lyY2xlIiwiY29sb3IiLCJzdHJva2VXaWR0aCIsInRyYWlsV2lkdGgiLCJlYXNpbmciLCJkdXJhdGlvbiIsInRleHQiLCJhdXRvU3R5bGVDb250YWluZXIiLCJmcm9tIiwid2lkdGgiLCJ0byIsInN0ZXAiLCJzdGF0ZSIsImNpcmNsZSIsInBhdGgiLCJzZXRBdHRyaWJ1dGUiLCJ2YWx1ZSIsIk1hdGgiLCJyb3VuZCIsInNldFRleHQiLCJzdHlsZSIsImZvbnRTaXplIiwicGVyY2VudCIsImdldEF0dHJpYnV0ZSIsImFuaW1hdGUiLCJhY3RpdmF0ZUdyYXBoIiwid2luZG93Iiwic2V0VGltZW91dCIsImlzU2Nyb2xsZWRJbnRvVmlldyIsInJlYWR5IiwiZm4iLCJyZWFkeVN0YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVsIiwiZWxlbVRvcCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImVsZW1Cb3R0b20iLCJib3R0b20iLCJpc1Zpc2libGUiLCJpbm5lckhlaWdodCIsImJyaW5nSW50b1ZpZXdfc3RhcnRlZCIsImJyaW5nSW50b1ZpZXdfZW5kcyIsImJyaW5nSW50b1ZpZXdfeSIsImJyaW5nSW50b1ZpZXdfdGljayIsImRpc3RhbmNlTGVmdCIsImR0IiwidCIsInRyYXZlbCIsIkRhdGUiLCJub3ciLCJib2R5Iiwic2Nyb2xsVG9wIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYnJpbmdJbnRvVmlldyIsImUiLCJtaW4iLCJzY3JvbGxIZWlnaHQiLCJtZW51QWN0aW9uIiwid3JhcHBlciIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiYWRkIiwidG9vZ2xlTWVudSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJxdWVyeVNlbGVjdG9yIiwia2V5Q29kZSIsImYiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwiZyIsImdsb2JhbCIsInNlbGYiLCJ0aGlzIiwibiIsInIiLCJzIiwibyIsInUiLCJhIiwicmVxdWlyZSIsIkVycm9yIiwiY29kZSIsImwiLCJjYWxsIiwiMSIsInJvb3QiLCJGdW5jdGlvbiIsIlR3ZWVuYWJsZSIsIm5vb3AiLCJlYWNoIiwib2JqIiwia2V5IiwiT2JqZWN0IiwiaGFzT3duUHJvcGVydHkiLCJzaGFsbG93Q29weSIsInRhcmdldE9iaiIsInNyY09iaiIsInByb3AiLCJkZWZhdWx0cyIsInRhcmdldCIsInNyYyIsInR3ZWVuUHJvcHMiLCJmb3JQb3NpdGlvbiIsImN1cnJlbnRTdGF0ZSIsIm9yaWdpbmFsU3RhdGUiLCJ0YXJnZXRTdGF0ZSIsInRpbWVzdGFtcCIsImVhc2luZ09iamVjdFByb3AiLCJlYXNpbmdGbiIsIm5vcm1hbGl6ZWRQb3NpdGlvbiIsImZvcm11bGEiLCJ0d2VlblByb3AiLCJzdGFydCIsImVuZCIsImVhc2luZ0Z1bmMiLCJwb3NpdGlvbiIsImFwcGx5RmlsdGVyIiwidHdlZW5hYmxlIiwiZmlsdGVyTmFtZSIsImZpbHRlcnMiLCJwcm90b3R5cGUiLCJmaWx0ZXIiLCJhcmdzIiwiX2ZpbHRlckFyZ3MiLCJuYW1lIiwiYXBwbHkiLCJ0aW1lb3V0SGFuZGxlciIsImRlbGF5Iiwic2NoZWR1bGUiLCJvcHRfY3VycmVudFRpbWVPdmVycmlkZSIsInRpbWVvdXRIYW5kbGVyX2VuZFRpbWUiLCJ0aW1lb3V0SGFuZGxlcl9jdXJyZW50VGltZSIsInRpbWVvdXRIYW5kbGVyX2lzRW5kZWQiLCJ0aW1lb3V0SGFuZGxlcl9vZmZzZXQiLCJpc1BsYXlpbmciLCJfYXR0YWNobWVudCIsInN0b3AiLCJfc2NoZWR1bGVJZCIsIl90aW1lb3V0SGFuZGxlciIsIlVQREFURV9USU1FIiwiY29tcG9zZUVhc2luZ09iamVjdCIsImZyb21Ud2VlblBhcmFtcyIsImNvbXBvc2VkRWFzaW5nIiwidHlwZW9mRWFzaW5nIiwiREVGQVVMVF9FQVNJTkciLCJvcHRfaW5pdGlhbFN0YXRlIiwib3B0X2NvbmZpZyIsIl9jdXJyZW50U3RhdGUiLCJfY29uZmlndXJlZCIsIl9zY2hlZHVsZUZ1bmN0aW9uIiwiREVGQVVMVF9TQ0hFRFVMRV9GVU5DVElPTiIsInNldENvbmZpZyIsIkRFRkFVTFRfRFVSQVRJT04iLCJfbm93IiwiU0hJRlRZX0RFQlVHX05PVyIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtc1JlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1vekNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsInR3ZWVuIiwiX2lzVHdlZW5pbmciLCJ1bmRlZmluZWQiLCJfdGltZXN0YW1wIiwiX3N0YXJ0IiwiZ2V0IiwicmVzdW1lIiwiY29uZmlnIiwiYXR0YWNobWVudCIsIl9wYXVzZWRBdFRpbWUiLCJfZGVsYXkiLCJfc3RlcCIsIl9maW5pc2giLCJmaW5pc2giLCJfZHVyYXRpb24iLCJfb3JpZ2luYWxTdGF0ZSIsIl90YXJnZXRTdGF0ZSIsIl9lYXNpbmciLCJzZXQiLCJwYXVzZSIsIl9pc1BhdXNlZCIsInNlZWsiLCJtaWxsaXNlY29uZCIsIm1heCIsImN1cnJlbnRUaW1lIiwiZ290b0VuZCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJvQ2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJtc0NhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJUaW1lb3V0Iiwic2V0U2NoZWR1bGVGdW5jdGlvbiIsInNjaGVkdWxlRnVuY3Rpb24iLCJkaXNwb3NlIiwibGluZWFyIiwicG9zIiwiZWFzZUluUXVhZCIsInBvdyIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlSW5RdWFydCIsImVhc2VPdXRRdWFydCIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQiLCJlYXNlSW5PdXRRdWludCIsImVhc2VJblNpbmUiLCJjb3MiLCJQSSIsImVhc2VPdXRTaW5lIiwic2luIiwiZWFzZUluT3V0U2luZSIsImVhc2VJbkV4cG8iLCJlYXNlT3V0RXhwbyIsImVhc2VJbk91dEV4cG8iLCJlYXNlSW5DaXJjIiwic3FydCIsImVhc2VPdXRDaXJjIiwiZWFzZUluT3V0Q2lyYyIsImVhc2VPdXRCb3VuY2UiLCJlYXNlSW5CYWNrIiwiZWFzZU91dEJhY2siLCJlYXNlSW5PdXRCYWNrIiwiZWxhc3RpYyIsInN3aW5nRnJvbVRvIiwic3dpbmdGcm9tIiwic3dpbmdUbyIsImJvdW5jZSIsImJvdW5jZVBhc3QiLCJlYXNlRnJvbVRvIiwiZWFzZUZyb20iLCJlYXNlVG8iLCJjdWJpY0JlemllckF0VGltZSIsInAxeCIsInAxeSIsInAyeCIsInAyeSIsInNhbXBsZUN1cnZlWCIsImF4IiwiYngiLCJjeCIsInNhbXBsZUN1cnZlWSIsImF5IiwiYnkiLCJjeSIsInNhbXBsZUN1cnZlRGVyaXZhdGl2ZVgiLCJzb2x2ZUVwc2lsb24iLCJzb2x2ZSIsIngiLCJlcHNpbG9uIiwic29sdmVDdXJ2ZVgiLCJmYWJzIiwidDAiLCJ0MSIsInQyIiwieDIiLCJkMiIsImdldEN1YmljQmV6aWVyVHJhbnNpdGlvbiIsIngxIiwieTEiLCJ5MiIsInNldEJlemllckZ1bmN0aW9uIiwiY3ViaWNCZXppZXJUcmFuc2l0aW9uIiwiZGlzcGxheU5hbWUiLCJ1bnNldEJlemllckZ1bmN0aW9uIiwiZ2V0SW50ZXJwb2xhdGVkVmFsdWVzIiwiY3VycmVudCIsIm1vY2tUd2VlbmFibGUiLCJpbnRlcnBvbGF0ZSIsIm9wdF9kZWxheSIsImVhc2luZ09iamVjdCIsImZpbHRlckFyZ3MiLCJpbnRlcnBvbGF0ZWRWYWx1ZXMiLCJnZXRGb3JtYXRDaHVua3NGcm9tIiwicmF3VmFsdWVzIiwicHJlZml4IiwiYWNjdW11bGF0b3IiLCJyYXdWYWx1ZXNMZW5ndGgiLCJwdXNoIiwiZ2V0Rm9ybWF0U3RyaW5nRnJvbSIsImZvcm1hdHRlZFN0cmluZyIsImNodW5rcyIsIm1hdGNoIiwiUl9GT1JNQVRfQ0hVTktTIiwiUl9OVU1CRVJfQ09NUE9ORU5UIiwidW5zaGlmdCIsImpvaW4iLCJWQUxVRV9QTEFDRUhPTERFUiIsInNhbml0aXplT2JqZWN0Rm9ySGV4UHJvcHMiLCJzdGF0ZU9iamVjdCIsImN1cnJlbnRQcm9wIiwiUl9IRVgiLCJzYW5pdGl6ZUhleENodW5rc1RvUkdCIiwic3RyIiwiZmlsdGVyU3RyaW5nQ2h1bmtzIiwiY29udmVydEhleFRvUkdCIiwiaGV4U3RyaW5nIiwicmdiQXJyIiwiaGV4VG9SR0JBcnJheSIsImhleCIsInJlcGxhY2UiLCJzcGxpdCIsImhleFRvUkdCQXJyYXlfcmV0dXJuQXJyYXkiLCJoZXhUb0RlYyIsInN1YnN0ciIsInBhcnNlSW50IiwicGF0dGVybiIsInVuZmlsdGVyZWRTdHJpbmciLCJwYXR0ZW5NYXRjaGVzIiwiZmlsdGVyZWRTdHJpbmciLCJjdXJyZW50Q2h1bmsiLCJwYXR0ZW5NYXRjaGVzTGVuZ3RoIiwic2hpZnQiLCJzYW5pdGl6ZVJHQkNodW5rcyIsIlJfUkdCIiwic2FuaXRpemVSR0JDaHVuayIsInJnYkNodW5rIiwibnVtYmVycyIsIlJfVU5GT1JNQVRURURfVkFMVUVTIiwibnVtYmVyc0xlbmd0aCIsInNhbml0aXplZFN0cmluZyIsIlJfUkdCX1BSRUZJWCIsInNsaWNlIiwiZ2V0Rm9ybWF0TWFuaWZlc3RzIiwibWFuaWZlc3RBY2N1bXVsYXRvciIsImdldFZhbHVlc0Zyb20iLCJmb3JtYXRTdHJpbmciLCJjaHVua05hbWVzIiwiZXhwYW5kRm9ybWF0dGVkUHJvcGVydGllcyIsImZvcm1hdE1hbmlmZXN0cyIsImNvbGxhcHNlRm9ybWF0dGVkUHJvcGVydGllcyIsImZvcm1hdENodW5rcyIsImV4dHJhY3RQcm9wZXJ0eUNodW5rcyIsInZhbHVlc0xpc3QiLCJnZXRWYWx1ZXNMaXN0IiwiZ2V0Rm9ybWF0dGVkVmFsdWVzIiwiY3VycmVudENodW5rTmFtZSIsImV4dHJhY3RlZFZhbHVlcyIsImNodW5rTmFtZXNMZW5ndGgiLCJnZXRWYWx1ZXNMaXN0X2FjY3VtdWxhdG9yIiwiZm9ybWF0dGVkVmFsdWVTdHJpbmciLCJ0b0ZpeGVkIiwiZXhwYW5kRWFzaW5nT2JqZWN0IiwidG9rZW5EYXRhIiwiY2h1bmtMZW5ndGgiLCJlYXNpbmdDaHVua3MiLCJsYXN0RWFzaW5nQ2h1bmsiLCJjb2xsYXBzZUVhc2luZ09iamVjdCIsImZpcnN0RWFzaW5nIiwidHlwZW9mRWFzaW5ncyIsImNvbXBvc2VkRWFzaW5nU3RyaW5nIiwiUmVnRXhwIiwic291cmNlIiwidG9rZW4iLCJ0d2VlbkNyZWF0ZWQiLCJmcm9tU3RhdGUiLCJ0b1N0YXRlIiwiX3Rva2VuRGF0YSIsImJlZm9yZVR3ZWVuIiwiYWZ0ZXJUd2VlbiIsIjIiLCJTaGFwZSIsInV0aWxzIiwiY29udGFpbmVyIiwib3B0aW9ucyIsIl9wYXRoVGVtcGxhdGUiLCJjb250YWluZXJBc3BlY3RSYXRpbyIsImFyZ3VtZW50cyIsImNvbnN0cnVjdG9yIiwiX3BhdGhTdHJpbmciLCJvcHRzIiwid2lkdGhPZldpZGVyIiwicmVuZGVyIiwicmFkaXVzIiwiMnJhZGl1cyIsIl90cmFpbFN0cmluZyIsIi4vc2hhcGUiLCIuL3V0aWxzIiwiMyIsIkxpbmUiLCJfaW5pdGlhbGl6ZVN2ZyIsInN2ZyIsImNlbnRlciIsIjQiLCJTZW1pQ2lyY2xlIiwiUGF0aCIsIi4vY2lyY2xlIiwiLi9saW5lIiwiLi9wYXRoIiwiLi9zZW1pY2lyY2xlIiwiNSIsIkVBU0lOR19BTElBU0VTIiwiZWFzZUluIiwiZWFzZU91dCIsImVhc2VJbk91dCIsImV4dGVuZCIsImVsZW1lbnQiLCJpc1N0cmluZyIsIl9vcHRzIiwiX3R3ZWVuYWJsZSIsImdldFRvdGFsTGVuZ3RoIiwic3Ryb2tlRGFzaGFycmF5Iiwib2Zmc2V0IiwiX2dldENvbXB1dGVkRGFzaE9mZnNldCIsInByb2dyZXNzIiwicGFyc2VGbG9hdCIsInN0cm9rZURhc2hvZmZzZXQiLCJfcHJvZ3Jlc3NUb09mZnNldCIsImlzRnVuY3Rpb24iLCJ2YWx1ZXMiLCJfY2FsY3VsYXRlVG8iLCJyZWZlcmVuY2UiLCJzaGFwZSIsIl9zdG9wVHdlZW4iLCJjYiIsInBhc3NlZE9wdHMiLCJkZWZhdWx0T3B0cyIsInNoaWZ0eUVhc2luZyIsIl9yZXNvbHZlRnJvbUFuZFRvIiwibmV3T2Zmc2V0IiwiY29tcHV0ZWRTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiX2NhbGN1bGF0ZUZyb20iLCJzaGlmdHkiLCI2IiwiX2luaXRpYWxpemVUZXh0Q29udGFpbmVyIiwidGV4dENvbnRhaW5lciIsImFsaWduVG9Cb3R0b20iLCJzZXRTdHlsZSIsIjciLCJERVNUUk9ZRURfRVJST1IiLCJ0cmFpbENvbG9yIiwiZmlsbCIsImxlZnQiLCJwYWRkaW5nIiwibWFyZ2luIiwidHJhbnNmb3JtIiwiY2xhc3NOYW1lIiwic3ZnU3R5bGUiLCJkaXNwbGF5Iiwid2FybmluZ3MiLCJpc09iamVjdCIsInN2Z1ZpZXciLCJfY3JlYXRlU3ZnVmlldyIsIl9jb250YWluZXIiLCJhcHBlbmRDaGlsZCIsIl93YXJuQ29udGFpbmVyQXNwZWN0UmF0aW8iLCJzZXRTdHlsZXMiLCJ0cmFpbCIsIm5ld09wdHMiLCJfcHJvZ3Jlc3NQYXRoIiwiZGVzdHJveSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIm5ld1RleHQiLCJfY3JlYXRlVGV4dENvbnRhaW5lciIsInJlbW92ZUNoaWxkcmVuIiwiaW5uZXJIVE1MIiwiY3JlYXRlRWxlbWVudE5TIiwidHJhaWxQYXRoIiwiX2NyZWF0ZVRyYWlsIiwiX2NyZWF0ZVBhdGgiLCJwYXRoU3RyaW5nIiwiX2NyZWF0ZVBhdGhFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInRleHRTdHlsZSIsImhlaWdodCIsImZsb2F0RXF1YWxzIiwiY29uc29sZSIsIndhcm4iLCJpZCIsIjgiLCJkZXN0aW5hdGlvbiIsInJlY3Vyc2l2ZSIsImF0dHJOYW1lIiwiZGVzdFZhbCIsInNvdXJjZVZhbCIsInRlbXBsYXRlIiwidmFycyIsInJlbmRlcmVkIiwidmFsIiwicmVnRXhwU3RyaW5nIiwicmVnRXhwIiwiZWxTdHlsZSIsIlBSRUZJWEVTIiwiY2FwaXRhbGl6ZSIsInN0eWxlcyIsImZvckVhY2hPYmplY3QiLCJzdHlsZVZhbHVlIiwic3R5bGVOYW1lIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJTdHJpbmciLCJpc0FycmF5IiwidG9TdHJpbmciLCJ0eXBlIiwib2JqZWN0IiwiY2FsbGJhY2siLCJiIiwiYWJzIiwiRkxPQVRfQ09NUEFSSVNPTl9FUFNJTE9OIiwiZmlyc3RDaGlsZCJdLCJtYXBwaW5ncyI6IkFBQUEsUUFBQUEsWUFHQSxJQUFBLEdBRkFDLEdBQUEsVUFDQUMsRUFBQUMsU0FBQUMsdUJBQUEsa0JBQ0FDLEVBQUFILEVBQUFJLE9BQUEsRUFBQUQsR0FBQSxFQUFBQSxJQUFBLENBQ0EsR0FBQUUsR0FBQUwsRUFBQUcsR0FDQUcsRUFBQSxHQUFBQyxhQUFBQyxPQUFBSCxHQUNBSSxNQUFBLE9BQ0FDLFlBQUEsR0FDQUMsV0FBQSxFQUNBQyxPQUFBLFlBQ0FDLFNBQUEsS0FDQUMsTUFDQUMsb0JBQUEsR0FFQUMsTUFBQVAsTUFBQVYsRUFBQWtCLE1BQUEsR0FDQUMsSUFBQVQsTUFBQVYsRUFBQWtCLE1BQUEsR0FFQUUsS0FBQSxTQUFBQyxFQUFBQyxHQUNBQSxFQUFBQyxLQUFBQyxhQUFBLFNBQUFILEVBQUFYLE9BQ0FZLEVBQUFDLEtBQUFDLGFBQUEsZUFBQUgsRUFBQUgsTUFFQSxJQUFBTyxHQUFBQyxLQUFBQyxNQUFBLElBQUFMLEVBQUFHLFFBQ0EsS0FBQUEsRUFDQUgsRUFBQU0sUUFBQSxJQUVBTixFQUFBTSxRQUFBSCxFQUFBLE9BS0FsQixHQUFBUSxLQUFBYyxNQUFBQyxTQUFBLE1B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LFNBQ0E2VSxPQUFBQSxFQUNBdkIsT0FBQUEsRUFDQXlELFNBQUFBLEVBQ0FtQixVQUFBQSxFQUNBc0MsV0FBQUEsRUFDQXpGLFNBQUFBLEVBQ0FXLFdBQUFBLEVBQ0FrQyxTQUFBQSxFQUNBOEMsY0FBQUEsRUFDQXBCLFlBQUFBLEVBQ0FYLGVBQUFBLGFBSUEsSUFBQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZ3JhcGhzRm4oKSB7XG4gIHZhciBncmFwaENvbG9yID0gJyMxZmIyOWInO1xuICB2YXIgZ3JhcGhzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZ3JhcGgtcHJvZ3Jlc3MnKTtcbiAgZm9yICh2YXIgaSA9IGdyYXBocy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHZhciBncmFwaCA9IGdyYXBoc1tpXTtcbiAgICB2YXIgYmFyID0gbmV3IFByb2dyZXNzQmFyLkNpcmNsZShncmFwaCwge1xuICAgICAgY29sb3I6ICcjYWFhJyxcbiAgICAgIHN0cm9rZVdpZHRoOiAyMCxcbiAgICAgIHRyYWlsV2lkdGg6IDEsXG4gICAgICBlYXNpbmc6ICdlYXNlSW5PdXQnLFxuICAgICAgZHVyYXRpb246IDE0MDAsXG4gICAgICB0ZXh0OiB7XG4gICAgICAgIGF1dG9TdHlsZUNvbnRhaW5lcjogZmFsc2VcbiAgICAgIH0sXG4gICAgICBmcm9tOiB7IGNvbG9yOiBncmFwaENvbG9yLCB3aWR0aDogNCB9LFxuICAgICAgdG86IHsgY29sb3I6IGdyYXBoQ29sb3IsIHdpZHRoOiA0IH0sXG4gICAgICAvLyBTZXQgZGVmYXVsdCBzdGVwIGZ1bmN0aW9uIGZvciBhbGwgYW5pbWF0ZSBjYWxsc1xuICAgICAgc3RlcDogZnVuY3Rpb24oc3RhdGUsIGNpcmNsZSkge1xuICAgICAgICBjaXJjbGUucGF0aC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsIHN0YXRlLmNvbG9yKTtcbiAgICAgICAgY2lyY2xlLnBhdGguc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCBzdGF0ZS53aWR0aCk7XG5cbiAgICAgICAgdmFyIHZhbHVlID0gTWF0aC5yb3VuZChjaXJjbGUudmFsdWUoKSAqIDEwMCk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gMCkge1xuICAgICAgICAgIGNpcmNsZS5zZXRUZXh0KCcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaXJjbGUuc2V0VGV4dCh2YWx1ZSArICclJyk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgIH0pO1xuICAgIGJhci50ZXh0LnN0eWxlLmZvbnRTaXplID0gJzJyZW0nO1xuICAgIHZhciBwZXJjZW50ID0gZ3JhcGguZ2V0QXR0cmlidXRlKCdkYXRhLXBlcmNlbnQnKTtcbiAgICBiYXIuYW5pbWF0ZShwZXJjZW50IC8gMTAwKTsgLy8gTnVtYmVyIGZyb20gMC4wIHRvIDEuMFxuICB9XG59XG5cbmZ1bmN0aW9uIGFjdGl2YXRlR3JhcGgoKSB7XG4gIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIHZhciBncmFwaHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdncmFwaC1wcm9ncmVzcycpO1xuICAgIGlmIChpc1Njcm9sbGVkSW50b1ZpZXcoZ3JhcGhzWzBdKSkge1xuICAgICAgcmV0dXJuIGdyYXBoc0ZuKCk7XG4gICAgfVxuICAgIGFjdGl2YXRlR3JhcGgoKTtcbiAgfSwgNTAwKTtcbn1cblxuXG4vLyByZWFkeShhY3RpdmF0ZUdyYXBoKTtcbiIsImZ1bmN0aW9uIHJlYWR5KGZuKSB7XG4gIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9ICdsb2FkaW5nJykge1xuICAgIGZuKCk7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZuKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1Njcm9sbGVkSW50b1ZpZXcoZWwpIHtcbiAgdmFyIGVsZW1Ub3AgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gIHZhciBlbGVtQm90dG9tID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO1xuXG4gIHZhciBpc1Zpc2libGUgPSAoZWxlbVRvcCA+PSAwKSAmJiAoZWxlbUJvdHRvbSA8PSB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICByZXR1cm4gaXNWaXNpYmxlO1xufVxuXG5cbndpbmRvdy5icmluZ0ludG9WaWV3X3N0YXJ0ZWQgPSAwO1xud2luZG93LmJyaW5nSW50b1ZpZXdfZW5kcyA9IDA7XG53aW5kb3cuYnJpbmdJbnRvVmlld195ID0gMDtcbndpbmRvdy5icmluZ0ludG9WaWV3X3RpY2sgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGRpc3RhbmNlTGVmdCwgZHQsIGR1cmF0aW9uLCB0LCB0cmF2ZWw7XG4gIHQgPSBEYXRlLm5vdygpO1xuICBpZiAodCA8IHdpbmRvdy5icmluZ0ludG9WaWV3X2VuZHMpIHtcbiAgICBkdCA9IHQgLSB3aW5kb3cuYnJpbmdJbnRvVmlld19zdGFydGVkO1xuICAgIGR1cmF0aW9uID0gd2luZG93LmJyaW5nSW50b1ZpZXdfZW5kcyAtIHdpbmRvdy5icmluZ0ludG9WaWV3X3N0YXJ0ZWQ7XG4gICAgZGlzdGFuY2VMZWZ0ID0gd2luZG93LmJyaW5nSW50b1ZpZXdfeSAtIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xuICAgICAgdHJhdmVsID0gZGlzdGFuY2VMZWZ0ICogKGR0IC8gZHVyYXRpb24pO1xuICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgKz0gdHJhdmVsO1xuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh3aW5kb3cuYnJpbmdJbnRvVmlld190aWNrKTtcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IHdpbmRvdy5icmluZ0ludG9WaWV3X3k7XG4gIH1cbn07XG53aW5kb3cuYnJpbmdJbnRvVmlldyA9IGZ1bmN0aW9uKGUsIGR1cmF0aW9uKSB7XG4gIHdpbmRvdy5icmluZ0ludG9WaWV3X3N0YXJ0ZWQgPSBEYXRlLm5vdygpO1xuICB3aW5kb3cuYnJpbmdJbnRvVmlld19lbmRzID0gd2luZG93LmJyaW5nSW50b1ZpZXdfc3RhcnRlZCArIGR1cmF0aW9uO1xuICB3aW5kb3cuYnJpbmdJbnRvVmlld195ID0gTWF0aC5taW4oZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgKyBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCwgZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHdpbmRvdy5icmluZ0ludG9WaWV3X3RpY2spO1xufTtcbiIsIihmdW5jdGlvbiBtZW51KCkge1xuICB2YXIgdG9vZ2xlTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b2dnbGUtbWVudScpLFxuICAgIHdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud3JhcHBlcicpO1xuXG4gIC8vIGNyaWFuZG8gZXZlbnRvIGRlIGNsaWNrIHBhcmEgYWJyaXIgbyBtZW51XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9vZ2xlTWVudS5sZW5ndGg7IGkrKykge1xuICAgIHRvb2dsZU1lbnVbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtZW51QWN0aW9uKTtcbiAgfVxuXG4gIC8vIGZ1bsOnw6NvIGF1eGlsaWFyIHF1ZSBhYnJlIGUgZmVjaGEgbyBtZW51XG4gIGZ1bmN0aW9uIG1lbnVBY3Rpb24oKSB7XG4gICAgaWYgKHdyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LW1lbnUnKSkge1xuICAgICAgd3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LW1lbnUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKCdzaG93LW1lbnUnKTtcbiAgICB9XG4gIH1cblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoZS5rZXlDb2RlID09IDI3KSB7XG4gICAgICBpZiAod3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctbWVudScpKSB7XG4gICAgICAgIG1lbnVBY3Rpb24oKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufSkoKTtcbiIsIi8vIFByb2dyZXNzQmFyLmpzIDEuMC4xXG4vLyBodHRwczovL2tpbW1vYnJ1bmZlbGR0LmdpdGh1Yi5pby9wcm9ncmVzc2Jhci5qc1xuLy8gTGljZW5zZTogTUlUXG5cbihmdW5jdGlvbihmKSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiKSB7IG1vZHVsZS5leHBvcnRzID0gZigpIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHsgZGVmaW5lKFtdLCBmKSB9IGVsc2Uge1xuICAgIHZhciBnO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7IGcgPSB3aW5kb3cgfSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKSB7IGcgPSBnbG9iYWwgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikgeyBnID0gc2VsZiB9IGVsc2UgeyBnID0gdGhpcyB9XG4gICAgZy5Qcm9ncmVzc0JhciA9IGYoKSB9IH0pKGZ1bmN0aW9uKCkge1xuICB2YXIgZGVmaW5lLCBtb2R1bGUsIGV4cG9ydHM7XG4gIHJldHVybiAoZnVuY3Rpb24gZSh0LCBuLCByKSB7XG4gICAgZnVuY3Rpb24gcyhvLCB1KSB7XG4gICAgICBpZiAoIW5bb10pIHtcbiAgICAgICAgaWYgKCF0W29dKSB7XG4gICAgICAgICAgdmFyIGEgPSB0eXBlb2YgcmVxdWlyZSA9PSBcImZ1bmN0aW9uXCIgJiYgcmVxdWlyZTtcbiAgICAgICAgICBpZiAoIXUgJiYgYSkgcmV0dXJuIGEobywgITApO1xuICAgICAgICAgIGlmIChpKSByZXR1cm4gaShvLCAhMCk7XG4gICAgICAgICAgdmFyIGYgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgbyArIFwiJ1wiKTtcbiAgICAgICAgICB0aHJvdyBmLmNvZGUgPSBcIk1PRFVMRV9OT1RfRk9VTkRcIiwgZiB9XG4gICAgICAgIHZhciBsID0gbltvXSA9IHsgZXhwb3J0czoge30gfTtcbiAgICAgICAgdFtvXVswXS5jYWxsKGwuZXhwb3J0cywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIHZhciBuID0gdFtvXVsxXVtlXTtcbiAgICAgICAgICByZXR1cm4gcyhuID8gbiA6IGUpIH0sIGwsIGwuZXhwb3J0cywgZSwgdCwgbiwgcikgfVxuICAgICAgcmV0dXJuIG5bb10uZXhwb3J0cyB9XG4gICAgdmFyIGkgPSB0eXBlb2YgcmVxdWlyZSA9PSBcImZ1bmN0aW9uXCIgJiYgcmVxdWlyZTtcbiAgICBmb3IgKHZhciBvID0gMDsgbyA8IHIubGVuZ3RoOyBvKyspIHMocltvXSk7XG4gICAgcmV0dXJuIHMgfSkoe1xuICAgIDE6IFtmdW5jdGlvbihyZXF1aXJlLCBtb2R1bGUsIGV4cG9ydHMpIHtcbiAgICAgIC8qIHNoaWZ0eSAtIHYxLjUuMiAtIDIwMTYtMDItMTAgLSBodHRwOi8vamVyZW15Y2thaG4uZ2l0aHViLmlvL3NoaWZ0eSAqL1xuICAgICAgO1xuICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcm9vdCA9IHRoaXMgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2hpZnR5IENvcmVcbiAgICAgICAgICogQnkgSmVyZW15IEthaG4gLSBqZXJlbXlja2FobkBnbWFpbC5jb21cbiAgICAgICAgICovXG5cbiAgICAgICAgdmFyIFR3ZWVuYWJsZSA9IChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgICAgIC8vIEFsaWFzZXMgdGhhdCBnZXQgZGVmaW5lZCBsYXRlciBpbiB0aGlzIGZ1bmN0aW9uXG4gICAgICAgICAgdmFyIGZvcm11bGE7XG5cbiAgICAgICAgICAvLyBDT05TVEFOVFNcbiAgICAgICAgICB2YXIgREVGQVVMVF9TQ0hFRFVMRV9GVU5DVElPTjtcbiAgICAgICAgICB2YXIgREVGQVVMVF9FQVNJTkcgPSAnbGluZWFyJztcbiAgICAgICAgICB2YXIgREVGQVVMVF9EVVJBVElPTiA9IDUwMDtcbiAgICAgICAgICB2YXIgVVBEQVRFX1RJTUUgPSAxMDAwIC8gNjA7XG5cbiAgICAgICAgICB2YXIgX25vdyA9IERhdGUubm93ID8gRGF0ZS5ub3cgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiArbmV3IERhdGUoKTsgfTtcblxuICAgICAgICAgIHZhciBub3cgPSB0eXBlb2YgU0hJRlRZX0RFQlVHX05PVyAhPT0gJ3VuZGVmaW5lZCcgPyBTSElGVFlfREVCVUdfTk9XIDogX25vdztcblxuICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCkgc2hpbSBieSBQYXVsIElyaXNoIChtb2RpZmllZCBmb3IgU2hpZnR5KVxuICAgICAgICAgICAgLy8gaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbiAgICAgICAgICAgIERFRkFVTFRfU0NIRURVTEVfRlVOQ1RJT04gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8ICh3aW5kb3cubW96Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lICYmIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHx8IHNldFRpbWVvdXQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIERFRkFVTFRfU0NIRURVTEVfRlVOQ1RJT04gPSBzZXRUaW1lb3V0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIG5vb3AoKSB7XG4gICAgICAgICAgICAvLyBOT09QIVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEhhbmR5IHNob3J0Y3V0IGZvciBkb2luZyBhIGZvci1pbiBsb29wLiBUaGlzIGlzIG5vdCBhIFwibm9ybWFsXCIgZWFjaFxuICAgICAgICAgICAqIGZ1bmN0aW9uLCBpdCBpcyBvcHRpbWl6ZWQgZm9yIFNoaWZ0eS4gIFRoZSBpdGVyYXRvciBmdW5jdGlvbiBvbmx5IHJlY2VpdmVzXG4gICAgICAgICAgICogdGhlIHByb3BlcnR5IG5hbWUsIG5vdCB0aGUgdmFsdWUuXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9ialxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb24oc3RyaW5nKX0gZm5cbiAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZ1bmN0aW9uIGVhY2gob2JqLCBmbikge1xuICAgICAgICAgICAgdmFyIGtleTtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgZm4oa2V5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFBlcmZvcm0gYSBzaGFsbG93IGNvcHkgb2YgT2JqZWN0IHByb3BlcnRpZXMuXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldE9iamVjdCBUaGUgb2JqZWN0IHRvIGNvcHkgaW50b1xuICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzcmNPYmplY3QgVGhlIG9iamVjdCB0byBjb3B5IGZyb21cbiAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEEgcmVmZXJlbmNlIHRvIHRoZSBhdWdtZW50ZWQgYHRhcmdldE9iamAgT2JqZWN0XG4gICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmdW5jdGlvbiBzaGFsbG93Q29weSh0YXJnZXRPYmosIHNyY09iaikge1xuICAgICAgICAgICAgZWFjaChzcmNPYmosIGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgICAgICAgdGFyZ2V0T2JqW3Byb3BdID0gc3JjT2JqW3Byb3BdO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRPYmo7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQ29waWVzIGVhY2ggcHJvcGVydHkgZnJvbSBzcmMgb250byB0YXJnZXQsIGJ1dCBvbmx5IGlmIHRoZSBwcm9wZXJ0eSB0b1xuICAgICAgICAgICAqIGNvcHkgdG8gdGFyZ2V0IGlzIHVuZGVmaW5lZC5cbiAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IE1pc3NpbmcgcHJvcGVydGllcyBpbiB0aGlzIE9iamVjdCBhcmUgZmlsbGVkIGluXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHNyY1xuICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICovXG4gICAgICAgICAgZnVuY3Rpb24gZGVmYXVsdHModGFyZ2V0LCBzcmMpIHtcbiAgICAgICAgICAgIGVhY2goc3JjLCBmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0W3Byb3BdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNyY1twcm9wXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQ2FsY3VsYXRlcyB0aGUgaW50ZXJwb2xhdGVkIHR3ZWVuIHZhbHVlcyBvZiBhbiBPYmplY3QgZm9yIGEgZ2l2ZW5cbiAgICAgICAgICAgKiB0aW1lc3RhbXAuXG4gICAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGZvclBvc2l0aW9uIFRoZSBwb3NpdGlvbiB0byBjb21wdXRlIHRoZSBzdGF0ZSBmb3IuXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGN1cnJlbnRTdGF0ZSBDdXJyZW50IHN0YXRlIHByb3BlcnRpZXMuXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9yaWdpbmFsU3RhdGU6IFRoZSBvcmlnaW5hbCBzdGF0ZSBwcm9wZXJ0aWVzIHRoZSBPYmplY3QgaXNcbiAgICAgICAgICAgKiB0d2VlbmluZyBmcm9tLlxuICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRTdGF0ZTogVGhlIGRlc3RpbmF0aW9uIHN0YXRlIHByb3BlcnRpZXMgdGhlIE9iamVjdFxuICAgICAgICAgICAqIGlzIHR3ZWVuaW5nIHRvLlxuICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbjogVGhlIGxlbmd0aCBvZiB0aGUgdHdlZW4gaW4gbWlsbGlzZWNvbmRzLlxuICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lc3RhbXA6IFRoZSBVTklYIGVwb2NoIHRpbWUgYXQgd2hpY2ggdGhlIHR3ZWVuIGJlZ2FuLlxuICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmc6IFRoaXMgT2JqZWN0J3Mga2V5cyBtdXN0IGNvcnJlc3BvbmQgdG8gdGhlIGtleXMgaW5cbiAgICAgICAgICAgKiB0YXJnZXRTdGF0ZS5cbiAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZ1bmN0aW9uIHR3ZWVuUHJvcHMoZm9yUG9zaXRpb24sIGN1cnJlbnRTdGF0ZSwgb3JpZ2luYWxTdGF0ZSwgdGFyZ2V0U3RhdGUsXG4gICAgICAgICAgICBkdXJhdGlvbiwgdGltZXN0YW1wLCBlYXNpbmcpIHtcbiAgICAgICAgICAgIHZhciBub3JtYWxpemVkUG9zaXRpb24gPVxuICAgICAgICAgICAgICBmb3JQb3NpdGlvbiA8IHRpbWVzdGFtcCA/IDAgOiAoZm9yUG9zaXRpb24gLSB0aW1lc3RhbXApIC8gZHVyYXRpb247XG5cblxuICAgICAgICAgICAgdmFyIHByb3A7XG4gICAgICAgICAgICB2YXIgZWFzaW5nT2JqZWN0UHJvcDtcbiAgICAgICAgICAgIHZhciBlYXNpbmdGbjtcbiAgICAgICAgICAgIGZvciAocHJvcCBpbiBjdXJyZW50U3RhdGUpIHtcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgICAgIGVhc2luZ09iamVjdFByb3AgPSBlYXNpbmdbcHJvcF07XG4gICAgICAgICAgICAgICAgZWFzaW5nRm4gPSB0eXBlb2YgZWFzaW5nT2JqZWN0UHJvcCA9PT0gJ2Z1bmN0aW9uJyA/IGVhc2luZ09iamVjdFByb3AgOiBmb3JtdWxhW2Vhc2luZ09iamVjdFByb3BdO1xuXG4gICAgICAgICAgICAgICAgY3VycmVudFN0YXRlW3Byb3BdID0gdHdlZW5Qcm9wKFxuICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTdGF0ZVtwcm9wXSxcbiAgICAgICAgICAgICAgICAgIHRhcmdldFN0YXRlW3Byb3BdLFxuICAgICAgICAgICAgICAgICAgZWFzaW5nRm4sXG4gICAgICAgICAgICAgICAgICBub3JtYWxpemVkUG9zaXRpb25cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50U3RhdGU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogVHdlZW5zIGEgc2luZ2xlIHByb3BlcnR5LlxuICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgdmFsdWUgdGhhdCB0aGUgdHdlZW4gc3RhcnRlZCBmcm9tLlxuICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIHZhbHVlIHRoYXQgdGhlIHR3ZWVuIHNob3VsZCBlbmQgYXQuXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFzaW5nRnVuYyBUaGUgZWFzaW5nIGN1cnZlIHRvIGFwcGx5IHRvIHRoZSB0d2Vlbi5cbiAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9zaXRpb24gVGhlIG5vcm1hbGl6ZWQgcG9zaXRpb24gKGJldHdlZW4gMC4wIGFuZCAxLjApIHRvXG4gICAgICAgICAgICogY2FsY3VsYXRlIHRoZSBtaWRwb2ludCBvZiAnc3RhcnQnIGFuZCAnZW5kJyBhZ2FpbnN0LlxuICAgICAgICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHR3ZWVuZWQgdmFsdWUuXG4gICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmdW5jdGlvbiB0d2VlblByb3Aoc3RhcnQsIGVuZCwgZWFzaW5nRnVuYywgcG9zaXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFydCArIChlbmQgLSBzdGFydCkgKiBlYXNpbmdGdW5jKHBvc2l0aW9uKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBBcHBsaWVzIGEgZmlsdGVyIHRvIFR3ZWVuYWJsZSBpbnN0YW5jZS5cbiAgICAgICAgICAgKiBAcGFyYW0ge1R3ZWVuYWJsZX0gdHdlZW5hYmxlIFRoZSBgVHdlZW5hYmxlYCBpbnN0YW5jZSB0byBjYWxsIHRoZSBmaWx0ZXJcbiAgICAgICAgICAgKiB1cG9uLlxuICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBmaWx0ZXJOYW1lIFRoZSBuYW1lIG9mIHRoZSBmaWx0ZXIgdG8gYXBwbHkuXG4gICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmdW5jdGlvbiBhcHBseUZpbHRlcih0d2VlbmFibGUsIGZpbHRlck5hbWUpIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJzID0gVHdlZW5hYmxlLnByb3RvdHlwZS5maWx0ZXI7XG4gICAgICAgICAgICB2YXIgYXJncyA9IHR3ZWVuYWJsZS5fZmlsdGVyQXJncztcblxuICAgICAgICAgICAgZWFjaChmaWx0ZXJzLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsdGVyc1tuYW1lXVtmaWx0ZXJOYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJzW25hbWVdW2ZpbHRlck5hbWVdLmFwcGx5KHR3ZWVuYWJsZSwgYXJncyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciB0aW1lb3V0SGFuZGxlcl9lbmRUaW1lO1xuICAgICAgICAgIHZhciB0aW1lb3V0SGFuZGxlcl9jdXJyZW50VGltZTtcbiAgICAgICAgICB2YXIgdGltZW91dEhhbmRsZXJfaXNFbmRlZDtcbiAgICAgICAgICB2YXIgdGltZW91dEhhbmRsZXJfb2Zmc2V0O1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEhhbmRsZXMgdGhlIHVwZGF0ZSBsb2dpYyBmb3Igb25lIHN0ZXAgb2YgYSB0d2Vlbi5cbiAgICAgICAgICAgKiBAcGFyYW0ge1R3ZWVuYWJsZX0gdHdlZW5hYmxlXG4gICAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVzdGFtcFxuICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheVxuICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvblxuICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjdXJyZW50U3RhdGVcbiAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3JpZ2luYWxTdGF0ZVxuICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRTdGF0ZVxuICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uKE9iamVjdCwgKiwgbnVtYmVyKX0gc3RlcFxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb24oRnVuY3Rpb24sbnVtYmVyKX19IHNjaGVkdWxlXG4gICAgICAgICAgICogQHBhcmFtIHtudW1iZXI9fSBvcHRfY3VycmVudFRpbWVPdmVycmlkZSBOZWVkZWQgZm9yIGFjY3VyYXRlIHRpbWVzdGFtcCBpblxuICAgICAgICAgICAqIFR3ZWVuYWJsZSNzZWVrLlxuICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICovXG4gICAgICAgICAgZnVuY3Rpb24gdGltZW91dEhhbmRsZXIodHdlZW5hYmxlLCB0aW1lc3RhbXAsIGRlbGF5LCBkdXJhdGlvbiwgY3VycmVudFN0YXRlLFxuICAgICAgICAgICAgb3JpZ2luYWxTdGF0ZSwgdGFyZ2V0U3RhdGUsIGVhc2luZywgc3RlcCwgc2NoZWR1bGUsXG4gICAgICAgICAgICBvcHRfY3VycmVudFRpbWVPdmVycmlkZSkge1xuXG4gICAgICAgICAgICB0aW1lb3V0SGFuZGxlcl9lbmRUaW1lID0gdGltZXN0YW1wICsgZGVsYXkgKyBkdXJhdGlvbjtcblxuICAgICAgICAgICAgdGltZW91dEhhbmRsZXJfY3VycmVudFRpbWUgPVxuICAgICAgICAgICAgICBNYXRoLm1pbihvcHRfY3VycmVudFRpbWVPdmVycmlkZSB8fCBub3coKSwgdGltZW91dEhhbmRsZXJfZW5kVGltZSk7XG5cbiAgICAgICAgICAgIHRpbWVvdXRIYW5kbGVyX2lzRW5kZWQgPVxuICAgICAgICAgICAgICB0aW1lb3V0SGFuZGxlcl9jdXJyZW50VGltZSA+PSB0aW1lb3V0SGFuZGxlcl9lbmRUaW1lO1xuXG4gICAgICAgICAgICB0aW1lb3V0SGFuZGxlcl9vZmZzZXQgPSBkdXJhdGlvbiAtIChcbiAgICAgICAgICAgICAgdGltZW91dEhhbmRsZXJfZW5kVGltZSAtIHRpbWVvdXRIYW5kbGVyX2N1cnJlbnRUaW1lKTtcblxuICAgICAgICAgICAgaWYgKHR3ZWVuYWJsZS5pc1BsYXlpbmcoKSkge1xuICAgICAgICAgICAgICBpZiAodGltZW91dEhhbmRsZXJfaXNFbmRlZCkge1xuICAgICAgICAgICAgICAgIHN0ZXAodGFyZ2V0U3RhdGUsIHR3ZWVuYWJsZS5fYXR0YWNobWVudCwgdGltZW91dEhhbmRsZXJfb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB0d2VlbmFibGUuc3RvcCh0cnVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0d2VlbmFibGUuX3NjaGVkdWxlSWQgPVxuICAgICAgICAgICAgICAgICAgc2NoZWR1bGUodHdlZW5hYmxlLl90aW1lb3V0SGFuZGxlciwgVVBEQVRFX1RJTUUpO1xuXG4gICAgICAgICAgICAgICAgYXBwbHlGaWx0ZXIodHdlZW5hYmxlLCAnYmVmb3JlVHdlZW4nKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBhbmltYXRpb24gaGFzIG5vdCB5ZXQgcmVhY2hlZCB0aGUgc3RhcnQgcG9pbnQgKGUuZy4sIHRoZXJlIHdhc1xuICAgICAgICAgICAgICAgIC8vIGRlbGF5IHRoYXQgaGFzIG5vdCB5ZXQgY29tcGxldGVkKSwganVzdCBpbnRlcnBvbGF0ZSB0aGUgc3RhcnRpbmdcbiAgICAgICAgICAgICAgICAvLyBwb3NpdGlvbiBvZiB0aGUgdHdlZW4uXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVvdXRIYW5kbGVyX2N1cnJlbnRUaW1lIDwgKHRpbWVzdGFtcCArIGRlbGF5KSkge1xuICAgICAgICAgICAgICAgICAgdHdlZW5Qcm9wcygxLCBjdXJyZW50U3RhdGUsIG9yaWdpbmFsU3RhdGUsIHRhcmdldFN0YXRlLCAxLCAxLCBlYXNpbmcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0d2VlblByb3BzKHRpbWVvdXRIYW5kbGVyX2N1cnJlbnRUaW1lLCBjdXJyZW50U3RhdGUsIG9yaWdpbmFsU3RhdGUsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFN0YXRlLCBkdXJhdGlvbiwgdGltZXN0YW1wICsgZGVsYXksIGVhc2luZyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYXBwbHlGaWx0ZXIodHdlZW5hYmxlLCAnYWZ0ZXJUd2VlbicpO1xuXG4gICAgICAgICAgICAgICAgc3RlcChjdXJyZW50U3RhdGUsIHR3ZWVuYWJsZS5fYXR0YWNobWVudCwgdGltZW91dEhhbmRsZXJfb2Zmc2V0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQ3JlYXRlcyBhIHVzYWJsZSBlYXNpbmcgT2JqZWN0IGZyb20gYSBzdHJpbmcsIGEgZnVuY3Rpb24gb3IgYW5vdGhlciBlYXNpbmdcbiAgICAgICAgICAgKiBPYmplY3QuICBJZiBgZWFzaW5nYCBpcyBhbiBPYmplY3QsIHRoZW4gdGhpcyBmdW5jdGlvbiBjbG9uZXMgaXQgYW5kIGZpbGxzXG4gICAgICAgICAgICogaW4gdGhlIG1pc3NpbmcgcHJvcGVydGllcyB3aXRoIGBcImxpbmVhclwiYC5cbiAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nfEZ1bmN0aW9uPn0gZnJvbVR3ZWVuUGFyYW1zXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3R8c3RyaW5nfEZ1bmN0aW9ufSBlYXNpbmdcbiAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3QuPHN0cmluZ3xGdW5jdGlvbj59XG4gICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmdW5jdGlvbiBjb21wb3NlRWFzaW5nT2JqZWN0KGZyb21Ud2VlblBhcmFtcywgZWFzaW5nKSB7XG4gICAgICAgICAgICB2YXIgY29tcG9zZWRFYXNpbmcgPSB7fTtcbiAgICAgICAgICAgIHZhciB0eXBlb2ZFYXNpbmcgPSB0eXBlb2YgZWFzaW5nO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mRWFzaW5nID09PSAnc3RyaW5nJyB8fCB0eXBlb2ZFYXNpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgZWFjaChmcm9tVHdlZW5QYXJhbXMsIGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgICAgICAgICBjb21wb3NlZEVhc2luZ1twcm9wXSA9IGVhc2luZztcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBlYWNoKGZyb21Ud2VlblBhcmFtcywgZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICAgICAgICAgIGlmICghY29tcG9zZWRFYXNpbmdbcHJvcF0pIHtcbiAgICAgICAgICAgICAgICAgIGNvbXBvc2VkRWFzaW5nW3Byb3BdID0gZWFzaW5nW3Byb3BdIHx8IERFRkFVTFRfRUFTSU5HO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb21wb3NlZEVhc2luZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBUd2VlbmFibGUgY29uc3RydWN0b3IuXG4gICAgICAgICAgICogQGNsYXNzIFR3ZWVuYWJsZVxuICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0X2luaXRpYWxTdGF0ZSBUaGUgdmFsdWVzIHRoYXQgdGhlIGluaXRpYWwgdHdlZW4gc2hvdWxkXG4gICAgICAgICAgICogc3RhcnQgYXQgaWYgYSBgZnJvbWAgb2JqZWN0IGlzIG5vdCBwcm92aWRlZCB0byBge3sjY3Jvc3NMaW5rXG4gICAgICAgICAgICogXCJUd2VlbmFibGUvdHdlZW46bWV0aG9kXCJ9fXt7L2Nyb3NzTGlua319YCBvciBge3sjY3Jvc3NMaW5rXG4gICAgICAgICAgICogXCJUd2VlbmFibGUvc2V0Q29uZmlnOm1ldGhvZFwifX17ey9jcm9zc0xpbmt9fWAuXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRfY29uZmlnIENvbmZpZ3VyYXRpb24gb2JqZWN0IHRvIGJlIHBhc3NlZCB0b1xuICAgICAgICAgICAqIGB7eyNjcm9zc0xpbmsgXCJUd2VlbmFibGUvc2V0Q29uZmlnOm1ldGhvZFwifX17ey9jcm9zc0xpbmt9fWAuXG4gICAgICAgICAgICogQG1vZHVsZSBUd2VlbmFibGVcbiAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmdW5jdGlvbiBUd2VlbmFibGUob3B0X2luaXRpYWxTdGF0ZSwgb3B0X2NvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFN0YXRlID0gb3B0X2luaXRpYWxTdGF0ZSB8fCB7fTtcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZ3VyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlRnVuY3Rpb24gPSBERUZBVUxUX1NDSEVEVUxFX0ZVTkNUSU9OO1xuXG4gICAgICAgICAgICAvLyBUbyBwcmV2ZW50IHVubmVjZXNzYXJ5IGNhbGxzIHRvIHNldENvbmZpZyBkbyBub3Qgc2V0IGRlZmF1bHRcbiAgICAgICAgICAgIC8vIGNvbmZpZ3VyYXRpb24gaGVyZS4gIE9ubHkgc2V0IGRlZmF1bHQgY29uZmlndXJhdGlvbiBpbW1lZGlhdGVseSBiZWZvcmVcbiAgICAgICAgICAgIC8vIHR3ZWVuaW5nIGlmIG5vbmUgaGFzIGJlZW4gc2V0LlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRfY29uZmlnICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB0aGlzLnNldENvbmZpZyhvcHRfY29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBDb25maWd1cmUgYW5kIHN0YXJ0IGEgdHdlZW4uXG4gICAgICAgICAgICogQG1ldGhvZCB0d2VlblxuICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0X2NvbmZpZyBDb25maWd1cmF0aW9uIG9iamVjdCB0byBiZSBwYXNzZWQgdG9cbiAgICAgICAgICAgKiBge3sjY3Jvc3NMaW5rIFwiVHdlZW5hYmxlL3NldENvbmZpZzptZXRob2RcIn19e3svY3Jvc3NMaW5rfX1gLlxuICAgICAgICAgICAqIEBjaGFpbmFibGVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBUd2VlbmFibGUucHJvdG90eXBlLnR3ZWVuID0gZnVuY3Rpb24ob3B0X2NvbmZpZykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzVHdlZW5pbmcpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE9ubHkgc2V0IGRlZmF1bHQgY29uZmlnIGlmIG5vIGNvbmZpZ3VyYXRpb24gaGFzIGJlZW4gc2V0IHByZXZpb3VzbHkgYW5kXG4gICAgICAgICAgICAvLyBub25lIGlzIHByb3ZpZGVkIG5vdy5cbiAgICAgICAgICAgIGlmIChvcHRfY29uZmlnICE9PSB1bmRlZmluZWQgfHwgIXRoaXMuX2NvbmZpZ3VyZWQpIHtcbiAgICAgICAgICAgICAgdGhpcy5zZXRDb25maWcob3B0X2NvbmZpZyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3RpbWVzdGFtcCA9IG5vdygpO1xuICAgICAgICAgICAgdGhpcy5fc3RhcnQodGhpcy5nZXQoKSwgdGhpcy5fYXR0YWNobWVudCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXN1bWUoKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQ29uZmlndXJlIGEgdHdlZW4gdGhhdCB3aWxsIHN0YXJ0IGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEBtZXRob2Qgc2V0Q29uZmlnXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgZm9sbG93aW5nIHZhbHVlcyBhcmUgdmFsaWQ6XG4gICAgICAgICAgICogLSBfX2Zyb21fXyAoX09iamVjdD1fKTogU3RhcnRpbmcgcG9zaXRpb24uICBJZiBvbWl0dGVkLCBge3sjY3Jvc3NMaW5rXG4gICAgICAgICAgICogICBcIlR3ZWVuYWJsZS9nZXQ6bWV0aG9kXCJ9fWdldCgpe3svY3Jvc3NMaW5rfX1gIGlzIHVzZWQuXG4gICAgICAgICAgICogLSBfX3RvX18gKF9PYmplY3Q9Xyk6IEVuZGluZyBwb3NpdGlvbi5cbiAgICAgICAgICAgKiAtIF9fZHVyYXRpb25fXyAoX251bWJlcj1fKTogSG93IG1hbnkgbWlsbGlzZWNvbmRzIHRvIGFuaW1hdGUgZm9yLlxuICAgICAgICAgICAqIC0gX19kZWxheV9fIChfZGVsYXk9Xyk6IEhvdyBtYW55IG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBzdGFydGluZyB0aGVcbiAgICAgICAgICAgKiAgIHR3ZWVuLlxuICAgICAgICAgICAqIC0gX19zdGFydF9fIChfRnVuY3Rpb24oT2JqZWN0LCAqKV8pOiBGdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gdGhlIHR3ZWVuXG4gICAgICAgICAgICogICBiZWdpbnMuICBSZWNlaXZlcyB0aGUgc3RhdGUgb2YgdGhlIHR3ZWVuIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXIgYW5kXG4gICAgICAgICAgICogICBgYXR0YWNobWVudGAgYXMgdGhlIHNlY29uZCBwYXJhbWV0ZXIuXG4gICAgICAgICAgICogLSBfX3N0ZXBfXyAoX0Z1bmN0aW9uKE9iamVjdCwgKiwgbnVtYmVyKV8pOiBGdW5jdGlvbiB0byBleGVjdXRlIG9uIGV2ZXJ5XG4gICAgICAgICAgICogICB0aWNrLiAgUmVjZWl2ZXMgYHt7I2Nyb3NzTGlua1xuICAgICAgICAgICAqICAgXCJUd2VlbmFibGUvZ2V0Om1ldGhvZFwifX1nZXQoKXt7L2Nyb3NzTGlua319YCBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyLFxuICAgICAgICAgICAqICAgYGF0dGFjaG1lbnRgIGFzIHRoZSBzZWNvbmQgcGFyYW1ldGVyLCBhbmQgdGhlIHRpbWUgZWxhcHNlZCBzaW5jZSB0aGVcbiAgICAgICAgICAgKiAgIHN0YXJ0IG9mIHRoZSB0d2VlbiBhcyB0aGUgdGhpcmQuIFRoaXMgZnVuY3Rpb24gaXMgbm90IGNhbGxlZCBvbiB0aGVcbiAgICAgICAgICAgKiAgIGZpbmFsIHN0ZXAgb2YgdGhlIGFuaW1hdGlvbiwgYnV0IGBmaW5pc2hgIGlzLlxuICAgICAgICAgICAqIC0gX19maW5pc2hfXyAoX0Z1bmN0aW9uKE9iamVjdCwgKilfKTogRnVuY3Rpb24gdG8gZXhlY3V0ZSB1cG9uIHR3ZWVuXG4gICAgICAgICAgICogICBjb21wbGV0aW9uLiAgUmVjZWl2ZXMgdGhlIHN0YXRlIG9mIHRoZSB0d2VlbiBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyIGFuZFxuICAgICAgICAgICAqICAgYGF0dGFjaG1lbnRgIGFzIHRoZSBzZWNvbmQgcGFyYW1ldGVyLlxuICAgICAgICAgICAqIC0gX19lYXNpbmdfXyAoX09iamVjdC48c3RyaW5nfEZ1bmN0aW9uPnxzdHJpbmd8RnVuY3Rpb249Xyk6IEVhc2luZyBjdXJ2ZVxuICAgICAgICAgICAqICAgbmFtZShzKSBvciBmdW5jdGlvbihzKSB0byB1c2UgZm9yIHRoZSB0d2Vlbi5cbiAgICAgICAgICAgKiAtIF9fYXR0YWNobWVudF9fIChfKl8pOiBDYWNoZWQgdmFsdWUgdGhhdCBpcyBwYXNzZWQgdG8gdGhlXG4gICAgICAgICAgICogICBgc3RlcGAvYHN0YXJ0YC9gZmluaXNoYCBtZXRob2RzLlxuICAgICAgICAgICAqIEBjaGFpbmFibGVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBUd2VlbmFibGUucHJvdG90eXBlLnNldENvbmZpZyA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgICAgICAgICAgdGhpcy5fY29uZmlndXJlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIEF0dGFjaCBzb21ldGhpbmcgdG8gdGhpcyBUd2VlbmFibGUgaW5zdGFuY2UgKGUuZy46IGEgRE9NIGVsZW1lbnQsIGFuXG4gICAgICAgICAgICAvLyBvYmplY3QsIGEgc3RyaW5nLCBldGMuKTtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaG1lbnQgPSBjb25maWcuYXR0YWNobWVudDtcblxuICAgICAgICAgICAgLy8gSW5pdCB0aGUgaW50ZXJuYWwgc3RhdGVcbiAgICAgICAgICAgIHRoaXMuX3BhdXNlZEF0VGltZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9zY2hlZHVsZUlkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2RlbGF5ID0gY29uZmlnLmRlbGF5IHx8IDA7XG4gICAgICAgICAgICB0aGlzLl9zdGFydCA9IGNvbmZpZy5zdGFydCB8fCBub29wO1xuICAgICAgICAgICAgdGhpcy5fc3RlcCA9IGNvbmZpZy5zdGVwIHx8IG5vb3A7XG4gICAgICAgICAgICB0aGlzLl9maW5pc2ggPSBjb25maWcuZmluaXNoIHx8IG5vb3A7XG4gICAgICAgICAgICB0aGlzLl9kdXJhdGlvbiA9IGNvbmZpZy5kdXJhdGlvbiB8fCBERUZBVUxUX0RVUkFUSU9OO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFN0YXRlID0gc2hhbGxvd0NvcHkoe30sIGNvbmZpZy5mcm9tKSB8fCB0aGlzLmdldCgpO1xuICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxTdGF0ZSA9IHRoaXMuZ2V0KCk7XG4gICAgICAgICAgICB0aGlzLl90YXJnZXRTdGF0ZSA9IHNoYWxsb3dDb3B5KHt9LCBjb25maWcudG8pIHx8IHRoaXMuZ2V0KCk7XG5cbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHRpbWVvdXRIYW5kbGVyKHNlbGYsXG4gICAgICAgICAgICAgICAgc2VsZi5fdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIHNlbGYuX2RlbGF5LFxuICAgICAgICAgICAgICAgIHNlbGYuX2R1cmF0aW9uLFxuICAgICAgICAgICAgICAgIHNlbGYuX2N1cnJlbnRTdGF0ZSxcbiAgICAgICAgICAgICAgICBzZWxmLl9vcmlnaW5hbFN0YXRlLFxuICAgICAgICAgICAgICAgIHNlbGYuX3RhcmdldFN0YXRlLFxuICAgICAgICAgICAgICAgIHNlbGYuX2Vhc2luZyxcbiAgICAgICAgICAgICAgICBzZWxmLl9zdGVwLFxuICAgICAgICAgICAgICAgIHNlbGYuX3NjaGVkdWxlRnVuY3Rpb25cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIEFsaWFzZXMgdXNlZCBiZWxvd1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHRoaXMuX2N1cnJlbnRTdGF0ZTtcbiAgICAgICAgICAgIHZhciB0YXJnZXRTdGF0ZSA9IHRoaXMuX3RhcmdldFN0YXRlO1xuXG4gICAgICAgICAgICAvLyBFbnN1cmUgdGhhdCB0aGVyZSBpcyBhbHdheXMgc29tZXRoaW5nIHRvIHR3ZWVuIHRvLlxuICAgICAgICAgICAgZGVmYXVsdHModGFyZ2V0U3RhdGUsIGN1cnJlbnRTdGF0ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2Vhc2luZyA9IGNvbXBvc2VFYXNpbmdPYmplY3QoXG4gICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSwgY29uZmlnLmVhc2luZyB8fCBERUZBVUxUX0VBU0lORyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2ZpbHRlckFyZ3MgPSBbY3VycmVudFN0YXRlLCB0aGlzLl9vcmlnaW5hbFN0YXRlLCB0YXJnZXRTdGF0ZSwgdGhpcy5fZWFzaW5nXTtcblxuICAgICAgICAgICAgYXBwbHlGaWx0ZXIodGhpcywgJ3R3ZWVuQ3JlYXRlZCcpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBtZXRob2QgZ2V0XG4gICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY3VycmVudCBzdGF0ZS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBUd2VlbmFibGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNoYWxsb3dDb3B5KHt9LCB0aGlzLl9jdXJyZW50U3RhdGUpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbWV0aG9kIHNldFxuICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBUaGUgY3VycmVudCBzdGF0ZS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBUd2VlbmFibGUucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50U3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogUGF1c2UgYSB0d2Vlbi4gIFBhdXNlZCB0d2VlbnMgY2FuIGJlIHJlc3VtZWQgZnJvbSB0aGUgcG9pbnQgYXQgd2hpY2ggdGhleVxuICAgICAgICAgICAqIHdlcmUgcGF1c2VkLiAgVGhpcyBpcyBkaWZmZXJlbnQgZnJvbSBge3sjY3Jvc3NMaW5rXG4gICAgICAgICAgICogXCJUd2VlbmFibGUvc3RvcDptZXRob2RcIn19e3svY3Jvc3NMaW5rfX1gLCBhcyB0aGF0IG1ldGhvZFxuICAgICAgICAgICAqIGNhdXNlcyBhIHR3ZWVuIHRvIHN0YXJ0IG92ZXIgd2hlbiBpdCBpcyByZXN1bWVkLlxuICAgICAgICAgICAqIEBtZXRob2QgcGF1c2VcbiAgICAgICAgICAgKiBAY2hhaW5hYmxlXG4gICAgICAgICAgICovXG4gICAgICAgICAgVHdlZW5hYmxlLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fcGF1c2VkQXRUaW1lID0gbm93KCk7XG4gICAgICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogUmVzdW1lIGEgcGF1c2VkIHR3ZWVuLlxuICAgICAgICAgICAqIEBtZXRob2QgcmVzdW1lXG4gICAgICAgICAgICogQGNoYWluYWJsZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIFR3ZWVuYWJsZS5wcm90b3R5cGUucmVzdW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNQYXVzZWQpIHtcbiAgICAgICAgICAgICAgdGhpcy5fdGltZXN0YW1wICs9IG5vdygpIC0gdGhpcy5fcGF1c2VkQXRUaW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5faXNUd2VlbmluZyA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXRIYW5kbGVyKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBNb3ZlIHRoZSBzdGF0ZSBvZiB0aGUgYW5pbWF0aW9uIHRvIGEgc3BlY2lmaWMgcG9pbnQgaW4gdGhlIHR3ZWVuJ3NcbiAgICAgICAgICAgKiB0aW1lbGluZS4gIElmIHRoZSBhbmltYXRpb24gaXMgbm90IHJ1bm5pbmcsIHRoaXMgd2lsbCBjYXVzZSB0aGUgYHN0ZXBgXG4gICAgICAgICAgICogaGFuZGxlcnMgdG8gYmUgY2FsbGVkLlxuICAgICAgICAgICAqIEBtZXRob2Qgc2Vla1xuICAgICAgICAgICAqIEBwYXJhbSB7bWlsbGlzZWNvbmR9IG1pbGxpc2Vjb25kIFRoZSBtaWxsaXNlY29uZCBvZiB0aGUgYW5pbWF0aW9uIHRvIHNlZWtcbiAgICAgICAgICAgKiB0by4gIFRoaXMgbXVzdCBub3QgYmUgbGVzcyB0aGFuIGAwYC5cbiAgICAgICAgICAgKiBAY2hhaW5hYmxlXG4gICAgICAgICAgICovXG4gICAgICAgICAgVHdlZW5hYmxlLnByb3RvdHlwZS5zZWVrID0gZnVuY3Rpb24obWlsbGlzZWNvbmQpIHtcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kID0gTWF0aC5tYXgobWlsbGlzZWNvbmQsIDApO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbm93KCk7XG5cbiAgICAgICAgICAgIGlmICgodGhpcy5fdGltZXN0YW1wICsgbWlsbGlzZWNvbmQpID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl90aW1lc3RhbXAgPSBjdXJyZW50VGltZSAtIG1pbGxpc2Vjb25kO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNQbGF5aW5nKCkpIHtcbiAgICAgICAgICAgICAgdGhpcy5faXNUd2VlbmluZyA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlIGFuaW1hdGlvbiBpcyBub3QgcnVubmluZywgY2FsbCB0aW1lb3V0SGFuZGxlciB0byBtYWtlIHN1cmUgdGhhdFxuICAgICAgICAgICAgICAvLyBhbnkgc3RlcCBoYW5kbGVycyBhcmUgcnVuLlxuICAgICAgICAgICAgICB0aW1lb3V0SGFuZGxlcih0aGlzLFxuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWxheSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbixcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50U3RhdGUsXG4gICAgICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxTdGF0ZSxcbiAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXRTdGF0ZSxcbiAgICAgICAgICAgICAgICB0aGlzLl9lYXNpbmcsXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RlcCxcbiAgICAgICAgICAgICAgICB0aGlzLl9zY2hlZHVsZUZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogU3RvcHMgYW5kIGNhbmNlbHMgYSB0d2Vlbi5cbiAgICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBnb3RvRW5kIElmIGBmYWxzZWAgb3Igb21pdHRlZCwgdGhlIHR3ZWVuIGp1c3Qgc3RvcHMgYXRcbiAgICAgICAgICAgKiBpdHMgY3VycmVudCBzdGF0ZSwgYW5kIHRoZSBgZmluaXNoYCBoYW5kbGVyIGlzIG5vdCBpbnZva2VkLiAgSWYgYHRydWVgLFxuICAgICAgICAgICAqIHRoZSB0d2VlbmVkIG9iamVjdCdzIHZhbHVlcyBhcmUgaW5zdGFudGx5IHNldCB0byB0aGUgdGFyZ2V0IHZhbHVlcywgYW5kXG4gICAgICAgICAgICogYGZpbmlzaGAgaXMgaW52b2tlZC5cbiAgICAgICAgICAgKiBAbWV0aG9kIHN0b3BcbiAgICAgICAgICAgKiBAY2hhaW5hYmxlXG4gICAgICAgICAgICovXG4gICAgICAgICAgVHdlZW5hYmxlLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oZ290b0VuZCkge1xuICAgICAgICAgICAgdGhpcy5faXNUd2VlbmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5faXNQYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXRIYW5kbGVyID0gbm9vcDtcblxuICAgICAgICAgICAgKHJvb3QuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgcm9vdC53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICByb290Lm9DYW5jZWxBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICByb290Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgcm9vdC5tb3pDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgcm9vdC5jbGVhclRpbWVvdXQpKHRoaXMuX3NjaGVkdWxlSWQpO1xuXG4gICAgICAgICAgICBpZiAoZ290b0VuZCkge1xuICAgICAgICAgICAgICBhcHBseUZpbHRlcih0aGlzLCAnYmVmb3JlVHdlZW4nKTtcbiAgICAgICAgICAgICAgdHdlZW5Qcm9wcyhcbiAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTdGF0ZSxcbiAgICAgICAgICAgICAgICB0aGlzLl9vcmlnaW5hbFN0YXRlLFxuICAgICAgICAgICAgICAgIHRoaXMuX3RhcmdldFN0YXRlLFxuICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB0aGlzLl9lYXNpbmdcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYXBwbHlGaWx0ZXIodGhpcywgJ2FmdGVyVHdlZW4nKTtcbiAgICAgICAgICAgICAgYXBwbHlGaWx0ZXIodGhpcywgJ2FmdGVyVHdlZW5FbmQnKTtcbiAgICAgICAgICAgICAgdGhpcy5fZmluaXNoLmNhbGwodGhpcywgdGhpcy5fY3VycmVudFN0YXRlLCB0aGlzLl9hdHRhY2htZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBtZXRob2QgaXNQbGF5aW5nXG4gICAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgYSB0d2VlbiBpcyBydW5uaW5nLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIFR3ZWVuYWJsZS5wcm90b3R5cGUuaXNQbGF5aW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNUd2VlbmluZyAmJiAhdGhpcy5faXNQYXVzZWQ7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFNldCBhIGN1c3RvbSBzY2hlZHVsZSBmdW5jdGlvbi5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIElmIGEgY3VzdG9tIGZ1bmN0aW9uIGlzIG5vdCBzZXQsXG4gICAgICAgICAgICogW2ByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSlcbiAgICAgICAgICAgKiBpcyB1c2VkIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlXG4gICAgICAgICAgICogW2BzZXRUaW1lb3V0YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy5zZXRUaW1lb3V0KVxuICAgICAgICAgICAqIGlzIHVzZWQuXG4gICAgICAgICAgICogQG1ldGhvZCBzZXRTY2hlZHVsZUZ1bmN0aW9uXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbihGdW5jdGlvbixudW1iZXIpfSBzY2hlZHVsZUZ1bmN0aW9uIFRoZSBmdW5jdGlvbiB0byBiZVxuICAgICAgICAgICAqIHVzZWQgdG8gc2NoZWR1bGUgdGhlIG5leHQgZnJhbWUgdG8gYmUgcmVuZGVyZWQuXG4gICAgICAgICAgICovXG4gICAgICAgICAgVHdlZW5hYmxlLnByb3RvdHlwZS5zZXRTY2hlZHVsZUZ1bmN0aW9uID0gZnVuY3Rpb24oc2NoZWR1bGVGdW5jdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGVGdW5jdGlvbiA9IHNjaGVkdWxlRnVuY3Rpb247XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIGBkZWxldGVgIGFsbCBcIm93blwiIHByb3BlcnRpZXMuICBDYWxsIHRoaXMgd2hlbiB0aGUgYFR3ZWVuYWJsZWAgaW5zdGFuY2VcbiAgICAgICAgICAgKiBpcyBubyBsb25nZXIgbmVlZGVkIHRvIGZyZWUgbWVtb3J5LlxuICAgICAgICAgICAqIEBtZXRob2QgZGlzcG9zZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIFR3ZWVuYWJsZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHByb3A7XG4gICAgICAgICAgICBmb3IgKHByb3AgaW4gdGhpcykge1xuICAgICAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW3Byb3BdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEZpbHRlcnMgYXJlIHVzZWQgZm9yIHRyYW5zZm9ybWluZyB0aGUgcHJvcGVydGllcyBvZiBhIHR3ZWVuIGF0IHZhcmlvdXNcbiAgICAgICAgICAgKiBwb2ludHMgaW4gYSBUd2VlbmFibGUncyBsaWZlIGN5Y2xlLiAgU2VlIHRoZSBSRUFETUUgZm9yIG1vcmUgaW5mbyBvbiB0aGlzLlxuICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICovXG4gICAgICAgICAgVHdlZW5hYmxlLnByb3RvdHlwZS5maWx0ZXIgPSB7fTtcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFRoaXMgb2JqZWN0IGNvbnRhaW5zIGFsbCBvZiB0aGUgdHdlZW5zIGF2YWlsYWJsZSB0byBTaGlmdHkuICBJdCBpc1xuICAgICAgICAgICAqIGV4dGVuc2libGUgLSBzaW1wbHkgYXR0YWNoIHByb3BlcnRpZXMgdG8gdGhlIGBUd2VlbmFibGUucHJvdG90eXBlLmZvcm11bGFgXG4gICAgICAgICAgICogT2JqZWN0IGZvbGxvd2luZyB0aGUgc2FtZSBmb3JtYXQgYXMgYGxpbmVhcmAuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBgcG9zYCBzaG91bGQgYmUgYSBub3JtYWxpemVkIGBudW1iZXJgIChiZXR3ZWVuIDAgYW5kIDEpLlxuICAgICAgICAgICAqIEBwcm9wZXJ0eSBmb3JtdWxhXG4gICAgICAgICAgICogQHR5cGUge09iamVjdChmdW5jdGlvbil9XG4gICAgICAgICAgICovXG4gICAgICAgICAgVHdlZW5hYmxlLnByb3RvdHlwZS5mb3JtdWxhID0ge1xuICAgICAgICAgICAgbGluZWFyOiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgZm9ybXVsYSA9IFR3ZWVuYWJsZS5wcm90b3R5cGUuZm9ybXVsYTtcblxuICAgICAgICAgIHNoYWxsb3dDb3B5KFR3ZWVuYWJsZSwge1xuICAgICAgICAgICAgJ25vdyc6IG5vdyxcbiAgICAgICAgICAgICdlYWNoJzogZWFjaCxcbiAgICAgICAgICAgICd0d2VlblByb3BzJzogdHdlZW5Qcm9wcyxcbiAgICAgICAgICAgICd0d2VlblByb3AnOiB0d2VlblByb3AsXG4gICAgICAgICAgICAnYXBwbHlGaWx0ZXInOiBhcHBseUZpbHRlcixcbiAgICAgICAgICAgICdzaGFsbG93Q29weSc6IHNoYWxsb3dDb3B5LFxuICAgICAgICAgICAgJ2RlZmF1bHRzJzogZGVmYXVsdHMsXG4gICAgICAgICAgICAnY29tcG9zZUVhc2luZ09iamVjdCc6IGNvbXBvc2VFYXNpbmdPYmplY3RcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIGByb290YCBpcyBwcm92aWRlZCBpbiB0aGUgaW50cm8vb3V0cm8gZmlsZXMuXG5cbiAgICAgICAgICAvLyBBIGhvb2sgdXNlZCBmb3IgdW5pdCB0ZXN0aW5nLlxuICAgICAgICAgIGlmICh0eXBlb2YgU0hJRlRZX0RFQlVHX05PVyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcm9vdC50aW1lb3V0SGFuZGxlciA9IHRpbWVvdXRIYW5kbGVyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEJvb3RzdHJhcCBUd2VlbmFibGUgYXBwcm9wcmlhdGVseSBmb3IgdGhlIGVudmlyb25tZW50LlxuICAgICAgICAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIC8vIENvbW1vbkpTXG4gICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IFR3ZWVuYWJsZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAgICAgLy8gQU1EXG4gICAgICAgICAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHJldHVybiBUd2VlbmFibGU7IH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHJvb3QuVHdlZW5hYmxlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gQnJvd3NlcjogTWFrZSBgVHdlZW5hYmxlYCBnbG9iYWxseSBhY2Nlc3NpYmxlLlxuICAgICAgICAgICAgcm9vdC5Ud2VlbmFibGUgPSBUd2VlbmFibGU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIFR3ZWVuYWJsZTtcblxuICAgICAgICB9KCkpO1xuXG4gICAgICAgIC8qIVxuICAgICAgICAgKiBBbGwgZXF1YXRpb25zIGFyZSBhZGFwdGVkIGZyb20gVGhvbWFzIEZ1Y2hzJ1xuICAgICAgICAgKiBbU2NyaXB0eTJdKGh0dHBzOi8vZ2l0aHViLmNvbS9tYWRyb2JieS9zY3JpcHR5Mi9ibG9iL21hc3Rlci9zcmMvZWZmZWN0cy90cmFuc2l0aW9ucy9wZW5uZXIuanMpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCYXNlZCBvbiBFYXNpbmcgRXF1YXRpb25zIChjKSAyMDAzIFtSb2JlcnRcbiAgICAgICAgICogUGVubmVyXShodHRwOi8vd3d3LnJvYmVydHBlbm5lci5jb20vKSwgYWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyB3b3JrIGlzXG4gICAgICAgICAqIFtzdWJqZWN0IHRvIHRlcm1zXShodHRwOi8vd3d3LnJvYmVydHBlbm5lci5jb20vZWFzaW5nX3Rlcm1zX29mX3VzZS5odG1sKS5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyohXG4gICAgICAgICAqICBURVJNUyBPRiBVU0UgLSBFQVNJTkcgRVFVQVRJT05TXG4gICAgICAgICAqICBPcGVuIHNvdXJjZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UuXG4gICAgICAgICAqICBFYXNpbmcgRXF1YXRpb25zIChjKSAyMDAzIFJvYmVydCBQZW5uZXIsIGFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIDtcbiAgICAgICAgKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgVHdlZW5hYmxlLnNoYWxsb3dDb3B5KFR3ZWVuYWJsZS5wcm90b3R5cGUuZm9ybXVsYSwge1xuICAgICAgICAgICAgZWFzZUluUXVhZDogZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICAgIHJldHVybiBNYXRoLnBvdyhwb3MsIDIpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZWFzZU91dFF1YWQ6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgICByZXR1cm4gLShNYXRoLnBvdygocG9zIC0gMSksIDIpIC0gMSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlYXNlSW5PdXRRdWFkOiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgICAgaWYgKChwb3MgLz0gMC41KSA8IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMC41ICogTWF0aC5wb3cocG9zLCAyKTsgfVxuICAgICAgICAgICAgICByZXR1cm4gLTAuNSAqICgocG9zIC09IDIpICogcG9zIC0gMik7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlYXNlSW5DdWJpYzogZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICAgIHJldHVybiBNYXRoLnBvdyhwb3MsIDMpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZWFzZU91dEN1YmljOiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChNYXRoLnBvdygocG9zIC0gMSksIDMpICsgMSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlYXNlSW5PdXRDdWJpYzogZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICAgIGlmICgocG9zIC89IDAuNSkgPCAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDAuNSAqIE1hdGgucG93KHBvcywgMyk7IH1cbiAgICAgICAgICAgICAgcmV0dXJuIDAuNSAqIChNYXRoLnBvdygocG9zIC0gMiksIDMpICsgMik7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlYXNlSW5RdWFydDogZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICAgIHJldHVybiBNYXRoLnBvdyhwb3MsIDQpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZWFzZU91dFF1YXJ0OiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIC0oTWF0aC5wb3coKHBvcyAtIDEpLCA0KSAtIDEpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZWFzZUluT3V0UXVhcnQ6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgICBpZiAoKHBvcyAvPSAwLjUpIDwgMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwLjUgKiBNYXRoLnBvdyhwb3MsIDQpOyB9XG4gICAgICAgICAgICAgIHJldHVybiAtMC41ICogKChwb3MgLT0gMikgKiBNYXRoLnBvdyhwb3MsIDMpIC0gMik7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlYXNlSW5RdWludDogZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICAgIHJldHVybiBNYXRoLnBvdyhwb3MsIDUpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZWFzZU91dFF1aW50OiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChNYXRoLnBvdygocG9zIC0gMSksIDUpICsgMSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlYXNlSW5PdXRRdWludDogZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICAgIGlmICgocG9zIC89IDAuNSkgPCAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDAuNSAqIE1hdGgucG93KHBvcywgNSk7IH1cbiAgICAgICAgICAgICAgcmV0dXJuIDAuNSAqIChNYXRoLnBvdygocG9zIC0gMiksIDUpICsgMik7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlYXNlSW5TaW5lOiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIC1NYXRoLmNvcyhwb3MgKiAoTWF0aC5QSSAvIDIpKSArIDE7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlYXNlT3V0U2luZTogZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICAgIHJldHVybiBNYXRoLnNpbihwb3MgKiAoTWF0aC5QSSAvIDIpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGVhc2VJbk91dFNpbmU6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgICByZXR1cm4gKC0wLjUgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIHBvcykgLSAxKSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlYXNlSW5FeHBvOiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChwb3MgPT09IDApID8gMCA6IE1hdGgucG93KDIsIDEwICogKHBvcyAtIDEpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGVhc2VPdXRFeHBvOiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChwb3MgPT09IDEpID8gMSA6IC1NYXRoLnBvdygyLCAtMTAgKiBwb3MpICsgMTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGVhc2VJbk91dEV4cG86IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgICBpZiAocG9zID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7IH1cbiAgICAgICAgICAgICAgaWYgKHBvcyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxOyB9XG4gICAgICAgICAgICAgIGlmICgocG9zIC89IDAuNSkgPCAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDAuNSAqIE1hdGgucG93KDIsIDEwICogKHBvcyAtIDEpKTsgfVxuICAgICAgICAgICAgICByZXR1cm4gMC41ICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLXBvcykgKyAyKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGVhc2VJbkNpcmM6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgICByZXR1cm4gLShNYXRoLnNxcnQoMSAtIChwb3MgKiBwb3MpKSAtIDEpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZWFzZU91dENpcmM6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KDEgLSBNYXRoLnBvdygocG9zIC0gMSksIDIpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGVhc2VJbk91dENpcmM6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgICBpZiAoKHBvcyAvPSAwLjUpIDwgMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMC41ICogKE1hdGguc3FydCgxIC0gcG9zICogcG9zKSAtIDEpOyB9XG4gICAgICAgICAgICAgIHJldHVybiAwLjUgKiAoTWF0aC5zcXJ0KDEgLSAocG9zIC09IDIpICogcG9zKSArIDEpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZWFzZU91dEJvdW5jZTogZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICAgIGlmICgocG9zKSA8ICgxIC8gMi43NSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDcuNTYyNSAqIHBvcyAqIHBvcyk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zIDwgKDIgLyAyLjc1KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoNy41NjI1ICogKHBvcyAtPSAoMS41IC8gMi43NSkpICogcG9zICsgMC43NSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zIDwgKDIuNSAvIDIuNzUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICg3LjU2MjUgKiAocG9zIC09ICgyLjI1IC8gMi43NSkpICogcG9zICsgMC45Mzc1KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDcuNTYyNSAqIChwb3MgLT0gKDIuNjI1IC8gMi43NSkpICogcG9zICsgMC45ODQzNzUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlYXNlSW5CYWNrOiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgICAgdmFyIHMgPSAxLjcwMTU4O1xuICAgICAgICAgICAgICByZXR1cm4gKHBvcykgKiBwb3MgKiAoKHMgKyAxKSAqIHBvcyAtIHMpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZWFzZU91dEJhY2s6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgICB2YXIgcyA9IDEuNzAxNTg7XG4gICAgICAgICAgICAgIHJldHVybiAocG9zID0gcG9zIC0gMSkgKiBwb3MgKiAoKHMgKyAxKSAqIHBvcyArIHMpICsgMTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGVhc2VJbk91dEJhY2s6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgICB2YXIgcyA9IDEuNzAxNTg7XG4gICAgICAgICAgICAgIGlmICgocG9zIC89IDAuNSkgPCAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDAuNSAqIChwb3MgKiBwb3MgKiAoKChzICo9ICgxLjUyNSkpICsgMSkgKiBwb3MgLSBzKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIDAuNSAqICgocG9zIC09IDIpICogcG9zICogKCgocyAqPSAoMS41MjUpKSArIDEpICogcG9zICsgcykgKyAyKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGVsYXN0aWM6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgICAvLyBqc2hpbnQgbWF4bGVuOjkwXG4gICAgICAgICAgICAgIHJldHVybiAtMSAqIE1hdGgucG93KDQsIC04ICogcG9zKSAqIE1hdGguc2luKChwb3MgKiA2IC0gMSkgKiAoMiAqIE1hdGguUEkpIC8gMikgKyAxO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgc3dpbmdGcm9tVG86IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgICB2YXIgcyA9IDEuNzAxNTg7XG4gICAgICAgICAgICAgIHJldHVybiAoKHBvcyAvPSAwLjUpIDwgMSkgP1xuICAgICAgICAgICAgICAgIDAuNSAqIChwb3MgKiBwb3MgKiAoKChzICo9ICgxLjUyNSkpICsgMSkgKiBwb3MgLSBzKSkgOlxuICAgICAgICAgICAgICAgIDAuNSAqICgocG9zIC09IDIpICogcG9zICogKCgocyAqPSAoMS41MjUpKSArIDEpICogcG9zICsgcykgKyAyKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHN3aW5nRnJvbTogZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICAgIHZhciBzID0gMS43MDE1ODtcbiAgICAgICAgICAgICAgcmV0dXJuIHBvcyAqIHBvcyAqICgocyArIDEpICogcG9zIC0gcyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzd2luZ1RvOiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgICAgdmFyIHMgPSAxLjcwMTU4O1xuICAgICAgICAgICAgICByZXR1cm4gKHBvcyAtPSAxKSAqIHBvcyAqICgocyArIDEpICogcG9zICsgcykgKyAxO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgYm91bmNlOiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgICAgaWYgKHBvcyA8ICgxIC8gMi43NSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDcuNTYyNSAqIHBvcyAqIHBvcyk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zIDwgKDIgLyAyLjc1KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoNy41NjI1ICogKHBvcyAtPSAoMS41IC8gMi43NSkpICogcG9zICsgMC43NSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zIDwgKDIuNSAvIDIuNzUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICg3LjU2MjUgKiAocG9zIC09ICgyLjI1IC8gMi43NSkpICogcG9zICsgMC45Mzc1KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDcuNTYyNSAqIChwb3MgLT0gKDIuNjI1IC8gMi43NSkpICogcG9zICsgMC45ODQzNzUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBib3VuY2VQYXN0OiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgICAgaWYgKHBvcyA8ICgxIC8gMi43NSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDcuNTYyNSAqIHBvcyAqIHBvcyk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zIDwgKDIgLyAyLjc1KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAyIC0gKDcuNTYyNSAqIChwb3MgLT0gKDEuNSAvIDIuNzUpKSAqIHBvcyArIDAuNzUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBvcyA8ICgyLjUgLyAyLjc1KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAyIC0gKDcuNTYyNSAqIChwb3MgLT0gKDIuMjUgLyAyLjc1KSkgKiBwb3MgKyAwLjkzNzUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAyIC0gKDcuNTYyNSAqIChwb3MgLT0gKDIuNjI1IC8gMi43NSkpICogcG9zICsgMC45ODQzNzUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBlYXNlRnJvbVRvOiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgICAgICAgaWYgKChwb3MgLz0gMC41KSA8IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMC41ICogTWF0aC5wb3cocG9zLCA0KTsgfVxuICAgICAgICAgICAgICByZXR1cm4gLTAuNSAqICgocG9zIC09IDIpICogTWF0aC5wb3cocG9zLCAzKSAtIDIpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZWFzZUZyb206IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICAgICAgICByZXR1cm4gTWF0aC5wb3cocG9zLCA0KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGVhc2VUbzogZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICAgIHJldHVybiBNYXRoLnBvdyhwb3MsIDAuMjUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0oKSk7XG5cbiAgICAgICAgLy8ganNoaW50IG1heGxlbjoxMDBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBCZXppZXIgbWFnaWMgaW4gdGhpcyBmaWxlIGlzIGFkYXB0ZWQvY29waWVkIGFsbW9zdCB3aG9sZXNhbGUgZnJvbVxuICAgICAgICAgKiBbU2NyaXB0eTJdKGh0dHBzOi8vZ2l0aHViLmNvbS9tYWRyb2JieS9zY3JpcHR5Mi9ibG9iL21hc3Rlci9zcmMvZWZmZWN0cy90cmFuc2l0aW9ucy9jdWJpYy1iZXppZXIuanMpLFxuICAgICAgICAgKiB3aGljaCB3YXMgYWRhcHRlZCBmcm9tIEFwcGxlIGNvZGUgKHdoaWNoIHByb2JhYmx5IGNhbWUgZnJvbVxuICAgICAgICAgKiBbaGVyZV0oaHR0cDovL29wZW5zb3VyY2UuYXBwbGUuY29tL3NvdXJjZS9XZWJDb3JlL1dlYkNvcmUtOTU1LjY2L3BsYXRmb3JtL2dyYXBoaWNzL1VuaXRCZXppZXIuaCkpLlxuICAgICAgICAgKiBTcGVjaWFsIHRoYW5rcyB0byBBcHBsZSBhbmQgVGhvbWFzIEZ1Y2hzIGZvciBtdWNoIG9mIHRoaXMgY29kZS5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqICBDb3B5cmlnaHQgKGMpIDIwMDYgQXBwbGUgQ29tcHV0ZXIsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICAgICAgICAgKiAgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gICAgICAgICAqXG4gICAgICAgICAqICAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gICAgICAgICAqICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiAgMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICAgICAgICAgKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvblxuICAgICAgICAgKiAgYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqICAzLiBOZWl0aGVyIHRoZSBuYW1lIG9mIHRoZSBjb3B5cmlnaHQgaG9sZGVyKHMpIG5vciB0aGUgbmFtZXMgb2YgYW55XG4gICAgICAgICAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuICAgICAgICAgKiAgdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4gICAgICAgICAqICBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gICAgICAgICAqICBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRVxuICAgICAgICAgKiAgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFXG4gICAgICAgICAqICBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SXG4gICAgICAgICAqICBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRlxuICAgICAgICAgKiAgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTXG4gICAgICAgICAqICBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTlxuICAgICAgICAgKiAgQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcbiAgICAgICAgICogIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXG4gICAgICAgICAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAgICAgICAgICovXG4gICAgICAgIDtcbiAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIC8vIHBvcnQgb2Ygd2Via2l0IGN1YmljIGJlemllciBoYW5kbGluZyBieSBodHRwOi8vd3d3Lm5ldHpnZXN0YS5kZS9kZXYvXG4gICAgICAgICAgZnVuY3Rpb24gY3ViaWNCZXppZXJBdFRpbWUodCwgcDF4LCBwMXksIHAyeCwgcDJ5LCBkdXJhdGlvbikge1xuICAgICAgICAgICAgdmFyIGF4ID0gMCxcbiAgICAgICAgICAgICAgYnggPSAwLFxuICAgICAgICAgICAgICBjeCA9IDAsXG4gICAgICAgICAgICAgIGF5ID0gMCxcbiAgICAgICAgICAgICAgYnkgPSAwLFxuICAgICAgICAgICAgICBjeSA9IDA7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNhbXBsZUN1cnZlWCh0KSB7XG4gICAgICAgICAgICAgIHJldHVybiAoKGF4ICogdCArIGJ4KSAqIHQgKyBjeCkgKiB0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBzYW1wbGVDdXJ2ZVkodCkge1xuICAgICAgICAgICAgICByZXR1cm4gKChheSAqIHQgKyBieSkgKiB0ICsgY3kpICogdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gc2FtcGxlQ3VydmVEZXJpdmF0aXZlWCh0KSB7XG4gICAgICAgICAgICAgIHJldHVybiAoMy4wICogYXggKiB0ICsgMi4wICogYngpICogdCArIGN4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBzb2x2ZUVwc2lsb24oZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIDEuMCAvICgyMDAuMCAqIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gc29sdmUoeCwgZXBzaWxvbikge1xuICAgICAgICAgICAgICByZXR1cm4gc2FtcGxlQ3VydmVZKHNvbHZlQ3VydmVYKHgsIGVwc2lsb24pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gZmFicyhuKSB7XG4gICAgICAgICAgICAgIGlmIChuID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMCAtIG47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gc29sdmVDdXJ2ZVgoeCwgZXBzaWxvbikge1xuICAgICAgICAgICAgICB2YXIgdDAsIHQxLCB0MiwgeDIsIGQyLCBpO1xuICAgICAgICAgICAgICBmb3IgKHQyID0geCwgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICAgICAgICB4MiA9IHNhbXBsZUN1cnZlWCh0MikgLSB4O1xuICAgICAgICAgICAgICAgIGlmIChmYWJzKHgyKSA8IGVwc2lsb24pIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0MjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZDIgPSBzYW1wbGVDdXJ2ZURlcml2YXRpdmVYKHQyKTtcbiAgICAgICAgICAgICAgICBpZiAoZmFicyhkMikgPCAxZS02KSB7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdDIgPSB0MiAtIHgyIC8gZDI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdDAgPSAwLjA7XG4gICAgICAgICAgICAgIHQxID0gMS4wO1xuICAgICAgICAgICAgICB0MiA9IHg7XG4gICAgICAgICAgICAgIGlmICh0MiA8IHQwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0MiA+IHQxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHdoaWxlICh0MCA8IHQxKSB7XG4gICAgICAgICAgICAgICAgeDIgPSBzYW1wbGVDdXJ2ZVgodDIpO1xuICAgICAgICAgICAgICAgIGlmIChmYWJzKHgyIC0geCkgPCBlcHNpbG9uKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh4ID4geDIpIHtcbiAgICAgICAgICAgICAgICAgIHQwID0gdDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHQxID0gdDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHQyID0gKHQxIC0gdDApICogMC41ICsgdDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHQyOyAvLyBGYWlsdXJlLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3ggPSAzLjAgKiBwMXg7XG4gICAgICAgICAgICBieCA9IDMuMCAqIChwMnggLSBwMXgpIC0gY3g7XG4gICAgICAgICAgICBheCA9IDEuMCAtIGN4IC0gYng7XG4gICAgICAgICAgICBjeSA9IDMuMCAqIHAxeTtcbiAgICAgICAgICAgIGJ5ID0gMy4wICogKHAyeSAtIHAxeSkgLSBjeTtcbiAgICAgICAgICAgIGF5ID0gMS4wIC0gY3kgLSBieTtcbiAgICAgICAgICAgIHJldHVybiBzb2x2ZSh0LCBzb2x2ZUVwc2lsb24oZHVyYXRpb24pKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogIGdldEN1YmljQmV6aWVyVHJhbnNpdGlvbih4MSwgeTEsIHgyLCB5MikgLT4gRnVuY3Rpb25cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqICBHZW5lcmF0ZXMgYSB0cmFuc2l0aW9uIGVhc2luZyBmdW5jdGlvbiB0aGF0IGlzIGNvbXBhdGlibGVcbiAgICAgICAgICAgKiAgd2l0aCBXZWJLaXQncyBDU1MgdHJhbnNpdGlvbnMgYC13ZWJraXQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25gXG4gICAgICAgICAgICogIENTUyBwcm9wZXJ0eS5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqICBUaGUgVzNDIGhhcyBtb3JlIGluZm9ybWF0aW9uIGFib3V0IENTUzMgdHJhbnNpdGlvbiB0aW1pbmcgZnVuY3Rpb25zOlxuICAgICAgICAgICAqICBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXRyYW5zaXRpb25zLyN0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbl90YWdcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqICBAcGFyYW0ge251bWJlcn0geDFcbiAgICAgICAgICAgKiAgQHBhcmFtIHtudW1iZXJ9IHkxXG4gICAgICAgICAgICogIEBwYXJhbSB7bnVtYmVyfSB4MlxuICAgICAgICAgICAqICBAcGFyYW0ge251bWJlcn0geTJcbiAgICAgICAgICAgKiAgQHJldHVybiB7ZnVuY3Rpb259XG4gICAgICAgICAgICogIEBwcml2YXRlXG4gICAgICAgICAgICovXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0Q3ViaWNCZXppZXJUcmFuc2l0aW9uKHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjdWJpY0JlemllckF0VGltZShwb3MsIHgxLCB5MSwgeDIsIHkyLCAxKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEVuZCBwb3J0ZWQgY29kZVxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQ3JlYXRlIGEgQmV6aWVyIGVhc2luZyBmdW5jdGlvbiBhbmQgYXR0YWNoIGl0IHRvIGB7eyNjcm9zc0xpbmtcbiAgICAgICAgICAgKiBcIlR3ZWVuYWJsZS9mb3JtdWxhOnByb3BlcnR5XCJ9fVR3ZWVuYWJsZSNmb3JtdWxhe3svY3Jvc3NMaW5rfX1gLiAgVGhpc1xuICAgICAgICAgICAqIGZ1bmN0aW9uIGdpdmVzIHlvdSB0b3RhbCBjb250cm9sIG92ZXIgdGhlIGVhc2luZyBjdXJ2ZS4gIE1hdHRoZXcgTGVpbidzXG4gICAgICAgICAgICogW0NlYXNlcl0oaHR0cDovL21hdHRoZXdsZWluLmNvbS9jZWFzZXIvKSBpcyBhIHVzZWZ1bCB0b29sIGZvciB2aXN1YWxpemluZ1xuICAgICAgICAgICAqIHRoZSBjdXJ2ZXMgeW91IGNhbiBtYWtlIHdpdGggdGhpcyBmdW5jdGlvbi5cbiAgICAgICAgICAgKiBAbWV0aG9kIHNldEJlemllckZ1bmN0aW9uXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGVhc2luZyBjdXJ2ZS4gIE92ZXJ3cml0ZXMgdGhlIG9sZFxuICAgICAgICAgICAqIGVhc2luZyBmdW5jdGlvbiBvbiBge3sjY3Jvc3NMaW5rXG4gICAgICAgICAgICogXCJUd2VlbmFibGUvZm9ybXVsYTpwcm9wZXJ0eVwifX1Ud2VlbmFibGUjZm9ybXVsYXt7L2Nyb3NzTGlua319YCBpZiBpdFxuICAgICAgICAgICAqIGV4aXN0cy5cbiAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0geDFcbiAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0geTFcbiAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0geDJcbiAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0geTJcbiAgICAgICAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIGVhc2luZyBmdW5jdGlvbiB0aGF0IHdhcyBhdHRhY2hlZCB0b1xuICAgICAgICAgICAqIFR3ZWVuYWJsZS5wcm90b3R5cGUuZm9ybXVsYS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBUd2VlbmFibGUuc2V0QmV6aWVyRnVuY3Rpb24gPSBmdW5jdGlvbihuYW1lLCB4MSwgeTEsIHgyLCB5Mikge1xuICAgICAgICAgICAgdmFyIGN1YmljQmV6aWVyVHJhbnNpdGlvbiA9IGdldEN1YmljQmV6aWVyVHJhbnNpdGlvbih4MSwgeTEsIHgyLCB5Mik7XG4gICAgICAgICAgICBjdWJpY0JlemllclRyYW5zaXRpb24uZGlzcGxheU5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgY3ViaWNCZXppZXJUcmFuc2l0aW9uLngxID0geDE7XG4gICAgICAgICAgICBjdWJpY0JlemllclRyYW5zaXRpb24ueTEgPSB5MTtcbiAgICAgICAgICAgIGN1YmljQmV6aWVyVHJhbnNpdGlvbi54MiA9IHgyO1xuICAgICAgICAgICAgY3ViaWNCZXppZXJUcmFuc2l0aW9uLnkyID0geTI7XG5cbiAgICAgICAgICAgIHJldHVybiBUd2VlbmFibGUucHJvdG90eXBlLmZvcm11bGFbbmFtZV0gPSBjdWJpY0JlemllclRyYW5zaXRpb247XG4gICAgICAgICAgfTtcblxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogYGRlbGV0ZWAgYW4gZWFzaW5nIGZ1bmN0aW9uIGZyb20gYHt7I2Nyb3NzTGlua1xuICAgICAgICAgICAqIFwiVHdlZW5hYmxlL2Zvcm11bGE6cHJvcGVydHlcIn19VHdlZW5hYmxlI2Zvcm11bGF7ey9jcm9zc0xpbmt9fWAuICBCZVxuICAgICAgICAgICAqIGNhcmVmdWwgd2l0aCB0aGlzIG1ldGhvZCwgYXMgaXQgYGRlbGV0ZWBzIHdoYXRldmVyIGVhc2luZyBmb3JtdWxhIG1hdGNoZXNcbiAgICAgICAgICAgKiBgbmFtZWAgKHdoaWNoIG1lYW5zIHlvdSBjYW4gZGVsZXRlIHN0YW5kYXJkIFNoaWZ0eSBlYXNpbmcgZnVuY3Rpb25zKS5cbiAgICAgICAgICAgKiBAbWV0aG9kIHVuc2V0QmV6aWVyRnVuY3Rpb25cbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgZWFzaW5nIGZ1bmN0aW9uIHRvIGRlbGV0ZS5cbiAgICAgICAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn1cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBUd2VlbmFibGUudW5zZXRCZXppZXJGdW5jdGlvbiA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBUd2VlbmFibGUucHJvdG90eXBlLmZvcm11bGFbbmFtZV07XG4gICAgICAgICAgfTtcblxuICAgICAgICB9KSgpO1xuXG4gICAgICAgIDtcbiAgICAgICAgKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0SW50ZXJwb2xhdGVkVmFsdWVzKFxuICAgICAgICAgICAgZnJvbSwgY3VycmVudCwgdGFyZ2V0U3RhdGUsIHBvc2l0aW9uLCBlYXNpbmcsIGRlbGF5KSB7XG4gICAgICAgICAgICByZXR1cm4gVHdlZW5hYmxlLnR3ZWVuUHJvcHMoXG4gICAgICAgICAgICAgIHBvc2l0aW9uLCBjdXJyZW50LCBmcm9tLCB0YXJnZXRTdGF0ZSwgMSwgZGVsYXksIGVhc2luZyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRmFrZSBhIFR3ZWVuYWJsZSBhbmQgcGF0Y2ggc29tZSBpbnRlcm5hbHMuICBUaGlzIGFwcHJvYWNoIGFsbG93cyB1cyB0b1xuICAgICAgICAgIC8vIHNraXAgdW5lY2Nlc3NhcnkgcHJvY2Vzc2luZyBhbmQgb2JqZWN0IHJlY3JlYXRpb24sIGN1dHRpbmcgZG93biBvbiBnYXJiYWdlXG4gICAgICAgICAgLy8gY29sbGVjdGlvbiBwYXVzZXMuXG4gICAgICAgICAgdmFyIG1vY2tUd2VlbmFibGUgPSBuZXcgVHdlZW5hYmxlKCk7XG4gICAgICAgICAgbW9ja1R3ZWVuYWJsZS5fZmlsdGVyQXJncyA9IFtdO1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQ29tcHV0ZSB0aGUgbWlkcG9pbnQgb2YgdHdvIE9iamVjdHMuICBUaGlzIG1ldGhvZCBlZmZlY3RpdmVseSBjYWxjdWxhdGVzIGFcbiAgICAgICAgICAgKiBzcGVjaWZpYyBmcmFtZSBvZiBhbmltYXRpb24gdGhhdCBge3sjY3Jvc3NMaW5rXG4gICAgICAgICAgICogXCJUd2VlbmFibGUvdHdlZW46bWV0aG9kXCJ9fXt7L2Nyb3NzTGlua319YCBkb2VzIG1hbnkgdGltZXMgb3ZlciB0aGUgY291cnNlXG4gICAgICAgICAgICogb2YgYSBmdWxsIHR3ZWVuLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogICAgIHZhciBpbnRlcnBvbGF0ZWRWYWx1ZXMgPSBUd2VlbmFibGUuaW50ZXJwb2xhdGUoe1xuICAgICAgICAgICAqICAgICAgIHdpZHRoOiAnMTAwcHgnLFxuICAgICAgICAgICAqICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICogICAgICAgY29sb3I6ICcjZmZmJ1xuICAgICAgICAgICAqICAgICB9LCB7XG4gICAgICAgICAgICogICAgICAgd2lkdGg6ICcyMDBweCcsXG4gICAgICAgICAgICogICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgKiAgICAgICBjb2xvcjogJyMwMDAnXG4gICAgICAgICAgICogICAgIH0sIDAuNSk7XG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiAgICAgY29uc29sZS5sb2coaW50ZXJwb2xhdGVkVmFsdWVzKTtcbiAgICAgICAgICAgKiAgICAgLy8ge29wYWNpdHk6IDAuNSwgd2lkdGg6IFwiMTUwcHhcIiwgY29sb3I6IFwicmdiKDEyNywxMjcsMTI3KVwifVxuICAgICAgICAgICAqXG4gICAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgICAqIEBtZXRob2QgaW50ZXJwb2xhdGVcbiAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZnJvbSBUaGUgc3RhcnRpbmcgdmFsdWVzIHRvIHR3ZWVuIGZyb20uXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFN0YXRlIFRoZSBlbmRpbmcgdmFsdWVzIHRvIHR3ZWVuIHRvLlxuICAgICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb3NpdGlvbiBUaGUgbm9ybWFsaXplZCBwb3NpdGlvbiB2YWx1ZSAoYmV0d2VlbiBgMC4wYCBhbmRcbiAgICAgICAgICAgKiBgMS4wYCkgdG8gaW50ZXJwb2xhdGUgdGhlIHZhbHVlcyBiZXR3ZWVuIGBmcm9tYCBhbmQgYHRvYCBmb3IuICBgZnJvbWBcbiAgICAgICAgICAgKiByZXByZXNlbnRzIGAwYCBhbmQgYHRvYCByZXByZXNlbnRzIGAxYC5cbiAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nfEZ1bmN0aW9uPnxzdHJpbmd8RnVuY3Rpb259IGVhc2luZyBUaGUgZWFzaW5nXG4gICAgICAgICAgICogY3VydmUocykgdG8gY2FsY3VsYXRlIHRoZSBtaWRwb2ludCBhZ2FpbnN0LiAgWW91IGNhbiByZWZlcmVuY2UgYW55IGVhc2luZ1xuICAgICAgICAgICAqIGZ1bmN0aW9uIGF0dGFjaGVkIHRvIGBUd2VlbmFibGUucHJvdG90eXBlLmZvcm11bGFgLCBvciBwcm92aWRlIHRoZSBlYXNpbmdcbiAgICAgICAgICAgKiBmdW5jdGlvbihzKSBkaXJlY3RseS4gIElmIG9taXR0ZWQsIHRoaXMgZGVmYXVsdHMgdG8gXCJsaW5lYXJcIi5cbiAgICAgICAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdF9kZWxheSBPcHRpb25hbCBkZWxheSB0byBwYWQgdGhlIGJlZ2lubmluZyBvZiB0aGVcbiAgICAgICAgICAgKiBpbnRlcnBvbGF0ZWQgdHdlZW4gd2l0aC4gIFRoaXMgaW5jcmVhc2VzIHRoZSByYW5nZSBvZiBgcG9zaXRpb25gIGZyb20gKGAwYFxuICAgICAgICAgICAqIHRocm91Z2ggYDFgKSB0byAoYDBgIHRocm91Z2ggYDEgKyBvcHRfZGVsYXlgKS4gIFNvLCBhIGRlbGF5IG9mIGAwLjVgIHdvdWxkXG4gICAgICAgICAgICogaW5jcmVhc2UgYWxsIHZhbGlkIHZhbHVlcyBvZiBgcG9zaXRpb25gIHRvIG51bWJlcnMgYmV0d2VlbiBgMGAgYW5kIGAxLjVgLlxuICAgICAgICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBUd2VlbmFibGUuaW50ZXJwb2xhdGUgPSBmdW5jdGlvbihcbiAgICAgICAgICAgIGZyb20sIHRhcmdldFN0YXRlLCBwb3NpdGlvbiwgZWFzaW5nLCBvcHRfZGVsYXkpIHtcblxuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBUd2VlbmFibGUuc2hhbGxvd0NvcHkoe30sIGZyb20pO1xuICAgICAgICAgICAgdmFyIGRlbGF5ID0gb3B0X2RlbGF5IHx8IDA7XG4gICAgICAgICAgICB2YXIgZWFzaW5nT2JqZWN0ID0gVHdlZW5hYmxlLmNvbXBvc2VFYXNpbmdPYmplY3QoXG4gICAgICAgICAgICAgIGZyb20sIGVhc2luZyB8fCAnbGluZWFyJyk7XG5cbiAgICAgICAgICAgIG1vY2tUd2VlbmFibGUuc2V0KHt9KTtcblxuICAgICAgICAgICAgLy8gQWxpYXMgYW5kIHJldXNlIHRoZSBfZmlsdGVyQXJncyBhcnJheSBpbnN0ZWFkIG9mIHJlY3JlYXRpbmcgaXQuXG4gICAgICAgICAgICB2YXIgZmlsdGVyQXJncyA9IG1vY2tUd2VlbmFibGUuX2ZpbHRlckFyZ3M7XG4gICAgICAgICAgICBmaWx0ZXJBcmdzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBmaWx0ZXJBcmdzWzBdID0gY3VycmVudDtcbiAgICAgICAgICAgIGZpbHRlckFyZ3NbMV0gPSBmcm9tO1xuICAgICAgICAgICAgZmlsdGVyQXJnc1syXSA9IHRhcmdldFN0YXRlO1xuICAgICAgICAgICAgZmlsdGVyQXJnc1szXSA9IGVhc2luZ09iamVjdDtcblxuICAgICAgICAgICAgLy8gQW55IGRlZmluZWQgdmFsdWUgdHJhbnNmb3JtYXRpb24gbXVzdCBiZSBhcHBsaWVkXG4gICAgICAgICAgICBUd2VlbmFibGUuYXBwbHlGaWx0ZXIobW9ja1R3ZWVuYWJsZSwgJ3R3ZWVuQ3JlYXRlZCcpO1xuICAgICAgICAgICAgVHdlZW5hYmxlLmFwcGx5RmlsdGVyKG1vY2tUd2VlbmFibGUsICdiZWZvcmVUd2VlbicpO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJwb2xhdGVkVmFsdWVzID0gZ2V0SW50ZXJwb2xhdGVkVmFsdWVzKFxuICAgICAgICAgICAgICBmcm9tLCBjdXJyZW50LCB0YXJnZXRTdGF0ZSwgcG9zaXRpb24sIGVhc2luZ09iamVjdCwgZGVsYXkpO1xuXG4gICAgICAgICAgICAvLyBUcmFuc2Zvcm0gdmFsdWVzIGJhY2sgaW50byB0aGVpciBvcmlnaW5hbCBmb3JtYXRcbiAgICAgICAgICAgIFR3ZWVuYWJsZS5hcHBseUZpbHRlcihtb2NrVHdlZW5hYmxlLCAnYWZ0ZXJUd2VlbicpO1xuXG4gICAgICAgICAgICByZXR1cm4gaW50ZXJwb2xhdGVkVmFsdWVzO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgfSgpKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBtb2R1bGUgYWRkcyBzdHJpbmcgaW50ZXJwb2xhdGlvbiBzdXBwb3J0IHRvIFNoaWZ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIFRva2VuIGV4dGVuc2lvbiBhbGxvd3MgU2hpZnR5IHRvIHR3ZWVuIG51bWJlcnMgaW5zaWRlIG9mIHN0cmluZ3MuICBBbW9uZ1xuICAgICAgICAgKiBvdGhlciB0aGluZ3MsIHRoaXMgYWxsb3dzIHlvdSB0byBhbmltYXRlIENTUyBwcm9wZXJ0aWVzLiAgRm9yIGV4YW1wbGUsIHlvdVxuICAgICAgICAgKiBjYW4gZG8gdGhpczpcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIHZhciB0d2VlbmFibGUgPSBuZXcgVHdlZW5hYmxlKCk7XG4gICAgICAgICAqICAgICB0d2VlbmFibGUudHdlZW4oe1xuICAgICAgICAgKiAgICAgICBmcm9tOiB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoNDVweCknIH0sXG4gICAgICAgICAqICAgICAgIHRvOiB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoOTB4cCknIH1cbiAgICAgICAgICogICAgIH0pO1xuICAgICAgICAgKlxuICAgICAgICAgKiBgdHJhbnNsYXRlWCg0NSlgIHdpbGwgYmUgdHdlZW5lZCB0byBgdHJhbnNsYXRlWCg5MClgLiAgVG8gZGVtb25zdHJhdGU6XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICB2YXIgdHdlZW5hYmxlID0gbmV3IFR3ZWVuYWJsZSgpO1xuICAgICAgICAgKiAgICAgdHdlZW5hYmxlLnR3ZWVuKHtcbiAgICAgICAgICogICAgICAgZnJvbTogeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKDQ1cHgpJyB9LFxuICAgICAgICAgKiAgICAgICB0bzogeyB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKDkwcHgpJyB9LFxuICAgICAgICAgKiAgICAgICBzdGVwOiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICogICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS50cmFuc2Zvcm0pO1xuICAgICAgICAgKiAgICAgICB9XG4gICAgICAgICAqICAgICB9KTtcbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGFib3ZlIHNuaXBwZXQgd2lsbCBsb2cgc29tZXRoaW5nIGxpa2UgdGhpcyBpbiB0aGUgY29uc29sZTpcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIHRyYW5zbGF0ZVgoNjAuM3B4KVxuICAgICAgICAgKiAgICAgLi4uXG4gICAgICAgICAqICAgICB0cmFuc2xhdGVYKDc2LjA1cHgpXG4gICAgICAgICAqICAgICAuLi5cbiAgICAgICAgICogICAgIHRyYW5zbGF0ZVgoOTBweClcbiAgICAgICAgICpcbiAgICAgICAgICogQW5vdGhlciB1c2UgZm9yIHRoaXMgaXMgYW5pbWF0aW5nIGNvbG9yczpcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIHZhciB0d2VlbmFibGUgPSBuZXcgVHdlZW5hYmxlKCk7XG4gICAgICAgICAqICAgICB0d2VlbmFibGUudHdlZW4oe1xuICAgICAgICAgKiAgICAgICBmcm9tOiB7IGNvbG9yOiAncmdiKDAsMjU1LDApJyB9LFxuICAgICAgICAgKiAgICAgICB0bzogeyBjb2xvcjogJ3JnYigyNTUsMCwyNTUpJyB9LFxuICAgICAgICAgKiAgICAgICBzdGVwOiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICogICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS5jb2xvcik7XG4gICAgICAgICAqICAgICAgIH1cbiAgICAgICAgICogICAgIH0pO1xuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgYWJvdmUgc25pcHBldCB3aWxsIGxvZyBzb21ldGhpbmcgbGlrZSB0aGlzOlxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgcmdiKDg0LDE3MCw4NClcbiAgICAgICAgICogICAgIC4uLlxuICAgICAgICAgKiAgICAgcmdiKDE3MCw4NCwxNzApXG4gICAgICAgICAqICAgICAuLi5cbiAgICAgICAgICogICAgIHJnYigyNTUsMCwyNTUpXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgZXh0ZW5zaW9uIGFsc28gc3VwcG9ydHMgaGV4YWRlY2ltYWwgY29sb3JzLCBpbiBib3RoIGxvbmcgKGAjZmYwMGZmYClcbiAgICAgICAgICogYW5kIHNob3J0IChgI2YwZmApIGZvcm1zLiAgQmUgYXdhcmUgdGhhdCBoZXhhZGVjaW1hbCBpbnB1dCB2YWx1ZXMgd2lsbCBiZVxuICAgICAgICAgKiBjb252ZXJ0ZWQgaW50byB0aGUgZXF1aXZhbGVudCBSR0Igb3V0cHV0IHZhbHVlcy4gIFRoaXMgaXMgZG9uZSB0byBvcHRpbWl6ZVxuICAgICAgICAgKiBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICB2YXIgdHdlZW5hYmxlID0gbmV3IFR3ZWVuYWJsZSgpO1xuICAgICAgICAgKiAgICAgdHdlZW5hYmxlLnR3ZWVuKHtcbiAgICAgICAgICogICAgICAgZnJvbTogeyBjb2xvcjogJyMwZjAnIH0sXG4gICAgICAgICAqICAgICAgIHRvOiB7IGNvbG9yOiAnI2YwZicgfSxcbiAgICAgICAgICogICAgICAgc3RlcDogZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAqICAgICAgICAgY29uc29sZS5sb2coc3RhdGUuY29sb3IpO1xuICAgICAgICAgKiAgICAgICB9XG4gICAgICAgICAqICAgICB9KTtcbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBzbmlwcGV0IHdpbGwgZ2VuZXJhdGUgdGhlIHNhbWUgb3V0cHV0IGFzIHRoZSBvbmUgYmVmb3JlIGl0IGJlY2F1c2VcbiAgICAgICAgICogZXF1aXZhbGVudCB2YWx1ZXMgd2VyZSBzdXBwbGllZCAoanVzdCBpbiBoZXhhZGVjaW1hbCBmb3JtIHJhdGhlciB0aGFuIFJHQik6XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICByZ2IoODQsMTcwLDg0KVxuICAgICAgICAgKiAgICAgLi4uXG4gICAgICAgICAqICAgICByZ2IoMTcwLDg0LDE3MClcbiAgICAgICAgICogICAgIC4uLlxuICAgICAgICAgKiAgICAgcmdiKDI1NSwwLDI1NSlcbiAgICAgICAgICpcbiAgICAgICAgICogIyMgRWFzaW5nIHN1cHBvcnRcbiAgICAgICAgICpcbiAgICAgICAgICogRWFzaW5nIHdvcmtzIHNvbWV3aGF0IGRpZmZlcmVudGx5IGluIHRoZSBUb2tlbiBleHRlbnNpb24uICBUaGlzIGlzIGJlY2F1c2VcbiAgICAgICAgICogc29tZSBDU1MgcHJvcGVydGllcyBoYXZlIG11bHRpcGxlIHZhbHVlcyBpbiB0aGVtLCBhbmQgeW91IG1pZ2h0IG5lZWQgdG9cbiAgICAgICAgICogdHdlZW4gZWFjaCB2YWx1ZSBhbG9uZyBpdHMgb3duIGVhc2luZyBjdXJ2ZS4gIEEgYmFzaWMgZXhhbXBsZTpcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIHZhciB0d2VlbmFibGUgPSBuZXcgVHdlZW5hYmxlKCk7XG4gICAgICAgICAqICAgICB0d2VlbmFibGUudHdlZW4oe1xuICAgICAgICAgKiAgICAgICBmcm9tOiB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoMHB4KSB0cmFuc2xhdGVZKDBweCknIH0sXG4gICAgICAgICAqICAgICAgIHRvOiB7IHRyYW5zZm9ybTogICAndHJhbnNsYXRlWCgxMDBweCkgdHJhbnNsYXRlWSgxMDBweCknIH0sXG4gICAgICAgICAqICAgICAgIGVhc2luZzogeyB0cmFuc2Zvcm06ICdlYXNlSW5RdWFkJyB9LFxuICAgICAgICAgKiAgICAgICBzdGVwOiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICogICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS50cmFuc2Zvcm0pO1xuICAgICAgICAgKiAgICAgICB9XG4gICAgICAgICAqICAgICB9KTtcbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGFib3ZlIHNuaXBwZXQgd2lsbCBjcmVhdGUgdmFsdWVzIGxpa2UgdGhpczpcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIHRyYW5zbGF0ZVgoMTEuNTZweCkgdHJhbnNsYXRlWSgxMS41NnB4KVxuICAgICAgICAgKiAgICAgLi4uXG4gICAgICAgICAqICAgICB0cmFuc2xhdGVYKDQ2LjI0cHgpIHRyYW5zbGF0ZVkoNDYuMjRweClcbiAgICAgICAgICogICAgIC4uLlxuICAgICAgICAgKiAgICAgdHJhbnNsYXRlWCgxMDBweCkgdHJhbnNsYXRlWSgxMDBweClcbiAgICAgICAgICpcbiAgICAgICAgICogSW4gdGhpcyBjYXNlLCB0aGUgdmFsdWVzIGZvciBgdHJhbnNsYXRlWGAgYW5kIGB0cmFuc2xhdGVZYCBhcmUgYWx3YXlzIHRoZVxuICAgICAgICAgKiBzYW1lIGZvciBlYWNoIHN0ZXAgb2YgdGhlIHR3ZWVuLCBiZWNhdXNlIHRoZXkgaGF2ZSB0aGUgc2FtZSBzdGFydCBhbmQgZW5kXG4gICAgICAgICAqIHBvaW50cyBhbmQgYm90aCB1c2UgdGhlIHNhbWUgZWFzaW5nIGN1cnZlLiAgV2UgY2FuIGFsc28gdHdlZW4gYHRyYW5zbGF0ZVhgXG4gICAgICAgICAqIGFuZCBgdHJhbnNsYXRlWWAgYWxvbmcgaW5kZXBlbmRlbnQgY3VydmVzOlxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgdmFyIHR3ZWVuYWJsZSA9IG5ldyBUd2VlbmFibGUoKTtcbiAgICAgICAgICogICAgIHR3ZWVuYWJsZS50d2Vlbih7XG4gICAgICAgICAqICAgICAgIGZyb206IHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlWCgwcHgpIHRyYW5zbGF0ZVkoMHB4KScgfSxcbiAgICAgICAgICogICAgICAgdG86IHsgdHJhbnNmb3JtOiAgICd0cmFuc2xhdGVYKDEwMHB4KSB0cmFuc2xhdGVZKDEwMHB4KScgfSxcbiAgICAgICAgICogICAgICAgZWFzaW5nOiB7IHRyYW5zZm9ybTogJ2Vhc2VJblF1YWQgYm91bmNlJyB9LFxuICAgICAgICAgKiAgICAgICBzdGVwOiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICogICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS50cmFuc2Zvcm0pO1xuICAgICAgICAgKiAgICAgICB9XG4gICAgICAgICAqICAgICB9KTtcbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGFib3ZlIHNuaXBwZXQgd2lsbCBjcmVhdGUgdmFsdWVzIGxpa2UgdGhpczpcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIHRyYW5zbGF0ZVgoMTAuODlweCkgdHJhbnNsYXRlWSg4Mi4zNXB4KVxuICAgICAgICAgKiAgICAgLi4uXG4gICAgICAgICAqICAgICB0cmFuc2xhdGVYKDQ0Ljg5cHgpIHRyYW5zbGF0ZVkoODYuNzNweClcbiAgICAgICAgICogICAgIC4uLlxuICAgICAgICAgKiAgICAgdHJhbnNsYXRlWCgxMDBweCkgdHJhbnNsYXRlWSgxMDBweClcbiAgICAgICAgICpcbiAgICAgICAgICogYHRyYW5zbGF0ZVhgIGFuZCBgdHJhbnNsYXRlWWAgYXJlIG5vdCBpbiBzeW5jIGFueW1vcmUsIGJlY2F1c2UgYGVhc2VJblF1YWRgXG4gICAgICAgICAqIHdhcyBzcGVjaWZpZWQgZm9yIGB0cmFuc2xhdGVYYCBhbmQgYGJvdW5jZWAgZm9yIGB0cmFuc2xhdGVZYC4gIE1peGluZyBhbmRcbiAgICAgICAgICogbWF0Y2hpbmcgZWFzaW5nIGN1cnZlcyBjYW4gbWFrZSBmb3Igc29tZSBpbnRlcmVzdGluZyBtb3Rpb24gaW4geW91clxuICAgICAgICAgKiBhbmltYXRpb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgb3JkZXIgb2YgdGhlIHNwYWNlLXNlcGFyYXRlZCBlYXNpbmcgY3VydmVzIGNvcnJlc3BvbmQgdGhlIHRva2VuIHZhbHVlc1xuICAgICAgICAgKiB0aGV5IGFwcGx5IHRvLiAgSWYgdGhlcmUgYXJlIG1vcmUgdG9rZW4gdmFsdWVzIHRoYW4gZWFzaW5nIGN1cnZlcyBsaXN0ZWQsXG4gICAgICAgICAqIHRoZSBsYXN0IGVhc2luZyBjdXJ2ZSBsaXN0ZWQgaXMgdXNlZC5cbiAgICAgICAgICogQHN1Ym1vZHVsZSBUd2VlbmFibGUudG9rZW5cbiAgICAgICAgICovXG5cbiAgICAgICAgLy8gdG9rZW4gZnVuY3Rpb24gaXMgZGVmaW5lZCBhYm92ZSBvbmx5IHNvIHRoYXQgZG94LWZvdW5kYXRpb24gc2VlcyBpdCBhc1xuICAgICAgICAvLyBkb2N1bWVudGF0aW9uIGFuZCByZW5kZXJzIGl0LiAgSXQgaXMgbmV2ZXIgdXNlZCwgYW5kIGlzIG9wdGltaXplZCBhd2F5IGF0XG4gICAgICAgIC8vIGJ1aWxkIHRpbWUuXG5cbiAgICAgICAgO1xuICAgICAgICAoZnVuY3Rpb24oVHdlZW5hYmxlKSB7XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAdHlwZWRlZiB7e1xuICAgICAgICAgICAqICAgZm9ybWF0U3RyaW5nOiBzdHJpbmdcbiAgICAgICAgICAgKiAgIGNodW5rTmFtZXM6IEFycmF5LjxzdHJpbmc+XG4gICAgICAgICAgICogfX1cbiAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIHZhciBmb3JtYXRNYW5pZmVzdDtcblxuICAgICAgICAgIC8vIENPTlNUQU5UU1xuXG4gICAgICAgICAgdmFyIFJfTlVNQkVSX0NPTVBPTkVOVCA9IC8oXFxkfFxcLXxcXC4pLztcbiAgICAgICAgICB2YXIgUl9GT1JNQVRfQ0hVTktTID0gLyhbXlxcLTAtOVxcLl0rKS9nO1xuICAgICAgICAgIHZhciBSX1VORk9STUFUVEVEX1ZBTFVFUyA9IC9bMC05LlxcLV0rL2c7XG4gICAgICAgICAgdmFyIFJfUkdCID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICdyZ2JcXFxcKCcgKyBSX1VORk9STUFUVEVEX1ZBTFVFUy5zb3VyY2UgK1xuICAgICAgICAgICAgKC8sXFxzKi8uc291cmNlKSArIFJfVU5GT1JNQVRURURfVkFMVUVTLnNvdXJjZSArXG4gICAgICAgICAgICAoLyxcXHMqLy5zb3VyY2UpICsgUl9VTkZPUk1BVFRFRF9WQUxVRVMuc291cmNlICsgJ1xcXFwpJywgJ2cnKTtcbiAgICAgICAgICB2YXIgUl9SR0JfUFJFRklYID0gL14uKlxcKC87XG4gICAgICAgICAgdmFyIFJfSEVYID0gLyMoWzAtOV18W2EtZl0pezMsNn0vZ2k7XG4gICAgICAgICAgdmFyIFZBTFVFX1BMQUNFSE9MREVSID0gJ1ZBTCc7XG5cbiAgICAgICAgICAvLyBIRUxQRVJTXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5Lm51bWJlcn0gcmF3VmFsdWVzXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeFxuICAgICAgICAgICAqXG4gICAgICAgICAgICogQHJldHVybiB7QXJyYXkuPHN0cmluZz59XG4gICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmdW5jdGlvbiBnZXRGb3JtYXRDaHVua3NGcm9tKHJhd1ZhbHVlcywgcHJlZml4KSB7XG4gICAgICAgICAgICB2YXIgYWNjdW11bGF0b3IgPSBbXTtcblxuICAgICAgICAgICAgdmFyIHJhd1ZhbHVlc0xlbmd0aCA9IHJhd1ZhbHVlcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgaTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJhd1ZhbHVlc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGFjY3VtdWxhdG9yLnB1c2goJ18nICsgcHJlZml4ICsgJ18nICsgaSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm9ybWF0dGVkU3RyaW5nXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmdW5jdGlvbiBnZXRGb3JtYXRTdHJpbmdGcm9tKGZvcm1hdHRlZFN0cmluZykge1xuICAgICAgICAgICAgdmFyIGNodW5rcyA9IGZvcm1hdHRlZFN0cmluZy5tYXRjaChSX0ZPUk1BVF9DSFVOS1MpO1xuXG4gICAgICAgICAgICBpZiAoIWNodW5rcykge1xuICAgICAgICAgICAgICAvLyBjaHVua3Mgd2lsbCBiZSBudWxsIGlmIHRoZXJlIHdlcmUgbm8gdG9rZW5zIHRvIHBhcnNlIGluXG4gICAgICAgICAgICAgIC8vIGZvcm1hdHRlZFN0cmluZyAoZm9yIGV4YW1wbGUsIGlmIGZvcm1hdHRlZFN0cmluZyBpcyAnMicpLiAgQ29lcmNlXG4gICAgICAgICAgICAgIC8vIGNodW5rcyB0byBiZSB1c2VmdWwgaGVyZS5cbiAgICAgICAgICAgICAgY2h1bmtzID0gWycnLCAnJ107XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgb25seSBvbmUgY2h1bmssIGFzc3VtZSB0aGF0IHRoZSBzdHJpbmcgaXMgYSBudW1iZXJcbiAgICAgICAgICAgICAgLy8gZm9sbG93ZWQgYnkgYSB0b2tlbi4uLlxuICAgICAgICAgICAgICAvLyBOT1RFOiBUaGlzIG1heSBiZSBhbiB1bndpc2UgYXNzdW1wdGlvbi5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2h1bmtzLmxlbmd0aCA9PT0gMSB8fFxuICAgICAgICAgICAgICAvLyAuLi5vciBpZiB0aGUgc3RyaW5nIHN0YXJ0cyB3aXRoIGEgbnVtYmVyIGNvbXBvbmVudCAoXCIuXCIsIFwiLVwiLCBvciBhXG4gICAgICAgICAgICAgIC8vIGRpZ2l0KS4uLlxuICAgICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmdbMF0ubWF0Y2goUl9OVU1CRVJfQ09NUE9ORU5UKSkge1xuICAgICAgICAgICAgICAvLyAuLi5wcmVwZW5kIGFuIGVtcHR5IHN0cmluZyBoZXJlIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBmb3JtYXR0ZWQgbnVtYmVyXG4gICAgICAgICAgICAgIC8vIGlzIHByb3Blcmx5IHJlcGxhY2VkIGJ5IFZBTFVFX1BMQUNFSE9MREVSXG4gICAgICAgICAgICAgIGNodW5rcy51bnNoaWZ0KCcnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNodW5rcy5qb2luKFZBTFVFX1BMQUNFSE9MREVSKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBDb252ZXJ0IGFsbCBoZXggY29sb3IgdmFsdWVzIHdpdGhpbiBhIHN0cmluZyB0byBhbiByZ2Igc3RyaW5nLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlT2JqZWN0XG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBtb2RpZmllZCBvYmpcbiAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZ1bmN0aW9uIHNhbml0aXplT2JqZWN0Rm9ySGV4UHJvcHMoc3RhdGVPYmplY3QpIHtcbiAgICAgICAgICAgIFR3ZWVuYWJsZS5lYWNoKHN0YXRlT2JqZWN0LCBmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgICAgICAgIHZhciBjdXJyZW50UHJvcCA9IHN0YXRlT2JqZWN0W3Byb3BdO1xuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgY3VycmVudFByb3AgPT09ICdzdHJpbmcnICYmIGN1cnJlbnRQcm9wLm1hdGNoKFJfSEVYKSkge1xuICAgICAgICAgICAgICAgIHN0YXRlT2JqZWN0W3Byb3BdID0gc2FuaXRpemVIZXhDaHVua3NUb1JHQihjdXJyZW50UHJvcCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZ1bmN0aW9uIHNhbml0aXplSGV4Q2h1bmtzVG9SR0Ioc3RyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyU3RyaW5nQ2h1bmtzKFJfSEVYLCBzdHIsIGNvbnZlcnRIZXhUb1JHQik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGhleFN0cmluZ1xuICAgICAgICAgICAqXG4gICAgICAgICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICovXG4gICAgICAgICAgZnVuY3Rpb24gY29udmVydEhleFRvUkdCKGhleFN0cmluZykge1xuICAgICAgICAgICAgdmFyIHJnYkFyciA9IGhleFRvUkdCQXJyYXkoaGV4U3RyaW5nKTtcbiAgICAgICAgICAgIHJldHVybiAncmdiKCcgKyByZ2JBcnJbMF0gKyAnLCcgKyByZ2JBcnJbMV0gKyAnLCcgKyByZ2JBcnJbMl0gKyAnKSc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGhleFRvUkdCQXJyYXlfcmV0dXJuQXJyYXkgPSBbXTtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBDb252ZXJ0IGEgaGV4YWRlY2ltYWwgc3RyaW5nIHRvIGFuIGFycmF5IHdpdGggdGhyZWUgaXRlbXMsIG9uZSBlYWNoIGZvclxuICAgICAgICAgICAqIHRoZSByZWQsIGJsdWUsIGFuZCBncmVlbiBkZWNpbWFsIHZhbHVlcy5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBoZXggQSBoZXhhZGVjaW1hbCBzdHJpbmcuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXkuPG51bWJlcj59IFRoZSBjb252ZXJ0ZWQgQXJyYXkgb2YgUkdCIHZhbHVlcyBpZiBgaGV4YCBpcyBhXG4gICAgICAgICAgICogdmFsaWQgc3RyaW5nLCBvciBhbiBBcnJheSBvZiB0aHJlZSAwJ3MuXG4gICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmdW5jdGlvbiBoZXhUb1JHQkFycmF5KGhleCkge1xuXG4gICAgICAgICAgICBoZXggPSBoZXgucmVwbGFjZSgvIy8sICcnKTtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIHN0cmluZyBpcyBhIHNob3J0aGFuZCB0aHJlZSBkaWdpdCBoZXggbm90YXRpb24sIG5vcm1hbGl6ZSBpdCB0b1xuICAgICAgICAgICAgLy8gdGhlIHN0YW5kYXJkIHNpeCBkaWdpdCBub3RhdGlvblxuICAgICAgICAgICAgaWYgKGhleC5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgaGV4ID0gaGV4LnNwbGl0KCcnKTtcbiAgICAgICAgICAgICAgaGV4ID0gaGV4WzBdICsgaGV4WzBdICsgaGV4WzFdICsgaGV4WzFdICsgaGV4WzJdICsgaGV4WzJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoZXhUb1JHQkFycmF5X3JldHVybkFycmF5WzBdID0gaGV4VG9EZWMoaGV4LnN1YnN0cigwLCAyKSk7XG4gICAgICAgICAgICBoZXhUb1JHQkFycmF5X3JldHVybkFycmF5WzFdID0gaGV4VG9EZWMoaGV4LnN1YnN0cigyLCAyKSk7XG4gICAgICAgICAgICBoZXhUb1JHQkFycmF5X3JldHVybkFycmF5WzJdID0gaGV4VG9EZWMoaGV4LnN1YnN0cig0LCAyKSk7XG5cbiAgICAgICAgICAgIHJldHVybiBoZXhUb1JHQkFycmF5X3JldHVybkFycmF5O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIENvbnZlcnQgYSBiYXNlLTE2IG51bWJlciB0byBiYXNlLTEwLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBoZXggVGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNlLTEwIGVxdWl2YWxlbnQgb2YgYGhleGAuXG4gICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmdW5jdGlvbiBoZXhUb0RlYyhoZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChoZXgsIDE2KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBSdW5zIGEgZmlsdGVyIG9wZXJhdGlvbiBvbiBhbGwgY2h1bmtzIG9mIGEgc3RyaW5nIHRoYXQgbWF0Y2ggYSBSZWdFeHBcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEBwYXJhbSB7UmVnRXhwfSBwYXR0ZXJuXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHVuZmlsdGVyZWRTdHJpbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZyl9IGZpbHRlclxuICAgICAgICAgICAqXG4gICAgICAgICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICovXG4gICAgICAgICAgZnVuY3Rpb24gZmlsdGVyU3RyaW5nQ2h1bmtzKHBhdHRlcm4sIHVuZmlsdGVyZWRTdHJpbmcsIGZpbHRlcikge1xuICAgICAgICAgICAgdmFyIHBhdHRlbk1hdGNoZXMgPSB1bmZpbHRlcmVkU3RyaW5nLm1hdGNoKHBhdHRlcm4pO1xuICAgICAgICAgICAgdmFyIGZpbHRlcmVkU3RyaW5nID0gdW5maWx0ZXJlZFN0cmluZy5yZXBsYWNlKHBhdHRlcm4sIFZBTFVFX1BMQUNFSE9MREVSKTtcblxuICAgICAgICAgICAgaWYgKHBhdHRlbk1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgdmFyIHBhdHRlbk1hdGNoZXNMZW5ndGggPSBwYXR0ZW5NYXRjaGVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgdmFyIGN1cnJlbnRDaHVuaztcblxuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdHRlbk1hdGNoZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDaHVuayA9IHBhdHRlbk1hdGNoZXMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZFN0cmluZyA9IGZpbHRlcmVkU3RyaW5nLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICBWQUxVRV9QTEFDRUhPTERFUiwgZmlsdGVyKGN1cnJlbnRDaHVuaykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZFN0cmluZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBDaGVjayBmb3IgZmxvYXRpbmcgcG9pbnQgdmFsdWVzIHdpdGhpbiByZ2Igc3RyaW5ncyBhbmQgcm91bmRzIHRoZW0uXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm9ybWF0dGVkU3RyaW5nXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmdW5jdGlvbiBzYW5pdGl6ZVJHQkNodW5rcyhmb3JtYXR0ZWRTdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJTdHJpbmdDaHVua3MoUl9SR0IsIGZvcm1hdHRlZFN0cmluZywgc2FuaXRpemVSR0JDaHVuayk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHJnYkNodW5rXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmdW5jdGlvbiBzYW5pdGl6ZVJHQkNodW5rKHJnYkNodW5rKSB7XG4gICAgICAgICAgICB2YXIgbnVtYmVycyA9IHJnYkNodW5rLm1hdGNoKFJfVU5GT1JNQVRURURfVkFMVUVTKTtcbiAgICAgICAgICAgIHZhciBudW1iZXJzTGVuZ3RoID0gbnVtYmVycy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgc2FuaXRpemVkU3RyaW5nID0gcmdiQ2h1bmsubWF0Y2goUl9SR0JfUFJFRklYKVswXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgc2FuaXRpemVkU3RyaW5nICs9IHBhcnNlSW50KG51bWJlcnNbaV0sIDEwKSArICcsJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2FuaXRpemVkU3RyaW5nID0gc2FuaXRpemVkU3RyaW5nLnNsaWNlKDAsIC0xKSArICcpJztcblxuICAgICAgICAgICAgcmV0dXJuIHNhbml0aXplZFN0cmluZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGVPYmplY3RcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gQW4gT2JqZWN0IG9mIGZvcm1hdE1hbmlmZXN0cyB0aGF0IGNvcnJlc3BvbmQgdG9cbiAgICAgICAgICAgKiB0aGUgc3RyaW5nIHByb3BlcnRpZXMgb2Ygc3RhdGVPYmplY3RcbiAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZ1bmN0aW9uIGdldEZvcm1hdE1hbmlmZXN0cyhzdGF0ZU9iamVjdCkge1xuICAgICAgICAgICAgdmFyIG1hbmlmZXN0QWNjdW11bGF0b3IgPSB7fTtcblxuICAgICAgICAgICAgVHdlZW5hYmxlLmVhY2goc3RhdGVPYmplY3QsIGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgICAgICAgdmFyIGN1cnJlbnRQcm9wID0gc3RhdGVPYmplY3RbcHJvcF07XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50UHJvcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmF3VmFsdWVzID0gZ2V0VmFsdWVzRnJvbShjdXJyZW50UHJvcCk7XG5cbiAgICAgICAgICAgICAgICBtYW5pZmVzdEFjY3VtdWxhdG9yW3Byb3BdID0ge1xuICAgICAgICAgICAgICAgICAgJ2Zvcm1hdFN0cmluZyc6IGdldEZvcm1hdFN0cmluZ0Zyb20oY3VycmVudFByb3ApLFxuICAgICAgICAgICAgICAgICAgJ2NodW5rTmFtZXMnOiBnZXRGb3JtYXRDaHVua3NGcm9tKHJhd1ZhbHVlcywgcHJvcClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIG1hbmlmZXN0QWNjdW11bGF0b3I7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlT2JqZWN0XG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGZvcm1hdE1hbmlmZXN0c1xuICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICovXG4gICAgICAgICAgZnVuY3Rpb24gZXhwYW5kRm9ybWF0dGVkUHJvcGVydGllcyhzdGF0ZU9iamVjdCwgZm9ybWF0TWFuaWZlc3RzKSB7XG4gICAgICAgICAgICBUd2VlbmFibGUuZWFjaChmb3JtYXRNYW5pZmVzdHMsIGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgICAgICAgdmFyIGN1cnJlbnRQcm9wID0gc3RhdGVPYmplY3RbcHJvcF07XG4gICAgICAgICAgICAgIHZhciByYXdWYWx1ZXMgPSBnZXRWYWx1ZXNGcm9tKGN1cnJlbnRQcm9wKTtcbiAgICAgICAgICAgICAgdmFyIHJhd1ZhbHVlc0xlbmd0aCA9IHJhd1ZhbHVlcy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdWYWx1ZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHN0YXRlT2JqZWN0W2Zvcm1hdE1hbmlmZXN0c1twcm9wXS5jaHVua05hbWVzW2ldXSA9ICtyYXdWYWx1ZXNbaV07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBkZWxldGUgc3RhdGVPYmplY3RbcHJvcF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGVPYmplY3RcbiAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZm9ybWF0TWFuaWZlc3RzXG4gICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmdW5jdGlvbiBjb2xsYXBzZUZvcm1hdHRlZFByb3BlcnRpZXMoc3RhdGVPYmplY3QsIGZvcm1hdE1hbmlmZXN0cykge1xuICAgICAgICAgICAgVHdlZW5hYmxlLmVhY2goZm9ybWF0TWFuaWZlc3RzLCBmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgICAgICAgIHZhciBjdXJyZW50UHJvcCA9IHN0YXRlT2JqZWN0W3Byb3BdO1xuICAgICAgICAgICAgICB2YXIgZm9ybWF0Q2h1bmtzID0gZXh0cmFjdFByb3BlcnR5Q2h1bmtzKFxuICAgICAgICAgICAgICAgIHN0YXRlT2JqZWN0LCBmb3JtYXRNYW5pZmVzdHNbcHJvcF0uY2h1bmtOYW1lcyk7XG4gICAgICAgICAgICAgIHZhciB2YWx1ZXNMaXN0ID0gZ2V0VmFsdWVzTGlzdChcbiAgICAgICAgICAgICAgICBmb3JtYXRDaHVua3MsIGZvcm1hdE1hbmlmZXN0c1twcm9wXS5jaHVua05hbWVzKTtcbiAgICAgICAgICAgICAgY3VycmVudFByb3AgPSBnZXRGb3JtYXR0ZWRWYWx1ZXMoXG4gICAgICAgICAgICAgICAgZm9ybWF0TWFuaWZlc3RzW3Byb3BdLmZvcm1hdFN0cmluZywgdmFsdWVzTGlzdCk7XG4gICAgICAgICAgICAgIHN0YXRlT2JqZWN0W3Byb3BdID0gc2FuaXRpemVSR0JDaHVua3MoY3VycmVudFByb3ApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlT2JqZWN0XG4gICAgICAgICAgICogQHBhcmFtIHtBcnJheS48c3RyaW5nPn0gY2h1bmtOYW1lc1xuICAgICAgICAgICAqXG4gICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgZXh0cmFjdGVkIHZhbHVlIGNodW5rcy5cbiAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZ1bmN0aW9uIGV4dHJhY3RQcm9wZXJ0eUNodW5rcyhzdGF0ZU9iamVjdCwgY2h1bmtOYW1lcykge1xuICAgICAgICAgICAgdmFyIGV4dHJhY3RlZFZhbHVlcyA9IHt9O1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRDaHVua05hbWUsIGNodW5rTmFtZXNMZW5ndGggPSBjaHVua05hbWVzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaHVua05hbWVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgY3VycmVudENodW5rTmFtZSA9IGNodW5rTmFtZXNbaV07XG4gICAgICAgICAgICAgIGV4dHJhY3RlZFZhbHVlc1tjdXJyZW50Q2h1bmtOYW1lXSA9IHN0YXRlT2JqZWN0W2N1cnJlbnRDaHVua05hbWVdO1xuICAgICAgICAgICAgICBkZWxldGUgc3RhdGVPYmplY3RbY3VycmVudENodW5rTmFtZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBleHRyYWN0ZWRWYWx1ZXM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGdldFZhbHVlc0xpc3RfYWNjdW11bGF0b3IgPSBbXTtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGVPYmplY3RcbiAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBjaHVua05hbWVzXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAcmV0dXJuIHtBcnJheS48bnVtYmVyPn1cbiAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZ1bmN0aW9uIGdldFZhbHVlc0xpc3Qoc3RhdGVPYmplY3QsIGNodW5rTmFtZXMpIHtcbiAgICAgICAgICAgIGdldFZhbHVlc0xpc3RfYWNjdW11bGF0b3IubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHZhciBjaHVua05hbWVzTGVuZ3RoID0gY2h1bmtOYW1lcy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2h1bmtOYW1lc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGdldFZhbHVlc0xpc3RfYWNjdW11bGF0b3IucHVzaChzdGF0ZU9iamVjdFtjaHVua05hbWVzW2ldXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBnZXRWYWx1ZXNMaXN0X2FjY3VtdWxhdG9yO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtYXRTdHJpbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5LjxudW1iZXI+fSByYXdWYWx1ZXNcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZ1bmN0aW9uIGdldEZvcm1hdHRlZFZhbHVlcyhmb3JtYXRTdHJpbmcsIHJhd1ZhbHVlcykge1xuICAgICAgICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlU3RyaW5nID0gZm9ybWF0U3RyaW5nO1xuICAgICAgICAgICAgdmFyIHJhd1ZhbHVlc0xlbmd0aCA9IHJhd1ZhbHVlcy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmF3VmFsdWVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWVTdHJpbmcgPSBmb3JtYXR0ZWRWYWx1ZVN0cmluZy5yZXBsYWNlKFxuICAgICAgICAgICAgICAgIFZBTFVFX1BMQUNFSE9MREVSLCArcmF3VmFsdWVzW2ldLnRvRml4ZWQoNCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVkVmFsdWVTdHJpbmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogTm90ZTogSXQncyB0aGUgZHV0eSBvZiB0aGUgY2FsbGVyIHRvIGNvbnZlcnQgdGhlIEFycmF5IGVsZW1lbnRzIG9mIHRoZVxuICAgICAgICAgICAqIHJldHVybiB2YWx1ZSBpbnRvIG51bWJlcnMuICBUaGlzIGlzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGZvcm1hdHRlZFN0cmluZ1xuICAgICAgICAgICAqXG4gICAgICAgICAgICogQHJldHVybiB7QXJyYXkuPHN0cmluZz58bnVsbH1cbiAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZ1bmN0aW9uIGdldFZhbHVlc0Zyb20oZm9ybWF0dGVkU3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVkU3RyaW5nLm1hdGNoKFJfVU5GT1JNQVRURURfVkFMVUVTKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZWFzaW5nT2JqZWN0XG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHRva2VuRGF0YVxuICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICovXG4gICAgICAgICAgZnVuY3Rpb24gZXhwYW5kRWFzaW5nT2JqZWN0KGVhc2luZ09iamVjdCwgdG9rZW5EYXRhKSB7XG4gICAgICAgICAgICBUd2VlbmFibGUuZWFjaCh0b2tlbkRhdGEsIGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgICAgICAgdmFyIGN1cnJlbnRQcm9wID0gdG9rZW5EYXRhW3Byb3BdO1xuICAgICAgICAgICAgICB2YXIgY2h1bmtOYW1lcyA9IGN1cnJlbnRQcm9wLmNodW5rTmFtZXM7XG4gICAgICAgICAgICAgIHZhciBjaHVua0xlbmd0aCA9IGNodW5rTmFtZXMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgIHZhciBlYXNpbmcgPSBlYXNpbmdPYmplY3RbcHJvcF07XG4gICAgICAgICAgICAgIHZhciBpO1xuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgZWFzaW5nID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhciBlYXNpbmdDaHVua3MgPSBlYXNpbmcuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgICAgICB2YXIgbGFzdEVhc2luZ0NodW5rID0gZWFzaW5nQ2h1bmtzW2Vhc2luZ0NodW5rcy5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjaHVua0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICBlYXNpbmdPYmplY3RbY2h1bmtOYW1lc1tpXV0gPSBlYXNpbmdDaHVua3NbaV0gfHwgbGFzdEVhc2luZ0NodW5rO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjaHVua0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICBlYXNpbmdPYmplY3RbY2h1bmtOYW1lc1tpXV0gPSBlYXNpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZGVsZXRlIGVhc2luZ09iamVjdFtwcm9wXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlYXNpbmdPYmplY3RcbiAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gdG9rZW5EYXRhXG4gICAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmdW5jdGlvbiBjb2xsYXBzZUVhc2luZ09iamVjdChlYXNpbmdPYmplY3QsIHRva2VuRGF0YSkge1xuICAgICAgICAgICAgVHdlZW5hYmxlLmVhY2godG9rZW5EYXRhLCBmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgICAgICAgIHZhciBjdXJyZW50UHJvcCA9IHRva2VuRGF0YVtwcm9wXTtcbiAgICAgICAgICAgICAgdmFyIGNodW5rTmFtZXMgPSBjdXJyZW50UHJvcC5jaHVua05hbWVzO1xuICAgICAgICAgICAgICB2YXIgY2h1bmtMZW5ndGggPSBjaHVua05hbWVzLmxlbmd0aDtcblxuICAgICAgICAgICAgICB2YXIgZmlyc3RFYXNpbmcgPSBlYXNpbmdPYmplY3RbY2h1bmtOYW1lc1swXV07XG4gICAgICAgICAgICAgIHZhciB0eXBlb2ZFYXNpbmdzID0gdHlwZW9mIGZpcnN0RWFzaW5nO1xuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2ZFYXNpbmdzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhciBjb21wb3NlZEVhc2luZ1N0cmluZyA9ICcnO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaHVua0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICBjb21wb3NlZEVhc2luZ1N0cmluZyArPSAnICcgKyBlYXNpbmdPYmplY3RbY2h1bmtOYW1lc1tpXV07XG4gICAgICAgICAgICAgICAgICBkZWxldGUgZWFzaW5nT2JqZWN0W2NodW5rTmFtZXNbaV1dO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVhc2luZ09iamVjdFtwcm9wXSA9IGNvbXBvc2VkRWFzaW5nU3RyaW5nLnN1YnN0cigxKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlYXNpbmdPYmplY3RbcHJvcF0gPSBmaXJzdEVhc2luZztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgVHdlZW5hYmxlLnByb3RvdHlwZS5maWx0ZXIudG9rZW4gPSB7XG4gICAgICAgICAgICAndHdlZW5DcmVhdGVkJzogZnVuY3Rpb24oY3VycmVudFN0YXRlLCBmcm9tU3RhdGUsIHRvU3RhdGUsIGVhc2luZ09iamVjdCkge1xuICAgICAgICAgICAgICBzYW5pdGl6ZU9iamVjdEZvckhleFByb3BzKGN1cnJlbnRTdGF0ZSk7XG4gICAgICAgICAgICAgIHNhbml0aXplT2JqZWN0Rm9ySGV4UHJvcHMoZnJvbVN0YXRlKTtcbiAgICAgICAgICAgICAgc2FuaXRpemVPYmplY3RGb3JIZXhQcm9wcyh0b1N0YXRlKTtcbiAgICAgICAgICAgICAgdGhpcy5fdG9rZW5EYXRhID0gZ2V0Rm9ybWF0TWFuaWZlc3RzKGN1cnJlbnRTdGF0ZSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAnYmVmb3JlVHdlZW4nOiBmdW5jdGlvbihjdXJyZW50U3RhdGUsIGZyb21TdGF0ZSwgdG9TdGF0ZSwgZWFzaW5nT2JqZWN0KSB7XG4gICAgICAgICAgICAgIGV4cGFuZEVhc2luZ09iamVjdChlYXNpbmdPYmplY3QsIHRoaXMuX3Rva2VuRGF0YSk7XG4gICAgICAgICAgICAgIGV4cGFuZEZvcm1hdHRlZFByb3BlcnRpZXMoY3VycmVudFN0YXRlLCB0aGlzLl90b2tlbkRhdGEpO1xuICAgICAgICAgICAgICBleHBhbmRGb3JtYXR0ZWRQcm9wZXJ0aWVzKGZyb21TdGF0ZSwgdGhpcy5fdG9rZW5EYXRhKTtcbiAgICAgICAgICAgICAgZXhwYW5kRm9ybWF0dGVkUHJvcGVydGllcyh0b1N0YXRlLCB0aGlzLl90b2tlbkRhdGEpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgJ2FmdGVyVHdlZW4nOiBmdW5jdGlvbihjdXJyZW50U3RhdGUsIGZyb21TdGF0ZSwgdG9TdGF0ZSwgZWFzaW5nT2JqZWN0KSB7XG4gICAgICAgICAgICAgIGNvbGxhcHNlRm9ybWF0dGVkUHJvcGVydGllcyhjdXJyZW50U3RhdGUsIHRoaXMuX3Rva2VuRGF0YSk7XG4gICAgICAgICAgICAgIGNvbGxhcHNlRm9ybWF0dGVkUHJvcGVydGllcyhmcm9tU3RhdGUsIHRoaXMuX3Rva2VuRGF0YSk7XG4gICAgICAgICAgICAgIGNvbGxhcHNlRm9ybWF0dGVkUHJvcGVydGllcyh0b1N0YXRlLCB0aGlzLl90b2tlbkRhdGEpO1xuICAgICAgICAgICAgICBjb2xsYXBzZUVhc2luZ09iamVjdChlYXNpbmdPYmplY3QsIHRoaXMuX3Rva2VuRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICB9KFR3ZWVuYWJsZSkpO1xuXG4gICAgICB9KS5jYWxsKG51bGwpO1xuXG4gICAgfSwge31dLFxuICAgIDI6IFtmdW5jdGlvbihyZXF1aXJlLCBtb2R1bGUsIGV4cG9ydHMpIHtcbiAgICAgIC8vIENpcmNsZSBzaGFwZWQgcHJvZ3Jlc3MgYmFyXG5cbiAgICAgIHZhciBTaGFwZSA9IHJlcXVpcmUoJy4vc2hhcGUnKTtcbiAgICAgIHZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxuICAgICAgdmFyIENpcmNsZSA9IGZ1bmN0aW9uIENpcmNsZShjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gVXNlIHR3byBhcmNzIHRvIGZvcm0gYSBjaXJjbGVcbiAgICAgICAgLy8gU2VlIHRoaXMgYW5zd2VyIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEwNDc3MzM0LzE0NDYwOTJcbiAgICAgICAgdGhpcy5fcGF0aFRlbXBsYXRlID1cbiAgICAgICAgICAnTSA1MCw1MCBtIDAsLXtyYWRpdXN9JyArXG4gICAgICAgICAgJyBhIHtyYWRpdXN9LHtyYWRpdXN9IDAgMSAxIDAsezJyYWRpdXN9JyArXG4gICAgICAgICAgJyBhIHtyYWRpdXN9LHtyYWRpdXN9IDAgMSAxIDAsLXsycmFkaXVzfSc7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXJBc3BlY3RSYXRpbyA9IDE7XG5cbiAgICAgICAgU2hhcGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG5cbiAgICAgIENpcmNsZS5wcm90b3R5cGUgPSBuZXcgU2hhcGUoKTtcbiAgICAgIENpcmNsZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDaXJjbGU7XG5cbiAgICAgIENpcmNsZS5wcm90b3R5cGUuX3BhdGhTdHJpbmcgPSBmdW5jdGlvbiBfcGF0aFN0cmluZyhvcHRzKSB7XG4gICAgICAgIHZhciB3aWR0aE9mV2lkZXIgPSBvcHRzLnN0cm9rZVdpZHRoO1xuICAgICAgICBpZiAob3B0cy50cmFpbFdpZHRoICYmIG9wdHMudHJhaWxXaWR0aCA+IG9wdHMuc3Ryb2tlV2lkdGgpIHtcbiAgICAgICAgICB3aWR0aE9mV2lkZXIgPSBvcHRzLnRyYWlsV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgciA9IDUwIC0gd2lkdGhPZldpZGVyIC8gMjtcblxuICAgICAgICByZXR1cm4gdXRpbHMucmVuZGVyKHRoaXMuX3BhdGhUZW1wbGF0ZSwge1xuICAgICAgICAgIHJhZGl1czogcixcbiAgICAgICAgICAnMnJhZGl1cyc6IHIgKiAyXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgQ2lyY2xlLnByb3RvdHlwZS5fdHJhaWxTdHJpbmcgPSBmdW5jdGlvbiBfdHJhaWxTdHJpbmcob3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGF0aFN0cmluZyhvcHRzKTtcbiAgICAgIH07XG5cbiAgICAgIG1vZHVsZS5leHBvcnRzID0gQ2lyY2xlO1xuXG4gICAgfSwgeyBcIi4vc2hhcGVcIjogNywgXCIuL3V0aWxzXCI6IDggfV0sXG4gICAgMzogW2Z1bmN0aW9uKHJlcXVpcmUsIG1vZHVsZSwgZXhwb3J0cykge1xuICAgICAgLy8gTGluZSBzaGFwZWQgcHJvZ3Jlc3MgYmFyXG5cbiAgICAgIHZhciBTaGFwZSA9IHJlcXVpcmUoJy4vc2hhcGUnKTtcbiAgICAgIHZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxuICAgICAgdmFyIExpbmUgPSBmdW5jdGlvbiBMaW5lKGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLl9wYXRoVGVtcGxhdGUgPSAnTSAwLHtjZW50ZXJ9IEwgMTAwLHtjZW50ZXJ9JztcbiAgICAgICAgU2hhcGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG5cbiAgICAgIExpbmUucHJvdG90eXBlID0gbmV3IFNoYXBlKCk7XG4gICAgICBMaW5lLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExpbmU7XG5cbiAgICAgIExpbmUucHJvdG90eXBlLl9pbml0aWFsaXplU3ZnID0gZnVuY3Rpb24gX2luaXRpYWxpemVTdmcoc3ZnLCBvcHRzKSB7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCAnMCAwIDEwMCAnICsgb3B0cy5zdHJva2VXaWR0aCk7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3ByZXNlcnZlQXNwZWN0UmF0aW8nLCAnbm9uZScpO1xuICAgICAgfTtcblxuICAgICAgTGluZS5wcm90b3R5cGUuX3BhdGhTdHJpbmcgPSBmdW5jdGlvbiBfcGF0aFN0cmluZyhvcHRzKSB7XG4gICAgICAgIHJldHVybiB1dGlscy5yZW5kZXIodGhpcy5fcGF0aFRlbXBsYXRlLCB7XG4gICAgICAgICAgY2VudGVyOiBvcHRzLnN0cm9rZVdpZHRoIC8gMlxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIExpbmUucHJvdG90eXBlLl90cmFpbFN0cmluZyA9IGZ1bmN0aW9uIF90cmFpbFN0cmluZyhvcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXRoU3RyaW5nKG9wdHMpO1xuICAgICAgfTtcblxuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBMaW5lO1xuXG4gICAgfSwgeyBcIi4vc2hhcGVcIjogNywgXCIuL3V0aWxzXCI6IDggfV0sXG4gICAgNDogW2Z1bmN0aW9uKHJlcXVpcmUsIG1vZHVsZSwgZXhwb3J0cykge1xuICAgICAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICAgIC8vIEhpZ2hlciBsZXZlbCBBUEksIGRpZmZlcmVudCBzaGFwZWQgcHJvZ3Jlc3MgYmFyc1xuICAgICAgICBMaW5lOiByZXF1aXJlKCcuL2xpbmUnKSxcbiAgICAgICAgQ2lyY2xlOiByZXF1aXJlKCcuL2NpcmNsZScpLFxuICAgICAgICBTZW1pQ2lyY2xlOiByZXF1aXJlKCcuL3NlbWljaXJjbGUnKSxcblxuICAgICAgICAvLyBMb3dlciBsZXZlbCBBUEkgdG8gdXNlIGFueSBTVkcgcGF0aFxuICAgICAgICBQYXRoOiByZXF1aXJlKCcuL3BhdGgnKSxcblxuICAgICAgICAvLyBCYXNlLWNsYXNzIGZvciBjcmVhdGluZyBuZXcgY3VzdG9tIHNoYXBlc1xuICAgICAgICAvLyB0byBiZSBpbiBsaW5lIHdpdGggdGhlIEFQSSBvZiBidWlsdC1pbiBzaGFwZXNcbiAgICAgICAgLy8gVW5kb2N1bWVudGVkLlxuICAgICAgICBTaGFwZTogcmVxdWlyZSgnLi9zaGFwZScpLFxuXG4gICAgICAgIC8vIEludGVybmFsIHV0aWxzLCB1bmRvY3VtZW50ZWQuXG4gICAgICAgIHV0aWxzOiByZXF1aXJlKCcuL3V0aWxzJylcbiAgICAgIH07XG5cbiAgICB9LCB7IFwiLi9jaXJjbGVcIjogMiwgXCIuL2xpbmVcIjogMywgXCIuL3BhdGhcIjogNSwgXCIuL3NlbWljaXJjbGVcIjogNiwgXCIuL3NoYXBlXCI6IDcsIFwiLi91dGlsc1wiOiA4IH1dLFxuICAgIDU6IFtmdW5jdGlvbihyZXF1aXJlLCBtb2R1bGUsIGV4cG9ydHMpIHtcbiAgICAgIC8vIExvd2VyIGxldmVsIEFQSSB0byBhbmltYXRlIGFueSBraW5kIG9mIHN2ZyBwYXRoXG5cbiAgICAgIHZhciBUd2VlbmFibGUgPSByZXF1aXJlKCdzaGlmdHknKTtcbiAgICAgIHZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxuICAgICAgdmFyIEVBU0lOR19BTElBU0VTID0ge1xuICAgICAgICBlYXNlSW46ICdlYXNlSW5DdWJpYycsXG4gICAgICAgIGVhc2VPdXQ6ICdlYXNlT3V0Q3ViaWMnLFxuICAgICAgICBlYXNlSW5PdXQ6ICdlYXNlSW5PdXRDdWJpYydcbiAgICAgIH07XG5cbiAgICAgIHZhciBQYXRoID0gZnVuY3Rpb24gUGF0aChwYXRoLCBvcHRzKSB7XG4gICAgICAgIC8vIFRocm93IGEgYmV0dGVyIGVycm9yIGlmIG5vdCBpbml0aWFsaXplZCB3aXRoIGBuZXdgIGtleXdvcmRcbiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBhdGgpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25zdHJ1Y3RvciB3YXMgY2FsbGVkIHdpdGhvdXQgbmV3IGtleXdvcmQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlZmF1bHQgcGFyYW1ldGVycyBmb3IgYW5pbWF0aW9uXG4gICAgICAgIG9wdHMgPSB1dGlscy5leHRlbmQoe1xuICAgICAgICAgIGR1cmF0aW9uOiA4MDAsXG4gICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcbiAgICAgICAgICBmcm9tOiB7fSxcbiAgICAgICAgICB0bzoge30sXG4gICAgICAgICAgc3RlcDogZnVuY3Rpb24oKSB7fVxuICAgICAgICB9LCBvcHRzKTtcblxuICAgICAgICB2YXIgZWxlbWVudDtcbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGF0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudCA9IHBhdGg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXZlYWwgLnBhdGggYXMgcHVibGljIGF0dHJpYnV0ZVxuICAgICAgICB0aGlzLnBhdGggPSBlbGVtZW50O1xuICAgICAgICB0aGlzLl9vcHRzID0gb3B0cztcbiAgICAgICAgdGhpcy5fdHdlZW5hYmxlID0gbnVsbDtcblxuICAgICAgICAvLyBTZXQgdXAgdGhlIHN0YXJ0aW5nIHBvc2l0aW9uc1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5wYXRoLmdldFRvdGFsTGVuZ3RoKCk7XG4gICAgICAgIHRoaXMucGF0aC5zdHlsZS5zdHJva2VEYXNoYXJyYXkgPSBsZW5ndGggKyAnICcgKyBsZW5ndGg7XG4gICAgICAgIHRoaXMuc2V0KDApO1xuICAgICAgfTtcblxuICAgICAgUGF0aC5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuX2dldENvbXB1dGVkRGFzaE9mZnNldCgpO1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5wYXRoLmdldFRvdGFsTGVuZ3RoKCk7XG5cbiAgICAgICAgdmFyIHByb2dyZXNzID0gMSAtIG9mZnNldCAvIGxlbmd0aDtcbiAgICAgICAgLy8gUm91bmQgbnVtYmVyIHRvIHByZXZlbnQgcmV0dXJuaW5nIHZlcnkgc21hbGwgbnVtYmVyIGxpa2UgMWUtMzAsIHdoaWNoXG4gICAgICAgIC8vIGlzIHByYWN0aWNhbGx5IDBcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQocHJvZ3Jlc3MudG9GaXhlZCg2KSwgMTApO1xuICAgICAgfTtcblxuICAgICAgUGF0aC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0KHByb2dyZXNzKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgIHRoaXMucGF0aC5zdHlsZS5zdHJva2VEYXNob2Zmc2V0ID0gdGhpcy5fcHJvZ3Jlc3NUb09mZnNldChwcm9ncmVzcyk7XG5cbiAgICAgICAgdmFyIHN0ZXAgPSB0aGlzLl9vcHRzLnN0ZXA7XG4gICAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKHN0ZXApKSB7XG4gICAgICAgICAgdmFyIGVhc2luZyA9IHRoaXMuX2Vhc2luZyh0aGlzLl9vcHRzLmVhc2luZyk7XG4gICAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuX2NhbGN1bGF0ZVRvKHByb2dyZXNzLCBlYXNpbmcpO1xuICAgICAgICAgIHZhciByZWZlcmVuY2UgPSB0aGlzLl9vcHRzLnNoYXBlIHx8IHRoaXM7XG4gICAgICAgICAgc3RlcCh2YWx1ZXMsIHJlZmVyZW5jZSwgdGhpcy5fb3B0cy5hdHRhY2htZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgUGF0aC5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuX3N0b3BUd2VlbigpO1xuICAgICAgICB0aGlzLnBhdGguc3R5bGUuc3Ryb2tlRGFzaG9mZnNldCA9IHRoaXMuX2dldENvbXB1dGVkRGFzaE9mZnNldCgpO1xuICAgICAgfTtcblxuICAgICAgLy8gTWV0aG9kIGludHJvZHVjZWQgaGVyZTpcbiAgICAgIC8vIGh0dHA6Ly9qYWtlYXJjaGliYWxkLmNvbS8yMDEzL2FuaW1hdGVkLWxpbmUtZHJhd2luZy1zdmcvXG4gICAgICBQYXRoLnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24gYW5pbWF0ZShwcm9ncmVzcywgb3B0cywgY2IpIHtcbiAgICAgICAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24ob3B0cykpIHtcbiAgICAgICAgICBjYiA9IG9wdHM7XG4gICAgICAgICAgb3B0cyA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhc3NlZE9wdHMgPSB1dGlscy5leHRlbmQoe30sIG9wdHMpO1xuXG4gICAgICAgIC8vIENvcHkgZGVmYXVsdCBvcHRzIHRvIG5ldyBvYmplY3Qgc28gZGVmYXVsdHMgYXJlIG5vdCBtb2RpZmllZFxuICAgICAgICB2YXIgZGVmYXVsdE9wdHMgPSB1dGlscy5leHRlbmQoe30sIHRoaXMuX29wdHMpO1xuICAgICAgICBvcHRzID0gdXRpbHMuZXh0ZW5kKGRlZmF1bHRPcHRzLCBvcHRzKTtcblxuICAgICAgICB2YXIgc2hpZnR5RWFzaW5nID0gdGhpcy5fZWFzaW5nKG9wdHMuZWFzaW5nKTtcbiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuX3Jlc29sdmVGcm9tQW5kVG8ocHJvZ3Jlc3MsIHNoaWZ0eUVhc2luZywgcGFzc2VkT3B0cyk7XG5cbiAgICAgICAgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgLy8gVHJpZ2dlciBhIGxheW91dCBzbyBzdHlsZXMgYXJlIGNhbGN1bGF0ZWQgJiB0aGUgYnJvd3NlclxuICAgICAgICAvLyBwaWNrcyB1cCB0aGUgc3RhcnRpbmcgcG9zaXRpb24gYmVmb3JlIGFuaW1hdGluZ1xuICAgICAgICB0aGlzLnBhdGguZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuX2dldENvbXB1dGVkRGFzaE9mZnNldCgpO1xuICAgICAgICB2YXIgbmV3T2Zmc2V0ID0gdGhpcy5fcHJvZ3Jlc3NUb09mZnNldChwcm9ncmVzcyk7XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLl90d2VlbmFibGUgPSBuZXcgVHdlZW5hYmxlKCk7XG4gICAgICAgIHRoaXMuX3R3ZWVuYWJsZS50d2Vlbih7XG4gICAgICAgICAgZnJvbTogdXRpbHMuZXh0ZW5kKHsgb2Zmc2V0OiBvZmZzZXQgfSwgdmFsdWVzLmZyb20pLFxuICAgICAgICAgIHRvOiB1dGlscy5leHRlbmQoeyBvZmZzZXQ6IG5ld09mZnNldCB9LCB2YWx1ZXMudG8pLFxuICAgICAgICAgIGR1cmF0aW9uOiBvcHRzLmR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogc2hpZnR5RWFzaW5nLFxuICAgICAgICAgIHN0ZXA6IGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgICAgICAgICBzZWxmLnBhdGguc3R5bGUuc3Ryb2tlRGFzaG9mZnNldCA9IHN0YXRlLm9mZnNldDtcbiAgICAgICAgICAgIHZhciByZWZlcmVuY2UgPSBvcHRzLnNoYXBlIHx8IHNlbGY7XG4gICAgICAgICAgICBvcHRzLnN0ZXAoc3RhdGUsIHJlZmVyZW5jZSwgb3B0cy5hdHRhY2htZW50KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpbmlzaDogZnVuY3Rpb24oc3RhdGUpIHtcbiAgICAgICAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKGNiKSkge1xuICAgICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBQYXRoLnByb3RvdHlwZS5fZ2V0Q29tcHV0ZWREYXNoT2Zmc2V0ID0gZnVuY3Rpb24gX2dldENvbXB1dGVkRGFzaE9mZnNldCgpIHtcbiAgICAgICAgdmFyIGNvbXB1dGVkU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnBhdGgsIG51bGwpO1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3N0cm9rZS1kYXNob2Zmc2V0JyksIDEwKTtcbiAgICAgIH07XG5cbiAgICAgIFBhdGgucHJvdG90eXBlLl9wcm9ncmVzc1RvT2Zmc2V0ID0gZnVuY3Rpb24gX3Byb2dyZXNzVG9PZmZzZXQocHJvZ3Jlc3MpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMucGF0aC5nZXRUb3RhbExlbmd0aCgpO1xuICAgICAgICByZXR1cm4gbGVuZ3RoIC0gcHJvZ3Jlc3MgKiBsZW5ndGg7XG4gICAgICB9O1xuXG4gICAgICAvLyBSZXNvbHZlcyBmcm9tIGFuZCB0byB2YWx1ZXMgZm9yIGFuaW1hdGlvbi5cbiAgICAgIFBhdGgucHJvdG90eXBlLl9yZXNvbHZlRnJvbUFuZFRvID0gZnVuY3Rpb24gX3Jlc29sdmVGcm9tQW5kVG8ocHJvZ3Jlc3MsIGVhc2luZywgb3B0cykge1xuICAgICAgICBpZiAob3B0cy5mcm9tICYmIG9wdHMudG8pIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbTogb3B0cy5mcm9tLFxuICAgICAgICAgICAgdG86IG9wdHMudG9cbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBmcm9tOiB0aGlzLl9jYWxjdWxhdGVGcm9tKGVhc2luZyksXG4gICAgICAgICAgdG86IHRoaXMuX2NhbGN1bGF0ZVRvKHByb2dyZXNzLCBlYXNpbmcpXG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICAvLyBDYWxjdWxhdGUgYGZyb21gIHZhbHVlcyBmcm9tIG9wdGlvbnMgcGFzc2VkIGF0IGluaXRpYWxpemF0aW9uXG4gICAgICBQYXRoLnByb3RvdHlwZS5fY2FsY3VsYXRlRnJvbSA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVGcm9tKGVhc2luZykge1xuICAgICAgICByZXR1cm4gVHdlZW5hYmxlLmludGVycG9sYXRlKHRoaXMuX29wdHMuZnJvbSwgdGhpcy5fb3B0cy50bywgdGhpcy52YWx1ZSgpLCBlYXNpbmcpO1xuICAgICAgfTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIGB0b2AgdmFsdWVzIGZyb20gb3B0aW9ucyBwYXNzZWQgYXQgaW5pdGlhbGl6YXRpb25cbiAgICAgIFBhdGgucHJvdG90eXBlLl9jYWxjdWxhdGVUbyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVUbyhwcm9ncmVzcywgZWFzaW5nKSB7XG4gICAgICAgIHJldHVybiBUd2VlbmFibGUuaW50ZXJwb2xhdGUodGhpcy5fb3B0cy5mcm9tLCB0aGlzLl9vcHRzLnRvLCBwcm9ncmVzcywgZWFzaW5nKTtcbiAgICAgIH07XG5cbiAgICAgIFBhdGgucHJvdG90eXBlLl9zdG9wVHdlZW4gPSBmdW5jdGlvbiBfc3RvcFR3ZWVuKCkge1xuICAgICAgICBpZiAodGhpcy5fdHdlZW5hYmxlICE9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5fdHdlZW5hYmxlLnN0b3AoKTtcbiAgICAgICAgICB0aGlzLl90d2VlbmFibGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBQYXRoLnByb3RvdHlwZS5fZWFzaW5nID0gZnVuY3Rpb24gX2Vhc2luZyhlYXNpbmcpIHtcbiAgICAgICAgaWYgKEVBU0lOR19BTElBU0VTLmhhc093blByb3BlcnR5KGVhc2luZykpIHtcbiAgICAgICAgICByZXR1cm4gRUFTSU5HX0FMSUFTRVNbZWFzaW5nXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlYXNpbmc7XG4gICAgICB9O1xuXG4gICAgICBtb2R1bGUuZXhwb3J0cyA9IFBhdGg7XG5cbiAgICB9LCB7IFwiLi91dGlsc1wiOiA4LCBcInNoaWZ0eVwiOiAxIH1dLFxuICAgIDY6IFtmdW5jdGlvbihyZXF1aXJlLCBtb2R1bGUsIGV4cG9ydHMpIHtcbiAgICAgIC8vIFNlbWktU2VtaUNpcmNsZSBzaGFwZWQgcHJvZ3Jlc3MgYmFyXG5cbiAgICAgIHZhciBTaGFwZSA9IHJlcXVpcmUoJy4vc2hhcGUnKTtcbiAgICAgIHZhciBDaXJjbGUgPSByZXF1aXJlKCcuL2NpcmNsZScpO1xuICAgICAgdmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG4gICAgICB2YXIgU2VtaUNpcmNsZSA9IGZ1bmN0aW9uIFNlbWlDaXJjbGUoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIFVzZSBvbmUgYXJjIHRvIGZvcm0gYSBTZW1pQ2lyY2xlXG4gICAgICAgIC8vIFNlZSB0aGlzIGFuc3dlciBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMDQ3NzMzNC8xNDQ2MDkyXG4gICAgICAgIHRoaXMuX3BhdGhUZW1wbGF0ZSA9XG4gICAgICAgICAgJ00gNTAsNTAgbSAte3JhZGl1c30sMCcgK1xuICAgICAgICAgICcgYSB7cmFkaXVzfSx7cmFkaXVzfSAwIDEgMSB7MnJhZGl1c30sMCc7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXJBc3BlY3RSYXRpbyA9IDI7XG5cbiAgICAgICAgU2hhcGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG5cbiAgICAgIFNlbWlDaXJjbGUucHJvdG90eXBlID0gbmV3IFNoYXBlKCk7XG4gICAgICBTZW1pQ2lyY2xlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNlbWlDaXJjbGU7XG5cbiAgICAgIFNlbWlDaXJjbGUucHJvdG90eXBlLl9pbml0aWFsaXplU3ZnID0gZnVuY3Rpb24gX2luaXRpYWxpemVTdmcoc3ZnLCBvcHRzKSB7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCAnMCAwIDEwMCA1MCcpO1xuICAgICAgfTtcblxuICAgICAgU2VtaUNpcmNsZS5wcm90b3R5cGUuX2luaXRpYWxpemVUZXh0Q29udGFpbmVyID0gZnVuY3Rpb24gX2luaXRpYWxpemVUZXh0Q29udGFpbmVyKFxuICAgICAgICBvcHRzLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIHRleHRDb250YWluZXJcbiAgICAgICkge1xuICAgICAgICBpZiAob3B0cy50ZXh0LnN0eWxlKSB7XG4gICAgICAgICAgLy8gUmVzZXQgdG9wIHN0eWxlXG4gICAgICAgICAgdGV4dENvbnRhaW5lci5zdHlsZS50b3AgPSAnYXV0byc7XG4gICAgICAgICAgdGV4dENvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAnMCc7XG5cbiAgICAgICAgICBpZiAob3B0cy50ZXh0LmFsaWduVG9Cb3R0b20pIHtcbiAgICAgICAgICAgIHV0aWxzLnNldFN0eWxlKHRleHRDb250YWluZXIsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKC01MCUsIDApJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHV0aWxzLnNldFN0eWxlKHRleHRDb250YWluZXIsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKC01MCUsIDUwJSknKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIFNoYXJlIGZ1bmN0aW9uYWxpdHkgd2l0aCBDaXJjbGUsIGp1c3QgaGF2ZSBkaWZmZXJlbnQgcGF0aFxuICAgICAgU2VtaUNpcmNsZS5wcm90b3R5cGUuX3BhdGhTdHJpbmcgPSBDaXJjbGUucHJvdG90eXBlLl9wYXRoU3RyaW5nO1xuICAgICAgU2VtaUNpcmNsZS5wcm90b3R5cGUuX3RyYWlsU3RyaW5nID0gQ2lyY2xlLnByb3RvdHlwZS5fdHJhaWxTdHJpbmc7XG5cbiAgICAgIG1vZHVsZS5leHBvcnRzID0gU2VtaUNpcmNsZTtcblxuICAgIH0sIHsgXCIuL2NpcmNsZVwiOiAyLCBcIi4vc2hhcGVcIjogNywgXCIuL3V0aWxzXCI6IDggfV0sXG4gICAgNzogW2Z1bmN0aW9uKHJlcXVpcmUsIG1vZHVsZSwgZXhwb3J0cykge1xuICAgICAgLy8gQmFzZSBvYmplY3QgZm9yIGRpZmZlcmVudCBwcm9ncmVzcyBiYXIgc2hhcGVzXG5cbiAgICAgIHZhciBQYXRoID0gcmVxdWlyZSgnLi9wYXRoJyk7XG4gICAgICB2YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbiAgICAgIHZhciBERVNUUk9ZRURfRVJST1IgPSAnT2JqZWN0IGlzIGRlc3Ryb3llZCc7XG5cbiAgICAgIHZhciBTaGFwZSA9IGZ1bmN0aW9uIFNoYXBlKGNvbnRhaW5lciwgb3B0cykge1xuICAgICAgICAvLyBUaHJvdyBhIGJldHRlciBlcnJvciBpZiBwcm9ncmVzcyBiYXJzIGFyZSBub3QgaW5pdGlhbGl6ZWQgd2l0aCBgbmV3YFxuICAgICAgICAvLyBrZXl3b3JkXG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTaGFwZSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnN0cnVjdG9yIHdhcyBjYWxsZWQgd2l0aG91dCBuZXcga2V5d29yZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJldmVudCBjYWxsaW5nIGNvbnN0cnVjdG9yIHdpdGhvdXQgcGFyYW1ldGVycyBzbyBpbmhlcml0YW5jZVxuICAgICAgICAvLyB3b3JrcyBjb3JyZWN0bHkuIFRvIHVuZGVyc3RhbmQsIHRoaXMgaXMgaG93IFNoYXBlIGlzIGluaGVyaXRlZDpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICBMaW5lLnByb3RvdHlwZSA9IG5ldyBTaGFwZSgpO1xuICAgICAgICAvL1xuICAgICAgICAvLyBXZSBqdXN0IHdhbnQgdG8gc2V0IHRoZSBwcm90b3R5cGUgZm9yIExpbmUuXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVmYXVsdCBwYXJhbWV0ZXJzIGZvciBwcm9ncmVzcyBiYXIgY3JlYXRpb25cbiAgICAgICAgdGhpcy5fb3B0cyA9IHV0aWxzLmV4dGVuZCh7XG4gICAgICAgICAgY29sb3I6ICcjNTU1JyxcbiAgICAgICAgICBzdHJva2VXaWR0aDogMS4wLFxuICAgICAgICAgIHRyYWlsQ29sb3I6IG51bGwsXG4gICAgICAgICAgdHJhaWxXaWR0aDogbnVsbCxcbiAgICAgICAgICBmaWxsOiBudWxsLFxuICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGNvbG9yOiBudWxsLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgbGVmdDogJzUwJScsXG4gICAgICAgICAgICAgIHRvcDogJzUwJScsXG4gICAgICAgICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgICAgICAgIG1hcmdpbjogMCxcbiAgICAgICAgICAgICAgdHJhbnNmb3JtOiB7XG4gICAgICAgICAgICAgICAgcHJlZml4OiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXV0b1N0eWxlQ29udGFpbmVyOiB0cnVlLFxuICAgICAgICAgICAgYWxpZ25Ub0JvdHRvbTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAncHJvZ3Jlc3NiYXItdGV4dCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN2Z1N0eWxlOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgd2FybmluZ3M6IGZhbHNlXG4gICAgICAgIH0sIG9wdHMsIHRydWUpOyAvLyBVc2UgcmVjdXJzaXZlIGV4dGVuZFxuXG4gICAgICAgIC8vIElmIHVzZXIgc3BlY2lmaWVzIGUuZy4gc3ZnU3R5bGUgb3IgdGV4dCBzdHlsZSwgdGhlIHdob2xlIG9iamVjdFxuICAgICAgICAvLyBzaG91bGQgcmVwbGFjZSB0aGUgZGVmYXVsdHMgdG8gbWFrZSB3b3JraW5nIHdpdGggc3R5bGVzIGVhc2llclxuICAgICAgICBpZiAodXRpbHMuaXNPYmplY3Qob3B0cykgJiYgb3B0cy5zdmdTdHlsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5fb3B0cy5zdmdTdHlsZSA9IG9wdHMuc3ZnU3R5bGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHV0aWxzLmlzT2JqZWN0KG9wdHMpICYmIHV0aWxzLmlzT2JqZWN0KG9wdHMudGV4dCkgJiYgb3B0cy50ZXh0LnN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLl9vcHRzLnRleHQuc3R5bGUgPSBvcHRzLnRleHQuc3R5bGU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3ZnVmlldyA9IHRoaXMuX2NyZWF0ZVN2Z1ZpZXcodGhpcy5fb3B0cyk7XG5cbiAgICAgICAgdmFyIGVsZW1lbnQ7XG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhjb250YWluZXIpKSB7XG4gICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50ID0gY29udGFpbmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb250YWluZXIgZG9lcyBub3QgZXhpc3Q6ICcgKyBjb250YWluZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHN2Z1ZpZXcuc3ZnKTtcbiAgICAgICAgaWYgKHRoaXMuX29wdHMud2FybmluZ3MpIHtcbiAgICAgICAgICB0aGlzLl93YXJuQ29udGFpbmVyQXNwZWN0UmF0aW8odGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9vcHRzLnN2Z1N0eWxlKSB7XG4gICAgICAgICAgdXRpbHMuc2V0U3R5bGVzKHN2Z1ZpZXcuc3ZnLCB0aGlzLl9vcHRzLnN2Z1N0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEV4cG9zZSBwdWJsaWMgYXR0cmlidXRlcyBiZWZvcmUgUGF0aCBpbml0aWFsaXphdGlvblxuICAgICAgICB0aGlzLnN2ZyA9IHN2Z1ZpZXcuc3ZnO1xuICAgICAgICB0aGlzLnBhdGggPSBzdmdWaWV3LnBhdGg7XG4gICAgICAgIHRoaXMudHJhaWwgPSBzdmdWaWV3LnRyYWlsO1xuICAgICAgICB0aGlzLnRleHQgPSBudWxsO1xuXG4gICAgICAgIHZhciBuZXdPcHRzID0gdXRpbHMuZXh0ZW5kKHtcbiAgICAgICAgICBhdHRhY2htZW50OiB1bmRlZmluZWQsXG4gICAgICAgICAgc2hhcGU6IHRoaXNcbiAgICAgICAgfSwgdGhpcy5fb3B0cyk7XG4gICAgICAgIHRoaXMuX3Byb2dyZXNzUGF0aCA9IG5ldyBQYXRoKHN2Z1ZpZXcucGF0aCwgbmV3T3B0cyk7XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzT2JqZWN0KHRoaXMuX29wdHMudGV4dCkgJiYgdGhpcy5fb3B0cy50ZXh0LnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5zZXRUZXh0KHRoaXMuX29wdHMudGV4dC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIFNoYXBlLnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24gYW5pbWF0ZShwcm9ncmVzcywgb3B0cywgY2IpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzUGF0aCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihERVNUUk9ZRURfRVJST1IpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3NQYXRoLmFuaW1hdGUocHJvZ3Jlc3MsIG9wdHMsIGNiKTtcbiAgICAgIH07XG5cbiAgICAgIFNoYXBlLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzUGF0aCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihERVNUUk9ZRURfRVJST1IpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG9uJ3QgY3Jhc2ggaWYgc3RvcCBpcyBjYWxsZWQgaW5zaWRlIHN0ZXAgZnVuY3Rpb25cbiAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzUGF0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3NQYXRoLnN0b3AoKTtcbiAgICAgIH07XG5cbiAgICAgIFNoYXBlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzUGF0aCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihERVNUUk9ZRURfRVJST1IpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHRoaXMuc3ZnLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zdmcpO1xuICAgICAgICB0aGlzLnN2ZyA9IG51bGw7XG4gICAgICAgIHRoaXMucGF0aCA9IG51bGw7XG4gICAgICAgIHRoaXMudHJhaWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9wcm9ncmVzc1BhdGggPSBudWxsO1xuXG4gICAgICAgIGlmICh0aGlzLnRleHQgIT09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLnRleHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnRleHQpO1xuICAgICAgICAgIHRoaXMudGV4dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIFNoYXBlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQocHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzUGF0aCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihERVNUUk9ZRURfRVJST1IpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3NQYXRoLnNldChwcm9ncmVzcyk7XG4gICAgICB9O1xuXG4gICAgICBTaGFwZS5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzUGF0aCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihERVNUUk9ZRURfRVJST1IpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzUGF0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fcHJvZ3Jlc3NQYXRoLnZhbHVlKCk7XG4gICAgICB9O1xuXG4gICAgICBTaGFwZS5wcm90b3R5cGUuc2V0VGV4dCA9IGZ1bmN0aW9uIHNldFRleHQobmV3VGV4dCkge1xuICAgICAgICBpZiAodGhpcy5fcHJvZ3Jlc3NQYXRoID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKERFU1RST1lFRF9FUlJPUik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy50ZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gQ3JlYXRlIG5ldyB0ZXh0IG5vZGVcbiAgICAgICAgICB0aGlzLnRleHQgPSB0aGlzLl9jcmVhdGVUZXh0Q29udGFpbmVyKHRoaXMuX29wdHMsIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgcHJldmlvdXMgdGV4dCBhbmQgYWRkIG5ld1xuICAgICAgICBpZiAodXRpbHMuaXNPYmplY3QobmV3VGV4dCkpIHtcbiAgICAgICAgICB1dGlscy5yZW1vdmVDaGlsZHJlbih0aGlzLnRleHQpO1xuICAgICAgICAgIHRoaXMudGV4dC5hcHBlbmRDaGlsZChuZXdUZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRleHQuaW5uZXJIVE1MID0gbmV3VGV4dDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgU2hhcGUucHJvdG90eXBlLl9jcmVhdGVTdmdWaWV3ID0gZnVuY3Rpb24gX2NyZWF0ZVN2Z1ZpZXcob3B0cykge1xuICAgICAgICB2YXIgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZVN2ZyhzdmcsIG9wdHMpO1xuXG4gICAgICAgIHZhciB0cmFpbFBhdGggPSBudWxsO1xuICAgICAgICAvLyBFYWNoIG9wdGlvbiBsaXN0ZWQgaW4gdGhlIGlmIGNvbmRpdGlvbiBhcmUgJ3RyaWdnZXJzJyBmb3IgY3JlYXRpbmdcbiAgICAgICAgLy8gdGhlIHRyYWlsIHBhdGhcbiAgICAgICAgaWYgKG9wdHMudHJhaWxDb2xvciB8fCBvcHRzLnRyYWlsV2lkdGgpIHtcbiAgICAgICAgICB0cmFpbFBhdGggPSB0aGlzLl9jcmVhdGVUcmFpbChvcHRzKTtcbiAgICAgICAgICBzdmcuYXBwZW5kQ2hpbGQodHJhaWxQYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXRoID0gdGhpcy5fY3JlYXRlUGF0aChvcHRzKTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHBhdGgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3ZnOiBzdmcsXG4gICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICB0cmFpbDogdHJhaWxQYXRoXG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICBTaGFwZS5wcm90b3R5cGUuX2luaXRpYWxpemVTdmcgPSBmdW5jdGlvbiBfaW5pdGlhbGl6ZVN2ZyhzdmcsIG9wdHMpIHtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZSgndmlld0JveCcsICcwIDAgMTAwIDEwMCcpO1xuICAgICAgfTtcblxuICAgICAgU2hhcGUucHJvdG90eXBlLl9jcmVhdGVQYXRoID0gZnVuY3Rpb24gX2NyZWF0ZVBhdGgob3B0cykge1xuICAgICAgICB2YXIgcGF0aFN0cmluZyA9IHRoaXMuX3BhdGhTdHJpbmcob3B0cyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVQYXRoRWxlbWVudChwYXRoU3RyaW5nLCBvcHRzKTtcbiAgICAgIH07XG5cbiAgICAgIFNoYXBlLnByb3RvdHlwZS5fY3JlYXRlVHJhaWwgPSBmdW5jdGlvbiBfY3JlYXRlVHJhaWwob3B0cykge1xuICAgICAgICAvLyBDcmVhdGUgcGF0aCBzdHJpbmcgd2l0aCBvcmlnaW5hbCBwYXNzZWQgb3B0aW9uc1xuICAgICAgICB2YXIgcGF0aFN0cmluZyA9IHRoaXMuX3RyYWlsU3RyaW5nKG9wdHMpO1xuXG4gICAgICAgIC8vIFByZXZlbnQgbW9kaWZ5aW5nIG9yaWdpbmFsXG4gICAgICAgIHZhciBuZXdPcHRzID0gdXRpbHMuZXh0ZW5kKHt9LCBvcHRzKTtcblxuICAgICAgICAvLyBEZWZhdWx0cyBmb3IgcGFyYW1ldGVycyB3aGljaCBtb2RpZnkgdHJhaWwgcGF0aFxuICAgICAgICBpZiAoIW5ld09wdHMudHJhaWxDb2xvcikge1xuICAgICAgICAgIG5ld09wdHMudHJhaWxDb2xvciA9ICcjZWVlJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5ld09wdHMudHJhaWxXaWR0aCkge1xuICAgICAgICAgIG5ld09wdHMudHJhaWxXaWR0aCA9IG5ld09wdHMuc3Ryb2tlV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBuZXdPcHRzLmNvbG9yID0gbmV3T3B0cy50cmFpbENvbG9yO1xuICAgICAgICBuZXdPcHRzLnN0cm9rZVdpZHRoID0gbmV3T3B0cy50cmFpbFdpZHRoO1xuXG4gICAgICAgIC8vIFdoZW4gdHJhaWwgcGF0aCBpcyBzZXQsIGZpbGwgbXVzdCBiZSBzZXQgZm9yIGl0IGluc3RlYWQgb2YgdGhlXG4gICAgICAgIC8vIGFjdHVhbCBwYXRoIHRvIHByZXZlbnQgdHJhaWwgc3Ryb2tlIGZyb20gY2xpcHBpbmdcbiAgICAgICAgbmV3T3B0cy5maWxsID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlUGF0aEVsZW1lbnQocGF0aFN0cmluZywgbmV3T3B0cyk7XG4gICAgICB9O1xuXG4gICAgICBTaGFwZS5wcm90b3R5cGUuX2NyZWF0ZVBhdGhFbGVtZW50ID0gZnVuY3Rpb24gX2NyZWF0ZVBhdGhFbGVtZW50KHBhdGhTdHJpbmcsIG9wdHMpIHtcbiAgICAgICAgdmFyIHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcbiAgICAgICAgcGF0aC5zZXRBdHRyaWJ1dGUoJ2QnLCBwYXRoU3RyaW5nKTtcbiAgICAgICAgcGF0aC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsIG9wdHMuY29sb3IpO1xuICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgb3B0cy5zdHJva2VXaWR0aCk7XG5cbiAgICAgICAgaWYgKG9wdHMuZmlsbCkge1xuICAgICAgICAgIHBhdGguc2V0QXR0cmlidXRlKCdmaWxsJywgb3B0cy5maWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnZmlsbC1vcGFjaXR5JywgJzAnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfTtcblxuICAgICAgU2hhcGUucHJvdG90eXBlLl9jcmVhdGVUZXh0Q29udGFpbmVyID0gZnVuY3Rpb24gX2NyZWF0ZVRleHRDb250YWluZXIob3B0cywgY29udGFpbmVyKSB7XG4gICAgICAgIHZhciB0ZXh0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRleHRDb250YWluZXIuY2xhc3NOYW1lID0gb3B0cy50ZXh0LmNsYXNzTmFtZTtcblxuICAgICAgICB2YXIgdGV4dFN0eWxlID0gb3B0cy50ZXh0LnN0eWxlO1xuICAgICAgICBpZiAodGV4dFN0eWxlKSB7XG4gICAgICAgICAgaWYgKG9wdHMudGV4dC5hdXRvU3R5bGVDb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdXRpbHMuc2V0U3R5bGVzKHRleHRDb250YWluZXIsIHRleHRTdHlsZSk7XG4gICAgICAgICAgLy8gRGVmYXVsdCB0ZXh0IGNvbG9yIHRvIHByb2dyZXNzIGJhcidzIGNvbG9yXG4gICAgICAgICAgaWYgKCF0ZXh0U3R5bGUuY29sb3IpIHtcbiAgICAgICAgICAgIHRleHRDb250YWluZXIuc3R5bGUuY29sb3IgPSBvcHRzLmNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVUZXh0Q29udGFpbmVyKG9wdHMsIGNvbnRhaW5lciwgdGV4dENvbnRhaW5lcik7XG4gICAgICAgIHJldHVybiB0ZXh0Q29udGFpbmVyO1xuICAgICAgfTtcblxuICAgICAgLy8gR2l2ZSBjdXN0b20gc2hhcGVzIHBvc3NpYmlsaXR5IHRvIG1vZGlmeSB0ZXh0IGVsZW1lbnRcbiAgICAgIFNoYXBlLnByb3RvdHlwZS5faW5pdGlhbGl6ZVRleHRDb250YWluZXIgPSBmdW5jdGlvbihvcHRzLCBjb250YWluZXIsIGVsZW1lbnQpIHtcbiAgICAgICAgLy8gQnkgZGVmYXVsdCwgbm8tb3BcbiAgICAgICAgLy8gQ3VzdG9tIHNoYXBlcyBzaG91bGQgcmVzcGVjdCBBUEkgb3B0aW9ucywgc3VjaCBhcyB0ZXh0LnN0eWxlXG4gICAgICB9O1xuXG4gICAgICBTaGFwZS5wcm90b3R5cGUuX3BhdGhTdHJpbmcgPSBmdW5jdGlvbiBfcGF0aFN0cmluZyhvcHRzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiBmb3IgZWFjaCBwcm9ncmVzcyBiYXInKTtcbiAgICAgIH07XG5cbiAgICAgIFNoYXBlLnByb3RvdHlwZS5fdHJhaWxTdHJpbmcgPSBmdW5jdGlvbiBfdHJhaWxTdHJpbmcob3B0cykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ092ZXJyaWRlIHRoaXMgZnVuY3Rpb24gZm9yIGVhY2ggcHJvZ3Jlc3MgYmFyJyk7XG4gICAgICB9O1xuXG4gICAgICBTaGFwZS5wcm90b3R5cGUuX3dhcm5Db250YWluZXJBc3BlY3RSYXRpbyA9IGZ1bmN0aW9uIF93YXJuQ29udGFpbmVyQXNwZWN0UmF0aW8oY29udGFpbmVyKSB7XG4gICAgICAgIGlmICghdGhpcy5jb250YWluZXJBc3BlY3RSYXRpbykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoY29udGFpbmVyLCBudWxsKTtcbiAgICAgICAgdmFyIHdpZHRoID0gcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3dpZHRoJyksIDEwKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdoZWlnaHQnKSwgMTApO1xuICAgICAgICBpZiAoIXV0aWxzLmZsb2F0RXF1YWxzKHRoaXMuY29udGFpbmVyQXNwZWN0UmF0aW8sIHdpZHRoIC8gaGVpZ2h0KSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICdJbmNvcnJlY3QgYXNwZWN0IHJhdGlvIG9mIGNvbnRhaW5lcicsXG4gICAgICAgICAgICAnIycgKyBjb250YWluZXIuaWQsXG4gICAgICAgICAgICAnZGV0ZWN0ZWQ6JyxcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnd2lkdGgnKSArICcod2lkdGgpJyxcbiAgICAgICAgICAgICcvJyxcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnaGVpZ2h0JykgKyAnKGhlaWdodCknLFxuICAgICAgICAgICAgJz0nLFxuICAgICAgICAgICAgd2lkdGggLyBoZWlnaHRcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgJ0FzcGVjdCByYXRpbyBvZiBzaG91bGQgYmUnLFxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJBc3BlY3RSYXRpb1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIG1vZHVsZS5leHBvcnRzID0gU2hhcGU7XG5cbiAgICB9LCB7IFwiLi9wYXRoXCI6IDUsIFwiLi91dGlsc1wiOiA4IH1dLFxuICAgIDg6IFtmdW5jdGlvbihyZXF1aXJlLCBtb2R1bGUsIGV4cG9ydHMpIHtcbiAgICAgIC8vIFV0aWxpdHkgZnVuY3Rpb25zXG5cbiAgICAgIHZhciBQUkVGSVhFUyA9ICdXZWJraXQgTW96IE8gbXMnLnNwbGl0KCcgJyk7XG4gICAgICB2YXIgRkxPQVRfQ09NUEFSSVNPTl9FUFNJTE9OID0gMC4wMDE7XG5cbiAgICAgIC8vIENvcHkgYWxsIGF0dHJpYnV0ZXMgZnJvbSBzb3VyY2Ugb2JqZWN0IHRvIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgIC8vIGRlc3RpbmF0aW9uIG9iamVjdCBpcyBtdXRhdGVkLlxuICAgICAgZnVuY3Rpb24gZXh0ZW5kKGRlc3RpbmF0aW9uLCBzb3VyY2UsIHJlY3Vyc2l2ZSkge1xuICAgICAgICBkZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uIHx8IHt9O1xuICAgICAgICBzb3VyY2UgPSBzb3VyY2UgfHwge307XG4gICAgICAgIHJlY3Vyc2l2ZSA9IHJlY3Vyc2l2ZSB8fCBmYWxzZTtcblxuICAgICAgICBmb3IgKHZhciBhdHRyTmFtZSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGF0dHJOYW1lKSkge1xuICAgICAgICAgICAgdmFyIGRlc3RWYWwgPSBkZXN0aW5hdGlvblthdHRyTmFtZV07XG4gICAgICAgICAgICB2YXIgc291cmNlVmFsID0gc291cmNlW2F0dHJOYW1lXTtcbiAgICAgICAgICAgIGlmIChyZWN1cnNpdmUgJiYgaXNPYmplY3QoZGVzdFZhbCkgJiYgaXNPYmplY3Qoc291cmNlVmFsKSkge1xuICAgICAgICAgICAgICBkZXN0aW5hdGlvblthdHRyTmFtZV0gPSBleHRlbmQoZGVzdFZhbCwgc291cmNlVmFsLCByZWN1cnNpdmUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZGVzdGluYXRpb25bYXR0ck5hbWVdID0gc291cmNlVmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgICAgIH1cblxuICAgICAgLy8gUmVuZGVycyB0ZW1wbGF0ZXMgd2l0aCBnaXZlbiB2YXJpYWJsZXMuIFZhcmlhYmxlcyBtdXN0IGJlIHN1cnJvdW5kZWQgd2l0aFxuICAgICAgLy8gYnJhY2VzIHdpdGhvdXQgYW55IHNwYWNlcywgZS5nLiB7dmFyaWFibGV9XG4gICAgICAvLyBBbGwgaW5zdGFuY2VzIG9mIHZhcmlhYmxlIHBsYWNlaG9sZGVycyB3aWxsIGJlIHJlcGxhY2VkIHdpdGggZ2l2ZW4gY29udGVudFxuICAgICAgLy8gRXhhbXBsZTpcbiAgICAgIC8vIHJlbmRlcignSGVsbG8sIHttZXNzYWdlfSEnLCB7bWVzc2FnZTogJ3dvcmxkJ30pXG4gICAgICBmdW5jdGlvbiByZW5kZXIodGVtcGxhdGUsIHZhcnMpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVkID0gdGVtcGxhdGU7XG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHZhcnMpIHtcbiAgICAgICAgICBpZiAodmFycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gdmFyc1trZXldO1xuICAgICAgICAgICAgdmFyIHJlZ0V4cFN0cmluZyA9ICdcXFxceycgKyBrZXkgKyAnXFxcXH0nO1xuICAgICAgICAgICAgdmFyIHJlZ0V4cCA9IG5ldyBSZWdFeHAocmVnRXhwU3RyaW5nLCAnZycpO1xuXG4gICAgICAgICAgICByZW5kZXJlZCA9IHJlbmRlcmVkLnJlcGxhY2UocmVnRXhwLCB2YWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZW5kZXJlZDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2V0U3R5bGUoZWxlbWVudCwgc3R5bGUsIHZhbHVlKSB7XG4gICAgICAgIHZhciBlbFN0eWxlID0gZWxlbWVudC5zdHlsZTsgLy8gY2FjaGUgZm9yIHBlcmZvcm1hbmNlXG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBQUkVGSVhFUy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIHZhciBwcmVmaXggPSBQUkVGSVhFU1tpXTtcbiAgICAgICAgICBlbFN0eWxlW3ByZWZpeCArIGNhcGl0YWxpemUoc3R5bGUpXSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxTdHlsZVtzdHlsZV0gPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2V0U3R5bGVzKGVsZW1lbnQsIHN0eWxlcykge1xuICAgICAgICBmb3JFYWNoT2JqZWN0KHN0eWxlcywgZnVuY3Rpb24oc3R5bGVWYWx1ZSwgc3R5bGVOYW1lKSB7XG4gICAgICAgICAgLy8gQWxsb3cgZGlzYWJsaW5nIHNvbWUgaW5kaXZpZHVhbCBzdHlsZXMgYnkgc2V0dGluZyB0aGVtXG4gICAgICAgICAgLy8gdG8gbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICBpZiAoc3R5bGVWYWx1ZSA9PT0gbnVsbCB8fCBzdHlsZVZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJZiBzdHlsZSdzIHZhbHVlIGlzIHtwcmVmaXg6IHRydWUsIHZhbHVlOiAnNTAlJ30sXG4gICAgICAgICAgLy8gU2V0IGFsc28gYnJvd3NlciBwcmVmaXhlZCBzdHlsZXNcbiAgICAgICAgICBpZiAoaXNPYmplY3Qoc3R5bGVWYWx1ZSkgJiYgc3R5bGVWYWx1ZS5wcmVmaXggPT09IHRydWUpIHtcbiAgICAgICAgICAgIHNldFN0eWxlKGVsZW1lbnQsIHN0eWxlTmFtZSwgc3R5bGVWYWx1ZS52YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbc3R5bGVOYW1lXSA9IHN0eWxlVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FwaXRhbGl6ZSh0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0ZXh0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdGV4dC5zbGljZSgxKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaXNTdHJpbmcob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJyB8fCBvYmogaW5zdGFuY2VvZiBTdHJpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpc0FycmF5KG9iaikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgICB9XG5cbiAgICAgIC8vIFJldHVybnMgdHJ1ZSBpZiBgb2JqYCBpcyBvYmplY3QgYXMgaW4ge2E6IDEsIGI6IDJ9LCBub3QgaWYgaXQncyBmdW5jdGlvbiBvclxuICAgICAgLy8gYXJyYXlcbiAgICAgIGZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICAgICAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHR5cGUgPSB0eXBlb2Ygb2JqO1xuICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ29iamVjdCcgJiYgISFvYmo7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZvckVhY2hPYmplY3Qob2JqZWN0LCBjYWxsYmFjaykge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgICBjYWxsYmFjayh2YWwsIGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZsb2F0RXF1YWxzKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8IEZMT0FUX0NPTVBBUklTT05fRVBTSUxPTjtcbiAgICAgIH1cblxuICAgICAgLy8gaHR0cHM6Ly9jb2RlcndhbGwuY29tL3AvbnlnZ2h3L2Rvbi10LXVzZS1pbm5lcmh0bWwtdG8tZW1wdHktZG9tLWVsZW1lbnRzXG4gICAgICBmdW5jdGlvbiByZW1vdmVDaGlsZHJlbihlbCkge1xuICAgICAgICB3aGlsZSAoZWwuZmlyc3RDaGlsZCkge1xuICAgICAgICAgIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgICBleHRlbmQ6IGV4dGVuZCxcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHNldFN0eWxlOiBzZXRTdHlsZSxcbiAgICAgICAgc2V0U3R5bGVzOiBzZXRTdHlsZXMsXG4gICAgICAgIGNhcGl0YWxpemU6IGNhcGl0YWxpemUsXG4gICAgICAgIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgICAgICAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgICAgICAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuICAgICAgICBmb3JFYWNoT2JqZWN0OiBmb3JFYWNoT2JqZWN0LFxuICAgICAgICBmbG9hdEVxdWFsczogZmxvYXRFcXVhbHMsXG4gICAgICAgIHJlbW92ZUNoaWxkcmVuOiByZW1vdmVDaGlsZHJlblxuICAgICAgfTtcblxuICAgIH0sIHt9XVxuICB9LCB7fSwgWzRdKSg0KVxufSk7XG4iXX0=
